function show_sidebar_menu(t){if(!isxs()){if(public_vars.isRightSidebar)return void rb_show_sidebar_menu(t);if(t){if(public_vars.$mainMenu.data("is-busy")||!public_vars.$pageContainer.hasClass(public_vars.sidebarCollapseClass))return;fit_main_content_height();parseInt(public_vars.$pageContainer.css("padding-left"),10);public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass);var e=parseInt(public_vars.$pageContainer.css("padding-left"),10),i=public_vars.$mainMenu.find("li a span"),n=public_vars.$mainMenu.find(".has-sub > ul"),r=(public_vars.$mainMenu.find("#search .search-input"),public_vars.$mainMenu.find("#search button"),public_vars.$sidebarMenu.find(".logo-env")),s=(r.find(".sidebar-collapse"),r.find(".logo")),a=(public_vars.$sidebarUser.find("span, strong"),parseInt(r.css("padding"),10));public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass),setTimeout(function(){public_vars.$pageContainer.addClass(public_vars.sidebarOnShowTransitionClass)},1);public_vars.$mainMenu.data("is-busy",!0),public_vars.$pageContainer.addClass(public_vars.sidebarOnTransitionClass),public_vars.$pageContainer.transit({paddingLeft:e},public_vars.sidebarTransitionTime),public_vars.$sidebarMenu.transit({width:e},public_vars.sidebarTransitionTime),r.transit({padding:a},public_vars.sidebarTransitionTime),setTimeout(function(){s.css({width:"auto",height:"auto"}),TweenMax.set(s,{css:{scaleY:0}}),TweenMax.to(s,public_vars.sidebarTransitionTime/2/1100,{css:{scaleY:1}}),setTimeout(function(){public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass),n.hide().filter(".visible").slideDown("normal",function(){n.attr("style","")}),public_vars.$pageContainer.removeClass(public_vars.sidebarOnShowTransitionClass),setTimeout(function(){public_vars.$pageContainer.add(public_vars.$sidebarMenu).add(r).add(s).add(i).add(n).attr("style",""),public_vars.$pageContainer.removeClass(public_vars.sidebarOnTransitionClass),public_vars.$mainMenu.data("is-busy",!1),fit_main_content_height()},public_vars.sidebarTransitionTime)},public_vars.sidebarTransitionTime/2)},public_vars.sidebarTransitionTime/2)}else public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass)}}function hide_sidebar_menu(t){if(!isxs()){if(public_vars.isRightSidebar)return void rb_hide_sidebar_menu(t);if(t){if(public_vars.$mainMenu.data("is-busy")||public_vars.$pageContainer.hasClass(public_vars.sidebarCollapseClass))return;fit_main_content_height();var e=parseInt(public_vars.$pageContainer.css("padding-left"),10);public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass);var i=parseInt(public_vars.$pageContainer.css("padding-left"),10),n=public_vars.$mainMenu.find("li a span"),r=public_vars.$mainMenu.find(".has-sub > ul"),s=public_vars.$mainMenu.find("#search .search-input"),a=public_vars.$mainMenu.find("#search button"),o=public_vars.$sidebarMenu.find(".logo-env"),l=o.find(".sidebar-collapse"),h=o.find(".logo"),c=public_vars.$sidebarUser.find("span, strong"),u=parseInt(o.css("padding"),10);public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass);var d=e-i;public_vars.$mainMenu.data("is-busy",!0),public_vars.$pageContainer.addClass(public_vars.sidebarOnTransitionClass),setTimeout(function(){public_vars.$pageContainer.addClass(public_vars.sidebarOnHideTransitionClass)},1),TweenMax.to(r,public_vars.sidebarTransitionTime/1100,{css:{height:0}}),a.transit({right:d},public_vars.sidebarTransitionTime),h.transit({scale:[1,0],perspective:300},public_vars.sidebarTransitionTime/2),o.transit({padding:u},public_vars.sidebarTransitionTime),rtl()||TweenMax.to(l,.5,{css:{left:-d+3},delay:.1}),public_vars.$pageContainer.transit({paddingLeft:i},public_vars.sidebarTransitionTime),TweenMax.set(c,{css:{opacity:0}}),setTimeout(function(){public_vars.$pageContainer.add(public_vars.$sidebarMenu).add(s).add(a).add(o).add(h).add(n).add(l).add(r).add(c).add(public_vars.$mainMenu).attr("style",""),public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass),public_vars.$mainMenu.data("is-busy",!1),public_vars.$pageContainer.removeClass(public_vars.sidebarOnTransitionClass).removeClass(public_vars.sidebarOnHideTransitionClass),fit_main_content_height()},public_vars.sidebarTransitionTime)}else public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass)}}function toggle_sidebar_menu(t){var e=public_vars.$pageContainer.hasClass(public_vars.sidebarCollapseClass);e?show_sidebar_menu(t):hide_sidebar_menu(t)}function rtl(){return"boolean"==typeof window.isRTL?window.isRTL:(window.isRTL="rtl"==jQuery("html").get(0).dir?!0:!1,window.isRTL)}function rtlc(){return rtl()?-1:1}function rb_hide_sidebar_menu(t){if(t){if(public_vars.$mainMenu.data("is-busy")||public_vars.$pageContainer.hasClass(public_vars.sidebarCollapseClass))return;fit_main_content_height();parseInt(public_vars.$pageContainer.css("padding-left"),10);public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass);var e=(parseInt(public_vars.$pageContainer.css("padding-left"),10),public_vars.$mainMenu.find("li a span")),i=public_vars.$mainMenu.find(".has-sub > ul"),n=public_vars.$mainMenu.find("#search .search-input"),r=public_vars.$mainMenu.find("#search button"),s=public_vars.$sidebarMenu.find(".logo-env"),a=s.find(".sidebar-collapse"),o=s.find(".logo"),l=public_vars.$sidebarUser.find("span, strong"),h=parseInt(s.css("padding"),10);public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass);public_vars.$mainMenu.data("is-busy",!0),public_vars.$pageContainer.addClass(public_vars.sidebarOnTransitionClass),setTimeout(function(){public_vars.$pageContainer.addClass(public_vars.sidebarOnHideTransitionClass)},1),TweenMax.to(i,public_vars.sidebarTransitionTime/1100,{css:{height:0}}),o.transit({scale:[1,0],perspective:300},public_vars.sidebarTransitionTime/2),s.transit({padding:h},public_vars.sidebarTransitionTime),setTimeout(function(){public_vars.$pageContainer.addClass("sidebar-collapsing-phase-2"),setTimeout(function(){public_vars.$mainMenu.data("is-busy",!1),public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass),public_vars.$pageContainer.removeClass("sidebar-collapsing-phase-2"),console.log(public_vars.sidebarTransitionTime),public_vars.$pageContainer.add(public_vars.$sidebarMenu).add(n).add(r).add(s).add(o).add(e).add(a).add(i).add(l).add(public_vars.$mainMenu).add(a).attr("style",""),public_vars.$pageContainer.removeClass(public_vars.sidebarOnTransitionClass).removeClass(public_vars.sidebarOnHideTransitionClass),fit_main_content_height()},public_vars.sidebarTransitionTime)},public_vars.sidebarTransitionTime/2)}else public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass)}function rb_show_sidebar_menu(t){if(t){if(public_vars.$mainMenu.data("is-busy")||!public_vars.$pageContainer.hasClass(public_vars.sidebarCollapseClass))return;fit_main_content_height();parseInt(public_vars.$pageContainer.css("padding-right"),10);public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass);var e=parseInt(public_vars.$pageContainer.css("padding-right"),10),i=public_vars.$mainMenu.find("li a span"),n=public_vars.$mainMenu.find(".has-sub > ul"),r=(public_vars.$mainMenu.find("#search .search-input"),public_vars.$mainMenu.find("#search button"),public_vars.$sidebarMenu.find(".logo-env")),s=r.find(".sidebar-collapse"),a=r.find(".logo"),o=(public_vars.$sidebarUser.find("span, strong"),parseInt(r.css("padding"),10));public_vars.$pageContainer.addClass(public_vars.sidebarCollapseClass),setTimeout(function(){public_vars.$pageContainer.addClass(public_vars.sidebarOnShowTransitionClass)},1);public_vars.$mainMenu.data("is-busy",!0),public_vars.$pageContainer.addClass(public_vars.sidebarOnTransitionClass),public_vars.$pageContainer.transit({paddingRight:e},public_vars.sidebarTransitionTime),public_vars.$sidebarMenu.transit({width:e},public_vars.sidebarTransitionTime),r.transit({padding:o},public_vars.sidebarTransitionTime),setTimeout(function(){public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass),n.hide().filter(".visible").slideDown("normal",function(){n.attr("style","")}),a.css({width:"auto",height:"auto"}),TweenMax.set(a,{css:{scaleY:0}}),TweenMax.to(a,public_vars.sidebarTransitionTime/2/1e3,{css:{scaleY:1}}),setTimeout(function(){public_vars.$pageContainer.removeClass(public_vars.sidebarOnTransitionClass),public_vars.$pageContainer.removeClass(public_vars.sidebarOnShowTransitionClass),setTimeout(function(){public_vars.$pageContainer.add(public_vars.$sidebarMenu).add(r).add(a).add(i).add(n).add(s).attr("style",""),public_vars.$pageContainer.removeClass(public_vars.sidebarOnTransitionClass),public_vars.$mainMenu.data("is-busy",!1),fit_main_content_height()},public_vars.sidebarTransitionTime)},public_vars.sidebarTransitionTime/2)},public_vars.sidebarTransitionTime/2)}else public_vars.$pageContainer.removeClass(public_vars.sidebarCollapseClass)}function resizable(t){var e;is("largescreen")&&(e=public_vars.$sidebarMenu.find(".sidebar-collapse-icon").hasClass("with-animation")||public_vars.$sidebarMenu.hasClass("with-animation"),"open"==public_vars.$sidebarMenu.data("initial-state")?show_sidebar_menu(e):hide_sidebar_menu(e)),ismdxl()&&public_vars.$mainMenu.attr("style",""),is("tabletscreen")&&(e=public_vars.$sidebarMenu.find(".sidebar-collapse-icon").hasClass("with-animation")||public_vars.$sidebarMenu.hasClass("with-animation"),hide_sidebar_menu(e)),isxs()&&public_vars.$pageContainer.removeClass("sidebar-collapsed"),$(window).trigger("neon.resize"),fit_main_content_height()}function get_current_breakpoint(){var t=$(window).width(),e=public_vars.breakpoints;for(var i in e){var n=e[i],r=n[0],s=n[1];if(-1==s&&(s=t),t>=r&&s>=t)return i}return null}function is(t){return get_current_breakpoint()==t}function isxs(){return is("devicescreen")||is("sdevicescreen")}function ismdxl(){return is("tabletscreen")||is("largescreen")}function trigger_resizable(){public_vars.lastBreakpoint!=get_current_breakpoint()&&(public_vars.lastBreakpoint=get_current_breakpoint(),resizable(public_vars.lastBreakpoint))}function fit_main_content_height(){var t=jQuery;if(public_vars.$sidebarMenu.length){if(public_vars.$sidebarMenu.css({minHeight:"",height:""}),public_vars.$mainContent.css("min-height",""),isxs())return void("undefined"!=typeof reset_mail_container_height&&reset_mail_container_height());var e=public_vars.$sidebarMenu.outerHeight(),i=(public_vars.$mainContent.outerHeight(),t(document).height()),n=t(window).height();if(n>i&&(i=n),public_vars.$horizontalMenu.length>0){var r=public_vars.$horizontalMenu.outerHeight();i-=r,e-=r}public_vars.$mainContent.css("min-height",i),public_vars.$sidebarMenu.css("min-height",i),public_vars.$chat.css("min-height",i),public_vars.$sidebarMenu.hasClass("fixed")&&public_vars.$sidebarMenu.css({height:n,minHeight:n}),"undefined"!=typeof fit_mail_container_height&&fit_mail_container_height(),"undefined"!=typeof fit_calendar_container_height&&fit_calendar_container_height()}}function setup_sidebar_menu(){var t=jQuery,e=public_vars.$sidebarMenu.find("li:has(ul)"),i={submenu_open_delay:.5,submenu_open_easing:Sine.easeInOut,submenu_opened_class:"opened"},n="root-level",r=public_vars.$mainMenu.hasClass("multiple-expanded");public_vars.$mainMenu.find("> li").addClass(n),e.each(function(e,s){var a=t(s),o=a.find("> a"),l=a.find("> ul");a.addClass("has-sub"),o.click(function(e){if(e.preventDefault(),!r&&a.hasClass(n)){var s=public_vars.$mainMenu.find("."+n).not(a).find("> ul");s.each(function(e,n){var r=t(n);menu_do_collapse(r,r.parent(),i)})}if(a.hasClass(i.submenu_opened_class))menu_do_collapse(l,a,i);else{l.is(":visible")||menu_do_expand(l,a,i)}fit_main_content_height()})}),public_vars.$mainMenu.find("."+i.submenu_opened_class+" > ul").addClass("visible"),public_vars.$mainMenu.hasClass("auto-inherit-active-class")&&menu_set_active_class_to_parents(public_vars.$mainMenu.find(".active"));var s=public_vars.$mainMenu.find('#search input[type="text"]'),a=public_vars.$mainMenu.find("#search");public_vars.$mainMenu.find("#search form").submit(function(t){var e=public_vars.$pageContainer.hasClass("sidebar-collapsed");return e&&0==a.hasClass("focused")?(t.preventDefault(),a.addClass("focused"),s.focus(),!1):void 0}),s.on("blur",function(t){var e=public_vars.$pageContainer.hasClass("sidebar-collapsed");e&&a.removeClass("focused")});var o=t("");public_vars.$sidebarMenu.find(".logo-env").append(o)}function menu_do_expand(t,e,i){t.addClass("visible").height(""),current_height=t.outerHeight();var n={opacity:.2,height:0,top:-20},r={height:current_height,opacity:1,top:0};isxs()&&(delete n.opacity,delete n.top,delete r.opacity,delete r.top),TweenMax.set(t,{css:n}),e.addClass(i.submenu_opened_class),TweenMax.to(t,i.submenu_open_delay,{css:r,ease:i.submenu_open_easing,onComplete:function(){t.attr("style",""),fit_main_content_height()}})}function menu_do_collapse(t,e,i){public_vars.$pageContainer.hasClass("sidebar-collapsed")&&e.hasClass("root-level")||(e.removeClass(i.submenu_opened_class),TweenMax.to(t,i.submenu_open_delay,{css:{height:0,opacity:.2},ease:i.submenu_open_easing,onComplete:function(){t.removeClass("visible"),fit_main_content_height()}}))}function menu_set_active_class_to_parents(t){if(t.length){var e=t.parent().parent();e.addClass("active"),e.hasClass("root-level")||menu_set_active_class_to_parents(e)}}function setup_horizontal_menu(){var t=jQuery,e=public_vars.$horizontalMenu.find(".navbar-nav"),i=e.find("li:has(ul)"),n=public_vars.$horizontalMenu.find("li#search"),r=n.find(".search-input"),s=n.find("form"),a="root-level";is_multiopen=e.hasClass("multiple-expanded"),submenu_options={submenu_open_delay:.5,submenu_open_easing:Sine.easeInOut,submenu_opened_class:"opened"},e.find("> li").addClass(a),i.each(function(i,n){var r=t(n),s=r.find("> a"),o=r.find("> ul");r.addClass("has-sub"),setup_horizontal_menu_hover(r,o),s.click(function(i){if(isxs()){if(i.preventDefault(),!is_multiopen&&r.hasClass(a)){var n=e.find("."+a).not(r).find("> ul");n.each(function(e,i){var n=t(i);menu_do_collapse(n,n.parent(),submenu_options)})}if(r.hasClass(submenu_options.submenu_opened_class))menu_do_collapse(o,r,submenu_options);else{o.is(":visible")||menu_do_expand(o,r,submenu_options)}fit_main_content_height()}})}),n.hasClass("search-input-collapsed")&&(s.submit(function(t){return n.hasClass("search-input-collapsed")?(t.preventDefault(),n.removeClass("search-input-collapsed"),r.focus(),!1):void 0}),r.on("blur",function(t){n.addClass("search-input-collapsed")}))}function setup_horizontal_menu_hover(t,e){var i=.5,n=-10,r=Quad.easeInOut;TweenMax.set(e,{css:{autoAlpha:0,transform:"translateX("+n+"px)"}}),t.hoverIntent({over:function(){return isxs()?!1:("none"==e.css("display")&&e.css({display:"block",visibility:"hidden"}),e.css({zIndex:++public_vars.hover_index}),void TweenMax.to(e,i,{css:{autoAlpha:1,transform:"translateX(0px)"},ease:r}))},out:function(){return isxs()?!1:void TweenMax.to(e,i,{css:{autoAlpha:0,transform:"translateX("+n+"px)"},ease:r,onComplete:function(){TweenMax.set(e,{css:{transform:"translateX("+n+"px)"}}),e.css({display:"none"})}})},timeout:300,interval:50})}function blockUI(t){t.block({message:"",css:{border:"none",padding:"0px",backgroundColor:"none"},overlayCSS:{backgroundColor:"#fff",opacity:.3,cursor:"wait"}})}function unblockUI(t){t.unblock()}function attrDefault(t,e,i){return"undefined"!=typeof t.data(e)?t.data(e):i}function callback_test(){alert("Callback function executed! No. of arguments: "+arguments.length+"\n\nSee console log for outputed of the arguments."),console.log(arguments)}function setCurrentProgressTab(t,e,i,n,r){i.prevAll().addClass("completed"),i.nextAll().removeClass("completed");var s=e.children().length,a=(parseInt((r+1)/s*100,10),e.find("li:first-child")),o=1/(2*s)*100+"%";a.hasClass("active")?n.width(0):rtl()?(console.log("I'm if"),console.log(r),console.log(s),n.width(n.parent().outerWidth(!0)-i.prev().position().left-i.find("span").width()/2)):(r+=1,n.width((r-1)/(s-1)*100+"%")),n.parent().css({marginLeft:o,marginRight:o})}function replaceCheckboxes(){var t=jQuery;t(".checkbox-replace:not(.neon-cb-replacement), .radio-replace:not(.neon-cb-replacement)").each(function(e,i){var n=t(i),r=n.find("input:first"),s=t('<label class="cb-wrapper" />'),a=t('<div class="checked" />'),o="checked",l=r.is('[type="radio"]'),h=r.attr("name");n.addClass("neon-cb-replacement"),r.wrap(s),s=r.parent(),s.append(a).next("label").on("click",function(t){s.click()}),r.on("change",function(e){l&&t(".neon-cb-replacement input[type=radio][name='"+h+"']:not(:checked)").closest(".neon-cb-replacement").removeClass(o),r.is(":disabled")&&s.addClass("disabled"),n[r.is(":checked")?"addClass":"removeClass"](o)}).trigger("change")})}function scrollToBottom(t){var e=jQuery;"string"==typeof t&&(t=e(t)),t.get(0).scrollTop=t.get(0).scrollHeight}function elementInViewport(t){for(var e=t.offsetTop,i=t.offsetLeft,n=t.offsetWidth,r=t.offsetHeight;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,i+=t.offsetLeft;return e>=window.pageYOffset&&i>=window.pageXOffset&&e+r<=window.pageYOffset+window.innerHeight&&i+n<=window.pageXOffset+window.innerWidth}function disableXOverflow(){public_vars.$body.addClass("overflow-x-disabled")}function enableXOverflow(){public_vars.$body.removeClass("overflow-x-disabled")}function init_page_transitions(){fit_main_content_height();var t=["page-fade","page-left-in","page-right-in","page-fade-only"];for(var e in t){var i=t[e];if(public_vars.$body.hasClass(i))return public_vars.$body.addClass(i+"-init"),void setTimeout(function(){public_vars.$body.removeClass(i+" "+i+"-init")},850)}}function onPageAppear(t){var e,i,n;"undefined"!=typeof document.hidden?(e="hidden",n="visibilitychange",i="visibilityState"):"undefined"!=typeof document.mozHidden?(e="mozHidden",n="mozvisibilitychange",i="mozVisibilityState"):"undefined"!=typeof document.msHidden?(e="msHidden",n="msvisibilitychange",i="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",n="webkitvisibilitychange",i="webkitVisibilityState"),(document[i]||"undefined"==typeof document[i])&&t(),document.addEventListener(n,t,!1)}function continueWrappingPanelTables(){var t=jQuery(".panel-body.with-table + table");t.length&&(t.wrap('<div class="panel-body with-table"></div>'),continueWrappingPanelTables())}function show_loading_bar(t){var e={pct:0,delay:1.3,wait:0,before:function(){},finish:function(){},resetOnEnd:!0};"object"==typeof t?e=jQuery.extend(e,t):"number"==typeof t&&(e.pct=t),e.pct>100?e.pct=100:e.pct<0&&(e.pct=0);var i=jQuery,n=i(".neon-loading-bar");0==n.length&&(n=i('<div class="neon-loading-bar progress-is-hidden"><span data-pct="0"></span></div>'),public_vars.$body.append(n));var r=n.find("span"),s=r.data("pct"),a=s>e.pct;e.before(s),TweenMax.to(r,e.delay,{css:{width:e.pct+"%"},delay:e.wait,ease:a?Expo.easeOut:Expo.easeIn,onStart:function(){n.removeClass("progress-is-hidden")},onComplete:function(){var t=r.data("pct");100==t&&e.resetOnEnd&&hide_loading_bar(),e.finish(t)},onUpdate:function(){r.data("pct",parseInt(r.get(0).style.width,10))}})}function hide_loading_bar(){var t=jQuery,e=t(".neon-loading-bar"),i=e.find("span");e.addClass("progress-is-hidden"),i.width(0).data("pct")}(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=window.GreenSockGlobals||window,s=r.com.greensock,a=2*Math.PI,o=Math.PI/2,l=s._class,h=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},u=function(t,e,i,n){var r=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(r,t),r},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},f=u("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,a,o,l=e.taper||"none",h=[],c=0,u=0|(e.points||20),p=u,f=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(s=1-i,r=s*s*v):"in"===l?r=i*i*v:.5>i?(s=2*i,r=.5*s*s*v):(s=2*(1-i),r=.5*s*s*v),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:0>n&&(n=0)),h[c++]={x:i,y:n};for(h.sort(function(t,e){return t.x-e.x}),o=new d(1,1,null),p=u;--p>-1;)a=h[p],o=new d(a.x,a.y,o);this._prev=new d(0,0,0!==o.t?o:o.next)},!0),m=i.prototype=new t,m.constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,u("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},u("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*a/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2))},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*a/this._p2)+1},.45)),u("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",h("SineOut",function(t){return Math.sin(t*o)}),h("SineIn",function(t){return-Math.cos(t*o)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),f},!0)}),window._gsDefine&&window._gsQueue.pop()(),(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=[].slice,r=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},s=1e-10,a=i._internals.isSelector,o=i._internals.isArray,l=r.prototype=i.to({},.1,{}),h=[];r.version="1.11.1",l.constructor=r,l.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.ticker=i.ticker,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var n,r=this.ratio;e&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted)if(e)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var a,o=1/(1-r),l=this._firstPT;l;)a=l.s+l.c,l.c*=o,l.s=a-l.c,l=l._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,a,o,l,c,u,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,g=this._totalTime,m=this._cycle,v=this._duration;if(t>=p?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete"),0===v&&(d=this._rawPrevTime,(0===t||0>d||d===s)&&d!==t&&(i=!0,d>s&&(r="onReverseComplete")),this._rawPrevTime=d=!e||t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&this._rawPrevTime>s)&&(r="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===v&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=d=!e||t?t:s)):this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(o=v+this._repeatDelay,this._cycle=this._totalTime/o>>0,0!==this._cycle&&this._cycle===this._totalTime/o&&this._cycle--,this._time=this._totalTime-this._cycle*o,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:0>this._time&&(this._time=0)),this._easeType?(l=this._time/v,c=this._easeType,u=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),this.ratio=1===c?1-l:2===c?l:.5>this._time/v?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/v)),f===this._time&&!i&&m===this._cycle)return void(g!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==f&&t>=0&&(this._active=!0),0===g&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h)),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||h)),r&&(this._gc||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||h),0===v&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0)))},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(t,e,i)},r.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new r(t,e,n)},r.staggerTo=r.allTo=function(t,e,s,l,c,u,d){l=l||0;var p,f,g,m,v=s.delay||0,y=[],b=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),c.apply(d||this,u||h)};for(o(t)||("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=n.call(t,0))),p=t.length,g=0;p>g;g++){f={};for(m in s)f[m]=s[m];f.delay=v,g===p-1&&c&&(f.onComplete=b),y[g]=new r(t[g],e,f),v+=l}return y},r.staggerFrom=r.allFrom=function(t,e,i,n,s,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(t,e,i,n,s,a,o)},r.staggerFromTo=r.allFromTo=function(t,e,i,n,s,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,r.staggerTo(t,e,n,s,a,o,l)},r.delayedCall=function(t,e,i,n,s){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:s,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(c(s,e)),r=n.length),s=s._next;return n},u=r.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};r.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,l=u(0!=r),h=l.length,c=i&&n&&r;for(o=0;h>o;o++)a=l[o],(c||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(t?a.totalTime(a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var s,l,h,c,u,d=i._tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=n(t,0)),o(t))for(c=t.length;--c>-1;)r.killChildTweensOf(t[c],e);else{s=[];for(h in d)for(l=d[h].target.parentNode;l;)l===t&&(s=s.concat(d[h].tweens)),l=l.parentNode;for(u=s.length,c=0;u>c;c++)e&&s[c].totalTime(s[c].totalDuration()),s[c]._enabled(!1,!1)}}};var d=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,a,o=u(r),l=i&&n&&r,h=o.length;--h>-1;)a=o[h],(l||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(t)};return r.pauseAll=function(t,e,i){d(!0,t,e,i)},r.resumeAll=function(t,e,i){d(!1,t,e,i)},r.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||s,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),
this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],a(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));a(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals.isSelector,a=i._internals.isArray,o=[],l=function(t){var e,i={};for(e in t)i[e]=t[e];return i},h=function(t,e,i,n){t._timeline.pause(t._startTime),e&&e.apply(n||t._timeline,i||o)},c=o.slice,u=n.prototype=new e;return n.version="1.11.0",u.constructor=n,u.kill()._gc=!1,u.to=function(t,e,n,r){return e?this.add(new i(t,e,n),r):this.set(t,n,r)},u.from=function(t,e,n,r){return this.add(i.from(t,e,n),r)},u.fromTo=function(t,e,n,r,s){return e?this.add(i.fromTo(t,e,n,r),s):this.set(t,r,s)},u.staggerTo=function(t,e,r,a,o,h,u,d){var p,f=new n({onComplete:h,onCompleteParams:u,onCompleteScope:d});for("string"==typeof t&&(t=i.selector(t)||t),s(t)&&(t=c.call(t,0)),a=a||0,p=0;t.length>p;p++)r.startAt&&(r.startAt=l(r.startAt)),f.to(t[p],e,l(r),p*a);return this.add(f,o)},u.staggerFrom=function(t,e,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,a,o)},u.staggerFromTo=function(t,e,i,n,r,s,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,a,o,l)},u.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},u.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,a=new n(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)s=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=s;return o.add(a,0),a},u.add=function(r,s,o,l){var h,c,u,d,p,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&a(r)){for(o=o||"normal",l=l||0,h=s,c=r.length,u=0;c>u;u++)a(d=r[u])&&(d=new n({tweens:d})),this.add(d,h),"string"!=typeof d&&"function"!=typeof d&&("sequence"===o?h=d._startTime+d.totalDuration()/d._timeScale:"start"===o&&(d._startTime-=d.delay())),h+=l;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),this._gc&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>r._startTime;p._gc&&p._timeline;)p._timeline.smoothChildTiming&&f?p.totalTime(p._totalTime,!0):p._enabled(!0,!1),p=p._timeline;return this},u.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&a(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},u._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},u.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},u.insert=u.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},u.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},u.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},u.addPause=function(t,e,i,n){return this.call(h,["{self}",e,i,n],this,t)},u.removeLabel=function(t){return delete this._labels[t],this},u.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},u._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&a(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},u.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},u.stop=function(){return this.paused(!0)},u.gotoAndPlay=function(t,e){return this.play(t,e)},u.gotoAndStop=function(t,e){return this.pause(t,e)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,a,l,h,c=this._dirty?this.totalDuration():this._totalDuration,u=this._time,d=this._startTime,p=this._timeScale,f=this._paused;if(t>=c?(this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t?t:r,t=c+1e-6):1e-7>t?(this._totalTime=this._time=0,(0!==u||0===this._duration&&(this._rawPrevTime>r||0>t&&this._rawPrevTime>=0))&&(l="onReverseComplete",s=this._reversed),0>t?(this._active=!1,0===this._duration&&this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t?t:r,t=0,this._initted||(h=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==u&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&t>0&&(this._active=!0),0===u&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||o)),this._time>=u)for(n=this._first;n&&(a=n._next,!this._paused||f);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,!this._paused||f);)(n._active||u>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o)),l&&(this._gc||(d===this._startTime||p!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||o)))}},u._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},u.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(s[o++]=a):(n!==!1&&(s[o++]=a),t!==!1&&(s=s.concat(a.getChildren(!0,e,n)),o=s.length))),a=a._next;return s},u.getTweensOf=function(t,e){for(var n=i.getTweensOf(t),r=n.length,s=[],a=0;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(s[a++]=n[r]);return s},u._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},u.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},u._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},u.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},u.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},u._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},u.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},u.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,0>r._startTime&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},u.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},u.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=[],a=new i(null,null,1,0),o=n.prototype=new t;return o.constructor=n,o.kill()._gc=!1,n.version="1.11.0",o.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},o.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},o.tweenTo=function(t,i){i=i||{};var n,r,o={ease:a,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(n in i)o[n]=i[n];return o.time=this._parseTimeOrLabel(t),r=new e(this,Math.abs(Number(o.time)-this._time)/this._timeScale||.001,o),o.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||r,i.onStartParams||s)},r},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,a,o,l,h,c,u=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,p=this._time,f=this._totalTime,g=this._startTime,m=this._timeScale,v=this._rawPrevTime,y=this._paused,b=this._cycle;if(t>=u?(this._locked||(this._totalTime=u,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,l="onComplete",0===this._duration&&(0===t||0>v||v===r)&&v!==t&&this._first&&(h=!0,v>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-6)):1e-7>t?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===d&&(v>r||0>t&&v>=0)&&!this._locked)&&(l="onReverseComplete",a=this._reversed),0>t?(this._active=!1,0===d&&v>=0&&this._first&&(h=!0),this._rawPrevTime=t):(this._rawPrevTime=d||!e||t?t:r,t=0,this._initted||(h=!0))):(0===d&&0>v&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=d+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-6):0>this._time?this._time=t=0:t=this._time))),this._cycle!==b&&!this._locked){var _=this._yoyo&&0!==(1&b),w=_===(this._yoyo&&0!==(1&this._cycle)),x=this._totalTime,k=this._cycle,C=this._rawPrevTime,S=this._time;if(this._totalTime=b*d,b>this._cycle?_=!_:this._totalTime+=d,this._time=p,this._rawPrevTime=0===d?v-1e-5:v,this._cycle=b,this._locked=!0,p=_?0:d,this.render(p,e,0===d),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||s),w&&(p=_?d+1e-6:-1e-6,this.render(p,!0,!1)),this._locked=!1,this._paused&&!y)return;this._time=S,this._totalTime=x,this._cycle=k,this._rawPrevTime=C}if(!(this._time!==p&&this._first||i||h))return void(f!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s)),this._time>=p)for(n=this._first;n&&(o=n._next,!this._paused||y);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||y);)(n._active||p>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),l&&(this._locked||this._gc||(g===this._startTime||m!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||s)))},o.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(t,e,i),o=0,l=a.length;for(n=0;l>n;n++)r=a[n],r.isActive()&&(s[o++]=r);return s},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},o.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},o.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},o.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},s=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",o=function(t,e,i,n){var r={a:t},s={},a={},o={c:n},l=(t+e)/2,h=(e+i)/2,c=(i+n)/2,u=(l+h)/2,d=(h+c)/2,p=(d-u)/8;return r.b=l+(t-l)/4,s.b=u+p,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(u+d)/2,a.b=d-p,o.b=c+(n-c)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},l=function(t,r,s,a,l){var h,c,u,d,p,f,g,m,v,y,b,_,w,x=t.length-1,k=0,C=t[0].a;for(h=0;x>h;h++)p=t[k],c=p.a,u=p.d,d=t[k+1].d,l?(b=e[h],_=i[h],w=.25*(_+b)*r/(a?.5:n[h]||.5),f=u-(u-c)*(a?.5*r:0!==b?w/b:0),g=u+(d-u)*(a?.5*r:0!==_?w/_:0),m=u-(f+((g-f)*(3*b/(b+_)+.5)/4||0))):(f=u-.5*(u-c)*r,g=u+.5*(d-u)*r,m=u-(f+g)/2),f+=m,g+=m,p.c=v=f,p.b=0!==h?C:C=p.a+.6*(p.c-p.a),p.da=u-c,p.ca=v-c,p.ba=C-c,s?(y=o(c,C,v,u),t.splice(k,1,y[0],y[1],y[2],y[3]),k+=4):k++,C=g;p=t[k],p.b=C,p.c=C+.4*(p.d-C),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=C-p.a,s&&(y=o(p.a,C,p.c,p.d),t.splice(k,1,y[0],y[1],y[2],y[3]))},h=function(t,n,r,a){var o,l,h,c,u,d,p=[];if(a)for(t=[a].concat(t),l=t.length;--l>-1;)"string"==typeof(d=t[l][n])&&"="===d.charAt(1)&&(t[l][n]=a[n]+Number(d.charAt(0)+d.substr(2)));if(o=t.length-2,0>o)return p[0]=new s(t[0][n],0,0,t[-1>o?0:1][n]),p;for(l=0;o>l;l++)h=t[l][n],c=t[l+1][n],p[l]=new s(h,0,0,c),r&&(u=t[l+2][n],e[l]=(e[l]||0)+(c-h)*(c-h),i[l]=(i[l]||0)+(u-c)*(u-c));return p[l]=new s(t[l][n],0,0,t[l+1][n]),p},c=function(t,s,o,c,u,d){var p,f,g,m,v,y,b,_,w={},x=[],k=d||t[0];u="string"==typeof u?","+u+",":a,null==s&&(s=1);for(f in t[0])x.push(f);if(t.length>1){for(_=t[t.length-1],b=!0,p=x.length;--p>-1;)if(f=x[p],Math.abs(k[f]-_[f])>.05){b=!1;break}b&&(t=t.concat(),d&&t.unshift(d),t.push(t[1]),d=t[t.length-3])}for(e.length=i.length=n.length=0,p=x.length;--p>-1;)f=x[p],r[f]=-1!==u.indexOf(","+f+","),w[f]=h(t,f,r[f],d);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),i[p]=Math.sqrt(i[p]);if(!c){for(p=x.length;--p>-1;)if(r[f])for(g=w[x[p]],y=g.length-1,m=0;y>m;m++)v=g[m+1].da/i[m]+g[m].da/e[m],n[m]=(n[m]||0)+v*v;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=x.length,m=o?4:1;--p>-1;)f=x[p],g=w[f],l(g,s,o,c,r[f]),b&&(g.splice(0,m),g.splice(g.length-m,m));return w},u=function(t,e,i){e=e||"soft";var n,r,a,o,l,h,c,u,d,p,f,g={},m="cubic"===e?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||m+1>t.length)throw"invalid Bezier data";for(d in t[0])y.push(d);for(h=y.length;--h>-1;){for(d=y[h],g[d]=l=[],p=0,u=t.length,c=0;u>c;c++)n=null==i?t[c][d]:"string"==typeof(f=t[c][d])&&"="===f.charAt(1)?i[d]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&u-1>c&&(l[p++]=(n+l[p-2])/2),l[p++]=n;for(u=p-m+1,p=0,c=0;u>c;c+=m)n=l[c],r=l[c+1],a=l[c+2],o=2===m?0:l[c+3],l[p++]=f=3===m?new s(n,r,a,o):new s(n,(2*r+n)/3,(2*r+a)/3,a);l.length=p}return g},d=function(t,e,i){for(var n,r,s,a,o,l,h,c,u,d,p,f=1/i,g=t.length;--g>-1;)for(d=t[g],s=d.a,a=d.d-s,o=d.c-s,l=d.b-s,n=r=0,c=1;i>=c;c++)h=f*c,u=1-h,n=r-(r=(h*h*a+3*u*(h*o+u*l))*h),p=g*i+c-1,e[p]=(e[p]||0)+n*n},p=function(t,e){e=e>>0||6;var i,n,r,s,a=[],o=[],l=0,h=0,c=e-1,u=[],p=[];for(i in t)d(t[i],a,e);for(r=a.length,n=0;r>n;n++)l+=Math.sqrt(a[n]),s=n%e,p[s]=l,s===c&&(h+=l,s=n/e>>0,u[s]=p,o[s]=h,l=0,p=[]);return{length:h,lengths:o,segments:u}},f=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,a,o,l=e.values||[],h={},d=l[0],f=e.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(n in d)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],h[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),o||h[n]!==l[0][n]&&(o=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):u(l,e.type,h),this._segCount=this._beziers[n].length,this._timeRes){var g=p(this._beziers,this._timeRes);this._length=g.length,this._lengths=g.lengths,this._segments=g.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(f[0]instanceof Array||(this._autoRotate=f=[f]),s=f.length;--s>-1;)for(a=0;3>a;a++)n=f[s][a],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;return!0},set:function(e){var i,n,r,s,a,o,l,h,c,u,d=this._segCount,p=this._func,f=this._target;if(this._timeRes){if(c=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&d-1>r){for(h=d-1;h>r&&e>=(this._l2=c[++r]););this._l1=c[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(this._l1>e&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&this._l1>e?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&u.length-1>r){for(h=u.length-1;h>r&&e>=(this._s2=u[++r]););this._s1=u[r-1],this._si=r}else if(this._s1>e&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&this._s1>e?this._s1=0:r++,this._s2=u[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?d-1:d*e>>0,o=(e-i*(1/d))*d;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],a=this._beziers[s][i],l=(o*o*a.da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._round[s]&&(l=l+(l>0?.5:-.5)>>0),p[s]?f[s](l):f[s]=l;if(this._autoRotate){var g,m,v,y,b,_,w,x=this._autoRotate;for(r=x.length;--r>-1;)s=x[r][2],_=x[r][3]||0,w=x[r][4]===!0?1:t,a=this._beziers[x[r][0]],g=this._beziers[x[r][1]],a&&g&&(a=a[i],g=g[i],m=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,m+=(y-m)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=g.a+(g.b-g.a)*o,b=g.b+(g.c-g.b)*o,v+=(b-v)*o,b+=(g.c+(g.d-g.c)*o-b)*o,l=Math.atan2(b-v,y-m)*w+_,p[s]?f[s](l):f[s]=l)}}}),g=f.prototype;f.bezierThrough=c,f.cubicToQuadratic=o,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new s(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=window._gsDefine.globals.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,a,o,l){e instanceof Array&&(e={values:e}),l=new f;var h,c,u,d=e.values,p=d.length-1,g=[],m={};if(0>p)return o;for(h=0;p>=h;h++)u=i(t,d[h],a,o,l,p!==h),g[h]=u.end;for(c in e)m[c]=e[c];return m.values=g,o=new r(t,"bezier",0,0,u.pt,2),o.data=u,o.plugin=l,o.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(h=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=u.end.left?[["left","top","rotation",h,!1]]:null!=u.end.x?[["x","y","rotation",h,!1]]:!1),m.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),l._onInitTween(u.proxy,m,a._tween),o}})}},g._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o={},l=a.prototype=new t("css");l.constructor=a,a.version="1.11.0",a.API=2,a.defaultTransformPerspective=0,l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l};var h,c,u,d,p,f,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,_=/opacity *= *([^)]*)/,w=/opacity:([^;]*)/,x=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,C=/([A-Z])/g,S=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,T=function(t,e){return e.toUpperCase()},P=/(?:Left|Right|Width)/i,E=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,I=Math.PI/180,A=180/Math.PI,z={},O=document,L=O.createElement("div"),H=O.createElement("img"),N=a._internals={_specialProps:o},F=navigator.userAgent,B=function(){var t,e=F.indexOf("Android"),i=O.createElement("div");return u=-1!==F.indexOf("Safari")&&-1===F.indexOf("Chrome")&&(-1===e||Number(F.substr(e+8,1))>3),p=u&&6>Number(F.substr(F.indexOf("Version/")+8,1)),d=-1!==F.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(F),f=parseFloat(RegExp.$1),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",t=i.getElementsByTagName("a")[0],t?/^0.55/.test(t.style.opacity):!1}(),W=function(t){return _.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},j=function(t){window.console&&console.log(t)},Y="",$="",U=function(t,e){e=e||L;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?($=3===n?"ms":i[n],Y="-"+$.toLowerCase()+"-",$+t):null},q=O.defaultView?O.defaultView.getComputedStyle:function(){},V=a.getStyle=function(t,e,i,n,r){var s;return B||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||q(t,null))?(t=i.getPropertyValue(e.replace(C,"-$1").toLowerCase()),s=t||i.length?t:i[e]):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):W(t)},X=function(t,e,i,n,r){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var s,a=P.test(e),o=t,l=L.style,h=0>i;return h&&(i=-i),"%"===n&&-1!==e.indexOf("border")?s=i/100*(a?t.clientWidth:t.clientHeight):(l.cssText="border-style:solid;border-width:0;position:absolute;line-height:0;","%"!==n&&o.appendChild?l[a?"borderLeftWidth":"borderTopWidth"]=i+n:(o=t.parentNode||O.body,l[a?"width":"height"]=i+n),o.appendChild(L),s=parseFloat(L[a?"offsetWidth":"offsetHeight"]),o.removeChild(L),0!==s||r||(s=X(t,e,i,n,!0))),h?-s:s},G=function(t,e,i){if("absolute"!==V(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=V(t,"margin"+n,i);return t["offset"+n]-(X(t,e,parseFloat(r),r.replace(b,""))||0)},Q=function(t,e){var i,n,r={};if(e=e||q(t,null))if(i=e.length)for(;--i>-1;)r[e[i].replace(S,T)]=e.getPropertyValue(e[i]);else for(i in e)r[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0!==r[i]&&(r[i.replace(S,T)]=e[i]);return B||(r.opacity=W(t)),n=kt(t,e,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,xt&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},Z=function(t,e,i,n,r){var s,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(y,"")?s:0:G(t,a),void 0!==h[a]&&(o=new ut(h,a,h[a],o)));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:o}},K={width:["Left","Right"],height:["Top","Bottom"]},J=["marginLeft","marginRight","marginTop","marginBottom"],tt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=K[e],s=r.length;for(i=i||q(t,null);--s>-1;)n-=parseFloat(V(t,"padding"+r[s],i,!0))||0,n-=parseFloat(V(t,"border"+r[s]+"Width",i,!0))||0;return n},et=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(y,"")),e.oy=parseFloat(r.replace(y,""))),n+" "+r+(i.length>2?" "+i[2]:"")},it=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},nt=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},rt=function(t,e,i,n){var r,s,a,o,l=1e-6;return null==t?o=e:"number"==typeof t?o=t:(r=360,s=t.split("_"),a=Number(s[0].replace(y,""))*(-1===t.indexOf("rad")?1:A)-("="===t.charAt(1)?0:e),s.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(0|a/r)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(0|a/r)*r)),o=e+a),l>o&&o>-l&&(o=0),o},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},at=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},ot=function(t){var e,i,n,r,s,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),st[t]?st[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),r=Number(t[0])%360/360,s=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(s+1):a+s-a*s,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=at(r+1/3,e,i),t[1]=at(r,e,i),t[2]=at(r-1/3,e,i),t):(t=t.match(g)||st.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):st.black},lt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in st)lt+="|"+l+"\\b";lt=RegExp(lt+")","gi");var ht=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(lt)||[""])[0]:"",a=t.split(s).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",c=a.length,u=c>0?a[0].replace(g,""):"";return c?r=e?function(t){var e,d,p,f;if("number"==typeof t)t+=u;else if(n&&R.test(t)){for(f=t.replace(R,"|").split("|"),p=0;f.length>p;p++)f[p]=r(f[p]);return f.join(",")}if(e=(t.match(lt)||[s])[0],d=t.split(e).join("").match(v)||[],p=d.length,c>p--)for(;c>++p;)d[p]=i?d[0|(p-1)/2]:a[p];return o+d.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,d;if("number"==typeof t)t+=u;else if(n&&R.test(t)){for(s=t.replace(R,"|").split("|"),d=0;s.length>d;d++)s[d]=r(s[d]);return s.join(",")}if(e=t.match(v)||[],d=e.length,c>d--)for(;c>++d;)e[d]=i?e[0|(d-1)/2]:a[d];return o+e.join(h)+l}:function(t){return t}},ct=function(t){return t=t.split(","),function(e,i,n,r,s,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return r.parse(e,o,s,a)}},ut=(N._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s=this.data,a=s.proxy,o=s.firstMPT,l=1e-6;o;)e=a[o.v],
o.r?e=e>0?0|e+.5:0|e-.5:l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(s.autoRotate&&(s.autoRotate.rotation=a.rotation),1===t)for(o=s.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),dt=(N._parseToProxy=function(t,e,i,n,r,s){var a,o,l,h,c,u=n,d={},p={},f=i._transform,g=z;for(i._transform=null,z=e,n=c=i.parse(t,e,n,r),z=g,s&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(1>=n.type&&(o=n.p,p[o]=n.s+n.c,d[o]=n.s,s||(h=new ut(n,"s",o,h,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,o=n.p+"_"+l,p[o]=n.data[l],d[o]=n[l],s||(h=new ut(n,l,o,h,n.rxp[l]));n=n._next}return{proxy:d,end:p,firstMPT:h,pt:c}},N.CSSPropTween=function(t,e,n,r,a,o,l,h,c,u,d){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof dt||s.push(this.n),this.r=h,this.type=o||0,c&&(this.pr=c,i=!0),this.b=void 0===u?n:u,this.e=void 0===d?n+r:d,a&&(this._next=a,a._prev=this)}),pt=a.parseComplex=function(t,e,i,n,r,s,a,o,l,c){i=i||s||"",a=new dt(t,e,0,0,a,c?2:1,null,!1,o,i,n),n+="";var u,d,p,f,v,y,b,_,w,x,C,S,M=i.split(", ").join(",").split(" "),T=n.split(", ").join(",").split(" "),P=M.length,E=h!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(M=M.join(" ").replace(R,", ").split(" "),T=T.join(" ").replace(R,", ").split(" "),P=M.length),P!==T.length&&(M=(s||"").split(" "),P=M.length),a.plugin=l,a.setRatio=c,u=0;P>u;u++)if(f=M[u],v=T[u],_=parseFloat(f),_||0===_)a.appendXtra("",_,it(v,_),v.replace(m,""),E&&-1!==v.indexOf("px"),!0);else if(r&&("#"===f.charAt(0)||st[f]||k.test(f)))S=","===v.charAt(v.length-1)?"),":")",f=ot(f),v=ot(v),w=f.length+v.length>6,w&&!B&&0===v[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(T[u]).join("transparent")):(B||(w=!1),a.appendXtra(w?"rgba(":"rgb(",f[0],v[0]-f[0],",",!0,!0).appendXtra("",f[1],v[1]-f[1],",",!0).appendXtra("",f[2],v[2]-f[2],w?",":S,!0),w&&(f=4>f.length?1:f[3],a.appendXtra("",f,(4>v.length?1:v[3])-f,S,!1)));else if(y=f.match(g)){if(b=v.match(m),!b||b.length!==y.length)return a;for(p=0,d=0;y.length>d;d++)C=y[d],x=f.indexOf(C,p),a.appendXtra(f.substr(p,x-p),Number(C),it(b[d],C),"",E&&"px"===f.substr(x+C.length,2),0===d),p=x+C.length;a["xs"+a.l]+=f.substr(p)}else a["xs"+a.l]+=a.l?" "+f:f;if(-1!==n.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,u=1;a.l>u;u++)S+=a["xs"+u]+a.data["xn"+u];a.e=S+a["xs"+u]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ft=9;for(l=dt.prototype,l.l=l.pr=0;--ft>0;)l["xn"+ft]=0,l["xs"+ft]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new dt(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(n||""),a)};var gt=function(t,e){e=e||{},this.p=e.prefix?U(t)||t:t,o[t]=o[this.p]=this,this.format=e.formatter||ht(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},mt=N._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;s.length>n;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new gt(s[n],e)},vt=function(t){if(!o[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";mt(t,{parser:function(t,i,n,r,s,a,l){var h=(window.GreenSockGlobals||window).com.greensock.plugins[e];return h?(h._cssRegister(),o[n].parse(t,i,n,r,s,a,l)):(j("Error: "+e+" js file not loaded."),s)}})}};l=gt.prototype,l.parseComplex=function(t,e,i,n,r,s){var a,o,l,h,c,u,d=this.keyword;if(this.multi&&(R.test(i)||R.test(e)?(o=e.replace(R,"|").split("|"),l=i.replace(R,"|").split("|")):d&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,d&&(c=e.indexOf(d),u=i.indexOf(d),c!==u&&(i=-1===u?l:o,i[a]+=" "+d));e=o.join(", "),i=l.join(", ")}return pt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},l.parse=function(t,e,i,n,s,a){return this.parseComplex(t.style,this.format(V(t,this.p,r,!1,this.dflt)),this.format(e),s,a)},a.registerSpecialProp=function(t,e,i){mt(t,{parser:function(t,n,r,s,a,o){var l=new dt(t,r,0,0,a,2,r,!1,i);return l.plugin=o,l.setRatio=e(t,n,s._tween,r),l},priority:i})};var yt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),bt=U("transform"),_t=Y+"transform",wt=U("transformOrigin"),xt=null!==U("perspective"),kt=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var r,s,o,l,h,c,u,d,p,f,g,m,v,y=i?t._gsTransform||{skewY:0}:{skewY:0},b=0>y.scaleX,_=2e-5,w=1e5,x=179.99,k=x*I,C=xt?parseFloat(V(t,wt,e,!1,"0 0 0").split(" ")[2])||y.zOrigin||0:0;for(bt?r=V(t,_t,e,!0):t.currentStyle&&(r=t.currentStyle.filter.match(E),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),y.x||0,y.y||0].join(","):""),s=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],o=s.length;--o>-1;)l=Number(s[o]),s[o]=(h=l-(l|=0))?(0|h*w+(0>h?-.5:.5))/w+l:l;if(16===s.length){var S=s[8],M=s[9],T=s[10],P=s[12],D=s[13],R=s[14];if(y.zOrigin&&(R=-y.zOrigin,P=S*R-s[12],D=M*R-s[13],R=T*R+y.zOrigin-s[14]),!i||n||null==y.rotationX){var z,O,L,H,N,F,B,W=s[0],j=s[1],Y=s[2],$=s[3],U=s[4],q=s[5],X=s[6],G=s[7],Q=s[11],Z=Math.atan2(X,T),K=-k>Z||Z>k;y.rotationX=Z*A,Z&&(H=Math.cos(-Z),N=Math.sin(-Z),z=U*H+S*N,O=q*H+M*N,L=X*H+T*N,S=U*-N+S*H,M=q*-N+M*H,T=X*-N+T*H,Q=G*-N+Q*H,U=z,q=O,X=L),Z=Math.atan2(S,W),y.rotationY=Z*A,Z&&(F=-k>Z||Z>k,H=Math.cos(-Z),N=Math.sin(-Z),z=W*H-S*N,O=j*H-M*N,L=Y*H-T*N,M=j*N+M*H,T=Y*N+T*H,Q=$*N+Q*H,W=z,j=O,Y=L),Z=Math.atan2(j,q),y.rotation=Z*A,Z&&(B=-k>Z||Z>k,H=Math.cos(-Z),N=Math.sin(-Z),W=W*H+U*N,O=j*H+q*N,q=j*-N+q*H,X=Y*-N+X*H,j=O),B&&K?y.rotation=y.rotationX=0:B&&F?y.rotation=y.rotationY=0:F&&K&&(y.rotationY=y.rotationX=0),y.scaleX=(0|Math.sqrt(W*W+j*j)*w+.5)/w,y.scaleY=(0|Math.sqrt(q*q+M*M)*w+.5)/w,y.scaleZ=(0|Math.sqrt(X*X+T*T)*w+.5)/w,y.skewX=0,y.perspective=Q?1/(0>Q?-Q:Q):0,y.x=P,y.y=D,y.z=R}}else if(!(xt&&!n&&s.length&&y.x===s[4]&&y.y===s[5]&&(y.rotationX||y.rotationY)||void 0!==y.x&&"none"===V(t,"display",e))){var J=s.length>=6,tt=J?s[0]:1,et=s[1]||0,it=s[2]||0,nt=J?s[3]:1;y.x=s[4]||0,y.y=s[5]||0,c=Math.sqrt(tt*tt+et*et),u=Math.sqrt(nt*nt+it*it),d=tt||et?Math.atan2(et,tt)*A:y.rotation||0,p=it||nt?Math.atan2(it,nt)*A+d:y.skewX||0,f=c-Math.abs(y.scaleX||0),g=u-Math.abs(y.scaleY||0),Math.abs(p)>90&&270>Math.abs(p)&&(b?(c*=-1,p+=0>=d?180:-180,d+=0>=d?180:-180):(u*=-1,p+=0>=p?180:-180)),m=(d-y.rotation)%180,v=(p-y.skewX)%180,(void 0===y.skewX||f>_||-_>f||g>_||-_>g||m>-x&&x>m&&!1|m*w||v>-x&&x>v&&!1|v*w)&&(y.scaleX=c,y.scaleY=u,y.rotation=d,y.skewX=p),xt&&(y.rotationX=y.rotationY=y.z=0,y.perspective=parseFloat(a.defaultTransformPerspective)||0,y.scaleZ=1)}y.zOrigin=C;for(o in y)_>y[o]&&y[o]>-_&&(y[o]=0);return i&&(t._gsTransform=y),y},Ct=function(t){var e,i,n=this.data,r=-n.rotation*I,s=r+n.skewX*I,a=1e5,o=(0|Math.cos(r)*n.scaleX*a)/a,l=(0|Math.sin(r)*n.scaleX*a)/a,h=(0|Math.sin(s)*-n.scaleY*a)/a,c=(0|Math.cos(s)*n.scaleY*a)/a,u=this.t.style,d=this.t.currentStyle;if(d){i=l,l=-h,h=-i,e=d.filter,u.filter="";var p,g,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+c,x=n.x,k=n.y;if(null!=n.ox&&(p=(n.oxp?.01*m*n.ox:n.ox)-m/2,g=(n.oyp?.01*v*n.oy:n.oy)-v/2,x+=p-(p*o+g*l),k+=g-(p*h+g*c)),y?(p=m/2,g=v/2,w+=", Dx="+(p-(p*o+g*l)+x)+", Dy="+(g-(p*h+g*c)+k)+")"):w+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(D,w):w+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===c&&(y&&-1===w.indexOf("Dx=0, Dy=0")||_.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var C,S,M,T=8>f?1:-1;for(p=n.ieOffsetX||0,g=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>l?-l:l)*v))/2+x),n.ieOffsetY=Math.round((v-((0>c?-c:c)*v+(0>h?-h:h)*m))/2+k),ft=0;4>ft;ft++)S=J[ft],C=d[S],i=-1!==C.indexOf("px")?parseFloat(C):X(this.t,S,parseFloat(C),C.replace(b,""))||0,M=i!==n[S]?2>ft?-n.ieOffsetX:-n.ieOffsetY:2>ft?p-n.ieOffsetX:g-n.ieOffsetY,u[S]=(n[S]=Math.round(i-M*(0===ft||2===ft?1:T)))+"px"}}},St=function(){var t,e,i,n,r,s,a,o,l,h,c,u,p,f,g,m,v,y,b,_,w,x,k,C,S,M,T=this.data,P=this.t.style,E=T.rotation*I,D=T.scaleX,R=T.scaleY,A=T.scaleZ,z=T.perspective;if(d&&(C=P.top?"top":P.bottom?"bottom":parseFloat(V(this.t,"top",null,!1))?"bottom":"top",_=V(this.t,C,null,!1),S=parseFloat(_)||0,M=_.substr((S+"").length)||"px",T._ffFix=!T._ffFix,P[C]=(T._ffFix?S+.05:S-.05)+M),E||T.skewX)y=Math.cos(E),b=Math.sin(E),t=y,r=b,T.skewX&&(E-=T.skewX*I,y=Math.cos(E),b=Math.sin(E)),e=-b,s=y;else{if(!(T.rotationY||T.rotationX||1!==A||z))return void(P[bt]="translate3d("+T.x+"px,"+T.y+"px,"+T.z+"px)"+(1!==D||1!==R?" scale("+D+","+R+")":""));t=s=1,e=r=0}c=1,i=n=a=o=l=h=u=p=f=0,g=z?-1/z:0,m=T.zOrigin,v=1e5,E=T.rotationY*I,E&&(y=Math.cos(E),b=Math.sin(E),l=c*-b,p=g*-b,i=t*b,a=r*b,c*=y,g*=y,t*=y,r*=y),E=T.rotationX*I,E&&(y=Math.cos(E),b=Math.sin(E),_=e*y+i*b,w=s*y+a*b,x=h*y+c*b,k=f*y+g*b,i=e*-b+i*y,a=s*-b+a*y,c=h*-b+c*y,g=f*-b+g*y,e=_,s=w,h=x,f=k),1!==A&&(i*=A,a*=A,c*=A,g*=A),1!==R&&(e*=R,s*=R,h*=R,f*=R),1!==D&&(t*=D,r*=D,l*=D,p*=D),m&&(u-=m,n=i*u,o=a*u,u=c*u+m),n=(_=(n+=T.x)-(n|=0))?(0|_*v+(0>_?-.5:.5))/v+n:n,o=(_=(o+=T.y)-(o|=0))?(0|_*v+(0>_?-.5:.5))/v+o:o,u=(_=(u+=T.z)-(u|=0))?(0|_*v+(0>_?-.5:.5))/v+u:u,P[bt]="matrix3d("+[(0|t*v)/v,(0|r*v)/v,(0|l*v)/v,(0|p*v)/v,(0|e*v)/v,(0|s*v)/v,(0|h*v)/v,(0|f*v)/v,(0|i*v)/v,(0|a*v)/v,(0|c*v)/v,(0|g*v)/v,n,o,u,z?1+-u/z:1].join(",")+")"},Mt=function(){var t,e,i,n,r,s,a,o,l,h=this.data,c=this.t,u=c.style;d&&(t=u.top?"top":u.bottom?"bottom":parseFloat(V(c,"top",null,!1))?"bottom":"top",e=V(c,t,null,!1),i=parseFloat(e)||0,n=e.substr((i+"").length)||"px",h._ffFix=!h._ffFix,u[t]=(h._ffFix?i+.05:i-.05)+n),h.rotation||h.skewX?(r=h.rotation*I,s=r-h.skewX*I,a=1e5,o=h.scaleX*a,l=h.scaleY*a,u[bt]="matrix("+(0|Math.cos(r)*o)/a+","+(0|Math.sin(r)*o)/a+","+(0|Math.sin(s)*-l)/a+","+(0|Math.cos(s)*l)/a+","+h.x+","+h.y+")"):u[bt]="matrix("+h.scaleX+",0,0,"+h.scaleY+","+h.x+","+h.y+")"};mt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(t,e,i,n,s,a,o){if(n._transform)return s;var l,h,c,u,d,p,f,g=n._transform=kt(t,r,!0,o.parseTransform),m=t.style,v=1e-6,y=yt.length,b=o,_={};if("string"==typeof b.transform&&bt)c=m.cssText,m[bt]=b.transform,m.display="block",l=kt(t,null,!1),m.cssText=c;else if("object"==typeof b){if(l={scaleX:nt(null!=b.scaleX?b.scaleX:b.scale,g.scaleX),scaleY:nt(null!=b.scaleY?b.scaleY:b.scale,g.scaleY),scaleZ:nt(null!=b.scaleZ?b.scaleZ:b.scale,g.scaleZ),x:nt(b.x,g.x),y:nt(b.y,g.y),z:nt(b.z,g.z),perspective:nt(b.transformPerspective,g.perspective)},f=b.directionalRotation,null!=f)if("object"==typeof f)for(c in f)b[c]=f[c];else b.rotation=f;l.rotation=rt("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:g.rotation,g.rotation,"rotation",_),xt&&(l.rotationX=rt("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":g.rotationX||0,g.rotationX,"rotationX",_),l.rotationY=rt("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":g.rotationY||0,g.rotationY,"rotationY",_)),l.skewX=null==b.skewX?g.skewX:rt(b.skewX,g.skewX),l.skewY=null==b.skewY?g.skewY:rt(b.skewY,g.skewY),(h=l.skewY-g.skewY)&&(l.skewX+=h,l.rotation+=h)}for(null!=b.force3D&&(g.force3D=b.force3D,p=!0),d=g.force3D||g.z||g.rotationX||g.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,d||null==b.scale||(l.scaleZ=1);--y>-1;)i=yt[y],u=l[i]-g[i],(u>v||-v>u||null!=z[i])&&(p=!0,s=new dt(g,i,g[i],u,s),i in _&&(s.e=_[i]),s.xs0=0,s.plugin=a,n._overwriteProps.push(s.n));return u=b.transformOrigin,(u||xt&&d&&g.zOrigin)&&(bt?(p=!0,i=wt,u=(u||V(t,i,r,!1,"50% 50%"))+"",s=new dt(m,i,0,0,s,-1,"transformOrigin"),s.b=m[i],s.plugin=a,xt?(c=g.zOrigin,u=u.split(" "),g.zOrigin=(u.length>2&&(0===c||"0px"!==u[2])?parseFloat(u[2]):c)||0,s.xs0=s.e=m[i]=u[0]+" "+(u[1]||"50%")+" 0px",s=new dt(g,"zOrigin",0,0,s,-1,s.n),s.b=c,s.xs0=s.e=g.zOrigin):s.xs0=s.e=m[i]=u):et(u+"",g)),p&&(n._transformType=d||3===this._transformType?3:2),s},prefix:!0}),mt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),mt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,a){e=this.format(e);var o,l,h,c,u,d,p,f,g,m,v,y,b,_,w,x,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(g=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),o=e.split(" "),l=0;k.length>l;l++)this.p.indexOf("border")&&(k[l]=U(k[l])),u=c=V(t,k[l],r,!1,"0px"),-1!==u.indexOf(" ")&&(c=u.split(" "),u=c[0],c=c[1]),d=h=o[l],p=parseFloat(u),y=u.substr((p+"").length),b="="===d.charAt(1),b?(f=parseInt(d.charAt(0)+"1",10),d=d.substr(2),f*=parseFloat(d),v=d.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(d),v=d.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(_=X(t,"borderLeft",p,y),w=X(t,"borderTop",p,y),"%"===v?(u=100*(_/g)+"%",c=100*(w/m)+"%"):"em"===v?(x=X(t,"borderLeft",1,"em"),u=_/x+"em",c=w/x+"em"):(u=_+"px",c=w+"px"),b&&(d=parseFloat(u)+f+v,h=parseFloat(c)+f+v)),a=pt(C,k[l],u+" "+c,d+" "+h,!1,"0px",a);return a},prefix:!0,formatter:ht("0px 0px 0px 0px",!1,!0)}),mt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,a){var o,l,h,c,u,d,p="background-position",g=r||q(t,null),m=this.format((g?f?g.getPropertyValue(p+"-x")+" "+g.getPropertyValue(p+"-y"):g.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&(d=V(t,"backgroundImage").replace(M,""),d&&"none"!==d)){for(o=m.split(" "),l=v.split(" "),H.setAttribute("src",d),h=2;--h>-1;)m=o[h],c=-1!==m.indexOf("%"),c!==(-1!==l[h].indexOf("%"))&&(u=0===h?t.offsetWidth-H.width:t.offsetHeight-H.height,o[h]=c?parseFloat(m)/100*u+"px":100*(parseFloat(m)/u)+"%");m=o.join(" ")}return this.parseComplex(t.style,m,v,s,a)},formatter:et}),mt("backgroundSize",{defaultValue:"0 0",formatter:et}),mt("perspective",{defaultValue:"0px",prefix:!0}),mt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),mt("transformStyle",{prefix:!0}),mt("backfaceVisibility",{prefix:!0}),mt("userSelect",{prefix:!0}),mt("margin",{parser:ct("marginTop,marginRight,marginBottom,marginLeft")}),mt("padding",{parser:ct("paddingTop,paddingRight,paddingBottom,paddingLeft")}),mt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,a){var o,l,h;return 9>f?(l=t.currentStyle,h=8>f?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(V(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,s,a)}}),mt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),mt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),mt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,a){return this.parseComplex(t.style,this.format(V(t,"borderTopWidth",r,!1,"0px")+" "+V(t,"borderTopStyle",r,!1,"solid")+" "+V(t,"borderTopColor",r,!1,"#000")),this.format(e),s,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(lt)||["#000"])[0]}}),mt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new dt(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Tt=function(t){var e,i=this.t,n=i.filter||V(this.data,"filter"),r=0|this.s+this.c*t;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!V(this.data,"filter")):(i.filter=n.replace(x,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("opacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(_,"opacity="+r))};mt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,a){var o=parseFloat(V(t,"opacity",r,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===V(t,"visibility",r)&&0!==e&&(o=0),B?s=new dt(l,"opacity",o,e-o,s):(s=new dt(l,"opacity",100*o,100*(e-o),s),s.xn1=h?1:0,l.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=a,s.setRatio=Tt),h&&(s=new dt(l,"visibility",0,0,s,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Pt=function(t,e){e&&(t.removeProperty?t.removeProperty(e.replace(C,"-$1").toLowerCase()):t.removeAttribute(e))},Et=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.className=0===t?this.b:this.e;for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Pt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};mt("className",{parser:function(t,e,n,s,a,o,l){var h,c,u,d,p,f=t.className,g=t.style.cssText;if(a=s._classNamePT=new dt(t,n,0,0,a,2),a.setRatio=Et,a.pr=-11,i=!0,a.b=f,c=Q(t,r),u=t._gsClassPT){for(d={},p=u.data;p;)d[p.p]=1,p=p._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),s._tween._duration&&(t.className=a.e,h=Z(t,c,Q(t),l,d),t.className=f,a.data=h.firstMPT,t.style.cssText=g,a=a.xfirst=s.parse(t,h.difs,a,o)),a}});var Dt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s=this.t.style,a=o.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(","),n=e.length;--n>-1;)i=e[n],o[i]&&(o[i].parse===a?r=!0:i="transformOrigin"===i?wt:o[i].p),Pt(s,i);r&&(Pt(s,bt),this.t._gsTransform&&delete this.t._gsTransform)}};for(mt("clearProps",{parser:function(t,e,n,r,s){return s=new dt(t,n,0,0,s,2),s.setRatio=Dt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ft=l.length;ft--;)vt(l[ft]);l=a.prototype,l._firstPT=null,l._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,h=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=q(t,""),s=this._overwriteProps;var l,d,f,g,m,v,y,b,_,x=t.style;if(c&&""===x.zIndex&&(l=V(t,"zIndex",r),("auto"===l||""===l)&&(x.zIndex=0)),"string"==typeof e&&(g=x.cssText,l=Q(t,r),x.cssText=g+";"+e,l=Z(t,l,Q(t)).difs,!B&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,x.cssText=g),this._firstPT=d=this.parse(t,e,null),this._transformType){for(_=3===this._transformType,bt?u&&(c=!0,""===x.zIndex&&(y=V(t,"zIndex",r),("auto"===y||""===y)&&(x.zIndex=0)),p&&(x.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(_?"visible":"hidden"))):x.zoom=1,f=d;f&&f._next;)f=f._next;b=new dt(t,"transform",0,0,null,2),this._linkCSSP(b,null,f),b.setRatio=_&&xt?St:bt?Mt:Ct,b.data=this._transform||kt(t,r,!0),s.pop()}if(i){for(;d;){for(v=d._next,f=g;f&&f.pr>d.pr;)f=f._next;(d._prev=f?f._prev:m)?d._prev._next=d:g=d,(d._next=f)?f._prev=d:m=d,d=v}this._firstPT=g}return!0},l.parse=function(t,e,i,s){var a,l,c,u,d,p,f,g,m,v,y=t.style;for(a in e)p=e[a],l=o[a],l?i=l.parse(t,p,a,this,i,s,e):(d=V(t,a,r)+"",m="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&k.test(p)?(m||(p=ot(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=pt(y,a,d,p,!0,"transparent",i,0,s)):!m||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(c=parseFloat(d),f=c||0===c?d.substr((c+"").length):"",(""===d||"auto"===d)&&("width"===a||"height"===a?(c=tt(t,a,r),f="px"):"left"===a||"top"===a?(c=G(t,a,r),f="px"):(c="opacity"!==a?0:1,f="")),v=m&&"="===p.charAt(1),v?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),g=p.replace(b,"")):(u=parseFloat(p),g=m?p.substr((u+"").length)||"":""),""===g&&(g=n[a]||f),p=u||0===u?(v?u+c:u)+g:e[a],f!==g&&""!==g&&(u||0===u)&&(c||0===c)&&(c=X(t,a,c,f),"%"===g?(c/=X(t,a,100,"%")/100,c>100&&(c=100),e.strictUnits!==!0&&(d=c+"%")):"em"===g?c/=X(t,a,1,"em"):(u=X(t,a,u,g),g="px"),v&&(u||0===u)&&(p=u+c+g)),v&&(u+=c),!c&&0!==c||!u&&0!==u?void 0!==y[a]&&(p||"NaN"!=p+""&&null!=p)?(i=new dt(y,a,u||c||0,0,i,-1,a,!1,0,d,p),i.xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:d):j("invalid "+a+" tween value: "+e[a]):(i=new dt(y,a,c,u-c,i,0,a,h!==!1&&("px"===g||"zIndex"===a),0,d,p),i.xs0=g)):i=pt(y,a,d,p,!0,null,i,0,s)),s&&i&&!i.plugin&&(i.plugin=s);return i},l.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=e>0?0|e+.5:0|e-.5:s>e&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(t),r=r._next},l._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||kt(this._target,r,!0)},l._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var Rt=function(t,e,i){var n,r,s,a;if(t.slice)for(r=t.length;--r>-1;)Rt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],a=s.type,s.style&&(e.push(Q(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||Rt(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,a,o=e.to(t,i,n),l=[o],h=[],c=[],u=[],d=e._internals.reservedProps;for(t=o._targets||o.target,Rt(t,h,u),o.render(i,!0),Rt(t,c),o.render(0,!0),o._enabled(!0),r=u.length;--r>-1;)if(s=Z(u[r],h[r],c[r]),s.firstMPT){s=s.difs;for(a in n)d[a]&&(s[a]=n[a]);l.push(e.to(u[r],i,s))}return l},t.activate([a]),a},!0),function(){var t=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,n=this._tween,r=n.vars.roundProps instanceof Array?n.vars.roundProps:n.vars.roundProps.split(","),s=r.length,a={},o=n._propLookup.roundProps;--s>-1;)a[r[s]]=1;for(s=r.length;--s>-1;)for(t=r[s],e=n._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:n._firstPT===e&&(n._firstPT=i),e._next=e._prev=null,n._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(t,e){var i;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={};for(i in e)this._addTween(this._proxy,i,parseFloat(t.getAttribute(i)),e[i],i)&&this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=i[n],this._target.setAttribute(e,this._proxy[e]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,n,r,s,a,o,l=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),n=o[0],r=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof n&&"="===n.charAt(1)?r+parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)||0,a=s-r,o.length&&(n=o.join("_"),-1!==n.indexOf("short")&&(a%=l,a!==a%(l/2)&&(a=0>a?a+l:a-l)),-1!==n.indexOf("_cw")&&0>a?a=(a+9999999999*l)%l-(0|a/l)*l:-1!==n.indexOf("ccw")&&a>0&&(a=(a-9999999999*l)%l-(0|a/l)*l)),(a>h||-h>a)&&(this._addTween(t,i,r,r+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=window.GreenSockGlobals||window,s=r.com.greensock,a=2*Math.PI,o=Math.PI/2,l=s._class,h=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},u=function(t,e,i,n){var r=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(r,t),r},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},f=u("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=g.prototype=new t;return m.constructor=g,m.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),m.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,a,o,l=e.taper||"none",h=[],c=0,u=0|(e.points||20),p=u,f=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(s=1-i,r=s*s*v):"in"===l?r=i*i*v:.5>i?(s=2*i,r=.5*s*s*v):(s=2*(1-i),r=.5*s*s*v),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:0>n&&(n=0)),h[c++]={x:i,y:n};for(h.sort(function(t,e){return t.x-e.x}),o=new d(1,1,null),p=u;--p>-1;)a=h[p],o=new d(a.x,a.y,o);this._prev=new d(0,0,0!==o.t?o:o.next)},!0),m=i.prototype=new t,m.constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,u("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||n,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},u("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*a/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2))},.3),n("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*a/this._p2)+1},.45)),u("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",h("SineOut",function(t){return Math.sin(t*o)}),h("SineIn",function(t){return-Math.cos(t*o)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),f},!0)}),function(t){"use strict";var e=t.GreenSockGlobals||t;if(!e.TweenLite){var i,n,r,s,a,o=function(t){var i,n=t.split("."),r=e;for(i=0;n.length>i;i++)r[n[i]]=r=r[n[i]]||{};return r},l=o("com.greensock"),h=1e-10,c=[].slice,u=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e}}(),p={},f=function(i,n,r,s){this.sc=p[i]?p[i].sc:[],p[i]=this,this.gsClass=null,this.func=r;var a=[];this.check=function(l){for(var h,c,u,d,g=n.length,m=g;--g>-1;)(h=p[n[g]]||new f(n[g],[])).gsClass?(a[g]=h.gsClass,m--):l&&h.sc.push(this);if(0===m&&r)for(c=("com.greensock."+i).split("."),u=c.pop(),d=o(c.join("."))[u]=this.gsClass=r.apply(r,a),s&&(e[u]=d,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+i.split(".").join("/"),[],function(){return d}):"undefined"!=typeof module&&module.exports&&(module.exports=d)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,i,n){return new f(t,e,i,n)},m=l._class=function(t,e,i){return e=e||function(){},g(t,[],function(){return e},i),e};g.globals=e;var v=[0,0,1,1],y=[],b=m("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?v.concat(e):v},!0),_=b.map={},w=b.register=function(t,e,i,n){for(var r,s,a,o,h=e.split(","),c=h.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(s=h[c],r=n?m("easing."+s,null,!0):l.easing[s]||{},a=u.length;--a>-1;)o=u[a],_[s+"."+o]=_[o+s]=r[o]=t.getRatio?t:t[o]||new t};for(r=b.prototype,r._calcEnd=!1,r.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},i=["Linear","Quad","Cubic","Quart","Quint,Strong"],n=i.length;--n>-1;)r=i[n]+",Power"+n,w(new b(null,null,1,n),r,"easeOut",!0),w(new b(null,null,2,n),r,"easeIn"+(0===n?",easeNone":"")),w(new b(null,null,3,n),r,"easeInOut");_.linear=l.easing.Linear.easeIn,_.swing=l.easing.Quad.easeInOut;var x=m("events.EventDispatcher",function(t){
this._listeners={},this._eventTarget=t||this});r=x.prototype,r.addEventListener=function(t,e,i,n,r){r=r||0;var o,l,h=this._listeners[t],c=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)o=h[l],o.c===e&&o.s===i?h.splice(l,1):0===c&&r>o.pr&&(c=l+1);h.splice(c,0,{c:e,s:i,up:n,pr:r}),this!==s||a||s.wake()},r.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},r.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i)};var k=t.requestAnimationFrame,C=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},M=S();for(i=["ms","moz","webkit","o"],n=i.length;--n>-1&&!k;)k=t[i[n]+"RequestAnimationFrame"],C=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var i,n,r,o,l,h=this,c=S(),d=e!==!1&&k,p=function(t){M=S(),h.time=(M-c)/1e3;var e,s=h.time-l;(!i||s>0||t===!0)&&(h.frame++,l+=s+(s>=o?.004:o-s),e=!0),t!==!0&&(r=n(p)),e&&h.dispatchEvent("tick")};x.call(h),h.time=h.frame=0,h.tick=function(){p(!0)},h.sleep=function(){null!=r&&(d&&C?C(r):clearTimeout(r),n=u,r=null,h===s&&(a=!1))},h.wake=function(){null!==r&&h.sleep(),n=0===i?u:d&&k?k:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===s&&(a=!0),p(2)},h.fps=function(t){return arguments.length?(i=t,o=1/(i||60),l=this.time+o,void h.wake()):i},h.useRAF=function(t){return arguments.length?(h.sleep(),d=t,void h.fps(i)):d},h.fps(t),setTimeout(function(){d&&(!r||5>h.frame)&&h.useRAF(!1)},1500)}),r=l.Ticker.prototype=new l.events.EventDispatcher,r.constructor=l.Ticker;var T=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,B){a||s.wake();var i=this.vars.useFrames?F:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});s=T.ticker=new l.Ticker,r=T.prototype,r._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var P=function(){S()-M>2e3&&s.wake(),setTimeout(P,2e3)};P(),r.play=function(t,e){return arguments.length&&this.seek(t,e),this.reversed(!1).paused(!1)},r.pause=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!0)},r.resume=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!1)},r.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},r.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},r.reverse=function(t,e){return arguments.length&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},r.render=function(){},r.invalidate=function(){return this},r.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},r._enabled=function(t,e){return a||s.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(){return this._enabled(!1,!1)},r.kill=function(t,e){return this._kill(t,e),this},r._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},r._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},r.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=d(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},r.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},r.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},r.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},r.totalTime=function(t,e,i){if(a||s.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&this.render(t,e,!1)}return this},r.progress=r.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},r.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},r.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},r.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._totalTime,!0)),this):this._reversed},r.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){a||t||s.wake();var e=this._timeline,i=e.rawTime(),n=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var E=m("core.SimpleTimeline",function(t){T.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});r=E.prototype=new T,r.constructor=E,r.kill()._gc=!1,r._first=r._last=null,r._sortChildren=!1,r.add=r.insert=function(t,e){var i,n;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(n=t._startTime;i&&i._startTime>n;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},r._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t.timeline=null,t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),this._timeline&&this._uncache(!0)),this},r.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},r.rawTime=function(){return a||s.wake(),this._totalTime};var D=m("TweenLite",function(e,i,n){if(T.call(this,i,n),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,s,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?N[D.defaultOverwrite]:"number"==typeof l?l>>0:N[l],(o||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=a=c.call(e,0),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)s=a[r],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(c.call(s,0))):(this._siblings[r]=W(s,this,!1),1===l&&this._siblings[r].length>1&&j(s,this,null,1,this._siblings[r])):(s=a[r--]=D.selector(s),"string"==typeof s&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=W(e,this,!1),1===l&&this._siblings.length>1&&j(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),R=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},I=function(t,e){var i,n={};for(i in t)H[i]||i in e&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!z[i]||z[i]&&z[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};r=D.prototype=new T,r.constructor=D,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=!1,D.version="1.11.1",D.defaultEase=r._ease=new b(null,null,1,1),D.defaultOverwrite="auto",D.ticker=s,D.autoSleep=!0,D.selector=t.$||t.jQuery||function(e){return t.$?(D.selector=t.$,t.$(e)):t.document?t.document.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var A=D._internals={isArray:d,isSelector:R},z=D._plugins={},O=D._tweenLookup={},L=0,H=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},N={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},F=T._rootFramesTimeline=new E,B=T._rootTimeline=new E;B._startTime=s.time,F._startTime=s.frame,B._active=F._active=!0,T._updateRoot=function(){if(B.render((s.time-B._startTime)*B._timeScale,!1,!1),F.render((s.frame-F._startTime)*F._timeScale,!1,!1),!(s.frame%120)){var t,e,i;for(i in O){for(e=O[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete O[i]}if(i=B._first,(!i||i._paused)&&D.autoSleep&&!F._first&&1===s._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||s.sleep()}}},s.addEventListener("tick",T._updateRoot);var W=function(t,e,i){var n,r,s=t._gsTweenID;if(O[s||(t._gsTweenID=s="t"+L++)]||(O[s]={target:t,tweens:[]}),e&&(n=O[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return O[s].tweens},j=function(t,e,i,n,r){var s,a,o,l;if(1===n||n>=4){for(l=r.length,s=0;l>s;s++)if((o=r[s])!==e)o._gc||o._enabled(!1,!1)&&(a=!0);else if(5===n)break;return a}var c,u=e._startTime+h,d=[],p=0,f=0===e._duration;for(s=r.length;--s>-1;)(o=r[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(c=c||Y(e,0,f),0===Y(o,c,f)&&(d[p++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale+h>u&&((f||!o._initted)&&2e-10>=u-o._startTime||(d[p++]=o)));for(s=p;--s>-1;)o=d[s],2===n&&o._kill(i,t)&&(a=!0),(2!==n||!o._firstPT&&o._initted)&&o._enabled(!1,!1)&&(a=!0);return a},Y=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&2*h>s-e?h:(s+=t.totalDuration()/t._timeScale/r)>e+h?0:s-e-h};r._init=function(){var t,e,i,n,r=this.vars,s=this._overwrittenProps,a=this._duration,o=r.immediateRender,l=r.ease;if(r.startAt){if(this._startAt&&this._startAt.render(-1,!0),r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=D.to(this.target,0,r.startAt),o)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(r.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else{i={};for(n in r)H[n]&&"autoCSS"!==n||(i[n]=r[n]);if(i.overwrite=0,i.data="isFromStart",this._startAt=D.to(this.target,0,i),r.immediateRender){if(0===this._time)return}else this._startAt.render(-1,!0)}if(this._ease=l?l instanceof b?r.easeParams instanceof Array?l.config.apply(l,r.easeParams):l:"function"==typeof l?new b(l,r.easeParams):_[l]||D.defaultEase:D.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&D._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},r._initProps=function(e,i,n,r){var s,a,o,l,h,c;if(null==e)return!1;this.vars.css||e.style&&e!==t&&e.nodeType&&z.css&&this.vars.autoCSS!==!1&&I(this.vars,e);for(s in this.vars){if(c=this.vars[s],H[s])c&&(c instanceof Array||c.push&&d(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(z[s]&&(l=new z[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[s]=h={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},h.s=h.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),h.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&j(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):o},r.render=function(t,e,i){var n,r,s,a,o=this._time,l=this._duration;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===l&&(a=this._rawPrevTime,(0===t||0>a||a===h)&&a!==t&&(i=!0,a>h&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t?t:h);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&this._rawPrevTime>h)&&(r="onReverseComplete",n=this._reversed),0>t?(this._active=!1,0===l&&(this._rawPrevTime>=0&&(i=!0),this._rawPrevTime=a=!e||t?t:h)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,u=this._easeType,d=this._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),this.ratio=1===u?1-c:2===u?c:.5>t/l?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||i&&0===this._time&&0===o||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),r&&(this._gc||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||y),0===l&&this._rawPrevTime===h&&a!==h&&(this._rawPrevTime=0)))}},r._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var i,n,r,s,a,o,l,h;if((d(e)||R(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i])&&(o=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){l=t||a,h=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill);for(r in l)(s=a[r])&&(s.pg&&s.t._kill(l)&&(o=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[r]),h&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return o},r.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},r._enabled=function(t,e){if(a||s.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=W(n[i],this,!0);else this._siblings=W(this.target,this,!0)}return T.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,n,r,s;if((d(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=W(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var $=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=$.prototype},!0);if(r=$.prototype,$.version="1.10.1",$.API=2,r._firstPT=null,r._addTween=function(t,e,i,n,r,s){var a,o;return null!=n&&(a="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:s},o._next&&(o._next._prev=o),o):void 0},r.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=0|e+(e>0?.5:-.5):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},r._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},r._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,r,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},$.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===$.API&&(z[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=m("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){$.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new $(i);o.constructor=a,a.API=t.API;for(e in s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,$.activate([a]),a},i=t._gsQueue){for(n=0;i.length>n;n++)i[n]();for(r in p)p[r].func||t.console.log("GSAP encountered missing dependency: com.greensock."+r)}a=!1}}(window),function(t,e){function i(e,i){var r,s,a,o=e.nodeName.toLowerCase();return"area"===o?(r=e.parentNode,s=r.name,e.href&&s&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap=#"+s+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?o["inner"+n].call(this):this.each(function(){t(this).css(a,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(i,n,r){var s,a,o,l,h={},c=i.split(".")[0];i=i.split(".")[1],s=c+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},a=t[c][i],o=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new o(t,i)},t.extend(o,a,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(r,function(i,r){return t.isFunction(r)?(h[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,s=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=s,i}}(),e):(h[i]=r,e)}),o.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},h,{constructor:o,namespace:c,widgetName:i,widgetFullName:s}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete a._childConstructors):n._childConstructors.push(o),t.widget.bridge(i,o)},t.widget.extend=function(i){for(var r,s,a=n.call(arguments,1),o=0,l=a.length;l>o;o++)for(r in a[o])s=a[o][r],a[o].hasOwnProperty(r)&&s!==e&&(i[r]=t.isPlainObject(s)?t.isPlainObject(i[r])?t.widget.extend({},i[r],s):t.widget.extend({},s):s);return i},t.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;t.fn[i]=function(a){var o="string"==typeof a,l=n.call(arguments,1),h=this;return a=!o&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,o?this.each(function(){var n,r=t.data(this,s);return r?t.isFunction(r[a])&&"_"!==a.charAt(0)?(n=r[a].apply(r,l),n!==r&&n!==e?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(a||{})._init():t.data(this,s,new r(a,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,s,a,o=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(o={},r=i.split("."),i=r.shift(),r.length){for(s=o[i]=t.widget.extend({},this.options[i]),a=0;r.length-1>a;a++)s[r[a]]=s[r[a]]||{},s=s[r[a]];if(i=r.pop(),n===e)return s[i]===e?null:s[i];s[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];o[i]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var s,a=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=s=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,s=this.widget()),t.each(r,function(r,o){function l(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):e}"string"!=typeof o&&(l.guid=o.guid=o.guid||l.guid||t.guid++);var h=r.match(/^(\w+)\s*(.*)$/),c=h[1]+a.eventNamespace,u=h[2];u?s.delegate(u,c,l):n.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,s,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){"string"==typeof r&&(r={effect:r});var a,o=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),a&&t.effects&&t.effects.effect[o]?n[e](r):o!==e&&n[o]?n[o](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),
i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function r(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,a=Math.max,o=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(s!==e)return s;var i,n,r=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return t("body").append(r),i=a.offsetWidth,r.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),s=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var s,p,g,m,v,y,b=t(e.of),_=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(_),x=(e.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(e.at="left top"),p=y.width,g=y.height,m=y.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=h.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=h.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),s=i(k.at,p,g),v.left+=s[0],v.top+=s[1],this.each(function(){var r,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=u+f+n(this,"marginRight")+w.width,S=d+y+n(this,"marginBottom")+w.height,M=t.extend({},v),T=i(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),r={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:r,collisionWidth:C,collisionHeight:S,offset:[s[0]+T[0],s[1]+T[1]],my:e.my,at:e.at,within:_,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,n=i+p-u,r=m.top-M.top,s=r+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};u>p&&p>o(i+n)&&(l.horizontal="center"),d>g&&g>o(r+s)&&(l.vertical="middle"),l.important=a(o(i),o(n))>a(o(r),o(s))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=t.left-e.collisionPosition.marginLeft,l=r-o,h=o+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&0>=h?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=h>0&&0>=l?r:l>h?r+s-e.collisionWidth:r:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-o,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,o=t.top-e.collisionPosition.marginTop,l=r-o,h=o+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&0>=h?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=h>0&&0>=l?r:l>h?r+s-e.collisionHeight:r:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-o,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-a-s,(0>i||o(c)>i)&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||u>o(n))&&(t.left+=d+p+f))},top:function(t,e){var i,n,r=e.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(n=t.top+p+f+g+e.collisionHeight-a-s,t.top+p+f+g>c&&(0>n||o(c)>n)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>o(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,s,a=document.getElementsByTagName("body")[0],o=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(o),i=a||document.documentElement,i.insertBefore(e,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",r=t(o).offset().left,t.support.offsetFractions=r>10&&11>r,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,r,s,a=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),r=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(r.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i){var n=t(this).data("ui-draggable"),r=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,i){var n=t(this).data("ui-draggable"),r=this;t.each(n.sortables,function(){var s=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,r,s,a,o,l,h,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)o=p.snapElements[u].left,l=o+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,o-g>v||m>l+g||h-g>b||y>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(h-b),r=g>=Math.abs(c-y),s=g>=Math.abs(o-v),a=g>=Math.abs(l-m),n&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:o-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||r||s||a,"outer"!==f.snapMode&&(n=g>=Math.abs(h-y),r=g>=Math.abs(c-b),s=g>=Math.abs(o-m),a=g>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:o}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||r||s||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||r||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),r=t(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var r,s,a=(t.positionAbs||t.position.absolute).left,o=a+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,h=l+t.helperProportions.height,c=i.offset.left,u=c+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return a>=c&&u>=o&&l>=d&&p>=h;case"intersect":return a+t.helperProportions.width/2>c&&u>o-t.helperProportions.width/2&&l+t.helperProportions.height/2>d&&p>h-t.helperProportions.height/2;case"pointer":return r=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,s=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(s,d,i.proportions.height)&&e(r,c,i.proportions.width);case"touch":return(l>=d&&p>=l||h>=d&&p>=h||d>l&&h>p)&&(a>=c&&u>=a||o>=c&&u>=o||c>a&&o>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,r,s=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(r=0;o.length>r;r++)if(o[r]===s[n].element[0]){s[n].proportions.height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===a&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,a=t.ui.intersect(e,this,this.options.tolerance),o=!a&&this.isover?"isout":a&&!this.isover?"isover":null;o&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){
return t.data(this,"ui-droppable").options.scope===r}),s.length&&(n=t.data(s[0],"ui-droppable"),n.greedyChild="isover"===o)),n&&"isover"===o&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),n&&"isout"===o&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,r,s,a=this,o=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),s="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+s+"'></div>"),r.css({zIndex:o.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,s),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){o.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,s,a=this.options,o=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),n=e(this.helper.css("left")),r=e(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,r+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,r={},s=this.originalMousePosition,a=this.axis,o=this.position.top,l=this.position.left,h=this.size.width,c=this.size.height,u=e.pageX-s.left||0,d=e.pageY-s.top||0,p=this._change[a];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==o&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==h&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,s,a,o,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,s=n?0:c.sizeDiff.width,a={width:c.helper.width()-s,height:c.helper.height()-r},o=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:o})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,r,s,a,o=this.options;a={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),r>a.minHeight&&(a.minHeight=r),a.maxWidth>n&&(a.maxWidth=n),a.maxHeight>s&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,r=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===r&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===r&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,r=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,o=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),o&&(t.height=e.minHeight),r&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),a&&c&&(t.left=l-e.minWidth),r&&c&&(t.left=l-e.maxWidth),o&&u&&(t.top=h-e.minHeight),s&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,r,s=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(r=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);r.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),a=s&&t.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,o=s?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-a},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,s,a,o,l,h=t(this).data("ui-resizable"),c=h.options,u=h.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(h.containerElement=t(p),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,r){n[t]=e(i.css("padding"+r))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=h.containerOffset,s=h.containerSize.height,a=h.containerSize.width,o=t.ui.hasScroll(p,"left")?p.scrollWidth:a,l=t.ui.hasScroll(p)?p.scrollHeight:s,h.parentData={element:p,left:r.left,top:r.top,width:o,height:l}))},resize:function(e){var i,n,r,s,a=t(this).data("ui-resizable"),o=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=o.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),r&&s&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,r=e.containerPosition,s=e.containerElement,a=t(e.helper),o=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:o.left-r.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:o.left-r.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),r=n.options,s=n.originalSize,a=n.originalPosition,o={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),s={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(r[e]||0)+(o[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):t.each(r.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,r=e.originalSize,s=e.originalPosition,a=e.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=o[0]||1,h=o[1]||1,c=Math.round((n.width-r.width)/l)*l,u=Math.round((n.height-r.height)/h)*h,d=r.width+c,p=r.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=o,m&&(d+=l),v&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=s.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=s.left-c):(e.size.width=d,e.size.height=p,e.position.top=s.top-u,e.position.left=s.left-c)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],a=this.opos[1],o=e.pageX,l=e.pageY;return s>o&&(i=o,o=s,s=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:s,top:a,width:o-s,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?h=!(i.left>o||s>i.right||i.top>l||a>i.bottom):"fit"===r.tolerance&&(h=i.left>s&&o>i.right&&i.top>a&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var r,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,a=this.options,o=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),o!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,a=s+t.width,o=t.top,l=o+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+h>o&&l>n+h,d="y"===this.options.axis||e+c>s&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>s&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>o&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&n,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,s,a=[],o=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(r=t(l[i]),n=r.length-1;n>=0;n--)s=t.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&o.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(o.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{
options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=o.length-1;i>=0;i--)o[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,s,a,o,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i]),n=r.length-1;n>=0;n--)s=t.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(a=u[i][1],o=u[i][0],n=0,h=o.length;h>n;n++)l=t(o[n]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var r,s,a,o,l,h,c,u,d,p,f=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!t.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&t.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,o=null,p=f.floating||i(this.currentItem),l=p?"left":"top",h=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)t.contains(this.containers[g].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(u=this.items[s].item.offset()[l],d=!1,Math.abs(u-c)>Math.abs(u+this.items[s][h]-c)&&(d=!0,u+=this.items[s][h]),a>Math.abs(u-c)&&(a=Math.abs(u-c),o=this.items[s],this.direction=d?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(n,o,null,!0):this._rearrange(n,null,this.containers[g].element,!0),this._trigger("change",n,this._uiHash()),this.containers[g]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,a=e.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)a.push(s);this.handles=r.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,s,a,o,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(r>i||r===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(r=i,s=t(this),a=e)}),o=this._start(e,a),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-s.width()/2,top:e.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),s!==!1&&this.values(e,i,!0))):i!==this.value()&&(s=this._trigger("slide",t,{handle:this.handles[e],value:i}),s!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,s,a=this.options.range,o=this.options,l=this,h=this._animateOff?!1:o.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},o.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},o.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:o.animate}))),e=i}):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?100*((n-r)/(s-r)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,o.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},o.animate),"max"===a&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},o.animate),"max"===a&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(i){var n,r,s,a,o=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,o),n===!1))return}switch(a=this.options.step,r=s=this.options.values&&this.options.values.length?this.values(o):this.value(),i.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(r===this._valueMax())return;s=this._trimAlignValue(r+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(r===this._valueMin())return;s=this._trimAlignValue(r-a)}this._slide(i,o,s)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),!function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,r=this.length;++n<r&&(i.context=i[0]=this[n])&&e.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function i(t){var e,i,n,r;if(!t||t.length<1)return t;for(e="",i=0,n=t.length;n>i;i++)r=t.charAt(i),e+=F[r]||r;return e}function n(t,e){for(var i=0,n=e.length;n>i;i+=1)if(s(t,e[i]))return i;return-1}function r(){var e=t(N);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function s(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function a(e,i){var n,r,s;if(null===e||e.length<1)return[];for(n=e.split(i),r=0,s=n.length;s>r;r+=1)n[r]=t.trim(n[r]);return n}function o(t){return t.outerWidth(!1)-t.width()}function l(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var r=t.data(i,n);r!==e&&i.val()!==r&&(t.removeData(i,n),i.trigger("keyup-change"))})}function h(i){i.on("mousemove",function(i){var n=H;(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function c(t,i,n){n=n||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){i.apply(n,e)},t)}}function u(t){var e,i=!1;return function(){return i===!1&&(e=t(),i=!0),e}}function d(t,e){var i=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function p(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),t.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function f(e){e=t(e)[0];var i=0,n=0;if("selectionStart"in e)i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var r=document.selection.createRange();n=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),i=r.text.length-n}return{offset:i,length:n}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!z){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);z=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),z.attr("class","select2-sizer"),t("body").append(z)}return z.text(e.val()),z.width()}function y(e,i,n){var r,s,a=[];r=e.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),r=i.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=n(this),s&&a.push(s))})),e.attr("class",a.join(" "))}function b(t,e,n,r){var s=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),a=e.length;return 0>s?void n.push(r(t)):(n.push(r(t.substring(0,s))),n.push("<span class='select2-match'>"),n.push(r(t.substring(s,s+a))),n.push("</span>"),void n.push(r(t.substring(s+a,t.length))))}function _(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(i){var n,r=null,s=i.quietMillis||100,a=i.url,o=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,s=a,h=i.transport||t.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},u=t.extend({},t.fn.select2.ajaxDefaults.params,c);n=n?n.call(o,l.term,l.page,l.context):null,s="function"==typeof s?s.call(o,l.term,l.page,l.context):s,r&&r.abort(),i.params&&(t.isFunction(i.params)?t.extend(u,i.params.call(o)):t.extend(u,i.params)),t.extend(u,{url:s,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page);l.callback(e)}}),r=h.call(o,u)},s)}}function x(e){var i,n,r=e,s=function(t){return""+t.text};t.isArray(r)&&(n=r,r={results:n}),t.isFunction(r)===!1&&(n=r,r=function(){return n});var a=r();return a.text&&(s=a.text,t.isFunction(s)||(i=a.text,s=function(t){return t[i]})),function(e){var i,n=e.term,a={results:[]};return""===n?void e.callback(r()):(i=function(r,a){var o,l;if(r=r[0],r.children){o={};for(l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);o.children=[],t(r.children).each2(function(t,e){i(e,o.children)}),(o.children.length||e.matcher(n,s(o),r))&&a.push(o)}else e.matcher(n,s(r),r)&&a.push(r)},t(r().results).each2(function(t,e){i(e,a.results)}),void e.callback(a))}}function k(i){var n=t.isFunction(i);return function(r){var s=r.term,a={results:[]};t(n?i():i).each(function(){var t=this.text!==e,i=t?this.text:this;(""===s||r.matcher(s,i))&&a.results.push(t?this:{id:this,text:this})}),r.callback(a)}}function C(e,i){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(i+" must be a function or a falsy value")}function S(e){return t.isFunction(e)?e():e}function M(e){var i=0;return t.each(e,function(t,e){e.children?i+=M(e.children):i++}),i}function T(t,i,n,r){var a,o,l,h,c,u=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(o=-1,l=0,h=r.tokenSeparators.length;h>l&&(c=r.tokenSeparators[l],o=t.indexOf(c),!(o>=0));l++);if(0>o)break;if(a=t.substring(0,o),t=t.substring(o+c.length),a.length>0&&(a=r.createSearchChoice.call(this,a,i),a!==e&&null!==a&&r.id(a)!==e&&null!==r.id(a))){for(d=!1,l=0,h=i.length;h>l;l++)if(s(r.id(a),r.id(i[l]))){d=!0;break}d||n(a)}}return u!==t?t:void 0}function P(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var E,D,R,I,A,z,O,L,H={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},N="<div class='select2-measure-scrollbar'></div>",F={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O",
"":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};O=t(document),A=function(){var t=1;return function(){return t++}}(),O.on("mousemove",function(t){H.x=t.pageX,H.y=t.pageY}),D=P(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s,a=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+A()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return i.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss)),this.container.addClass(S(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=n=this.container.find(a),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",a,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,r){var s=n.scrollTop();r>0&&0>=s-r?(n.scrollTop(0),g(t)):0>r&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),g(t))}),l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var c=i.element.prop("readonly");c===e&&(c=!1),this.readonly(c),L=L||r(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=e},destroy:function(){var t=this.opts.element,i=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==e&&(i.container.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:s(t.attr("locked"),"locked")||s(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,r,o,l,h=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=r=i.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(n,r,s){var a,o=this.opts.id;(a=function(n,r,l){var c,u,d,p,f,g,m,v,y,b;for(n=i.sortResults(n,r,s),c=0,u=n.length;u>c;c+=1)d=n[c],f=d.disabled===!0,p=!f&&o(d)!==e,g=d.children&&d.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(h.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(d,v,s,h.opts.escapeMarkup),b!==e&&v.html(b),m.append(v),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),a(d.children,y,l+1),m.append(y)),m.data("select2-data",d),r.append(m)})(r,n,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(o=i.id,i.id=function(t){return t[o]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind(function(t){var i,r,s,a={results:[],more:!1},o=t.term;s=function(e,i){var n;e.is("option")?t.matcher(o,e.text(),e)&&i.push(h.optionToData(e)):e.is("optgroup")&&(n=h.optionToData(e),e.children().each2(function(t,e){s(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r))),i.each2(function(t,e){s(e,a.results)}),t.callback(a)}),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=x(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var r=[];t(a(e.val(),i.separator)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){return s(this.id,e.id)?(e=this,!1):void 0}),r.push(e)}),n(r)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t,i,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass))}),n.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,r,s,a=this.dropdown,o=this.container.offset(),l=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=a.outerHeight(!1),u=t(window),d=u.width(),p=u.height(),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=o.top+l,v=o.left,y=g>=m+c,b=o.top-c>=this.body().scrollTop(),_=a.outerWidth(!1),w=f>=v+_,x=a.hasClass("select2-drop-above");x?(i=!0,!b&&y&&(n=!0,i=!1)):(i=!1,!y&&b&&(n=!0,i=!0)),n&&(a.hide(),o=this.container.offset(),l=this.container.outerHeight(!1),h=this.container.outerWidth(!1),c=a.outerHeight(!1),f=u.scrollLeft()+d,g=u.scrollTop()+p,m=o.top+l,v=o.left,_=a.outerWidth(!1),w=f>=v+_,a.show()),this.opts.dropdownAutoWidth?(s=t(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),_=a.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:L.width),_>h?h=_:_=h,w=f>=v+_):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),m-=e.top,v-=e.left),w||(v=o.left+h-_),r={left:v,width:h},i?(r.bottom=p-o.top,r.top="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(r.top=m,r.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),r=t.extend(r,S(this.opts.dropdownCss)),a.css(r)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var e,i=this.containerId,n="scroll."+i,r="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",function(e){var i,n=t("#select2-drop");n.length>0&&(i=n.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!0}),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(r+" "+n+" "+s,function(){a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,n="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,n,r,s,a,o,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=t(e[i]),r=n.offset().top+n.outerHeight(!0),i===e.length-1&&(o=l.find("li.select2-more-results"),o.length>0&&(r=o.offset().top+o.outerHeight(!0))),s=l.offset().top+l.outerHeight(!0),r>s&&l.scrollTop(l.scrollTop()+(r-s)),a=n.offset().top-l.offset().top,0>a&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=e;var r=t(i[n]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,r,s=this.findHighlightableChoices();return 0===arguments.length?n(s.filter(".select2-highlighted")[0],s.get()):(e>=s.length&&(e=s.length-1),0>e&&(e=0),this.removeHighlight(),i=t(s[e]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=i.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),n=this.resultsPage+1,r=this,s=this.search.val(),a=this.context;0!==i.length&&(t=i.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:n,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:s,page:n,context:a}),r.postprocessResults(t,!1,!1),t.more===!0?(i.detach().appendTo(e).text(r.opts.formatLoadMore(n+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):i.remove(),r.positionDropdown(),r.resultsPage=n,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(i){function n(){h.removeClass("select2-active"),d.positionDropdown()}function r(t){c.html(t),n()}var a,o,l,h=this.search,c=this.results,u=this.opts,d=this,p=h.val(),f=t.data(this.container,"select2-last-term");if((i===!0||!f||!s(p,f))&&(t.data(this.container,"select2-last-term",p),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(a=this.data(),t.isArray(a)&&a.length>=g&&C(u.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(g)+"</li>");if(h.val().length<u.minimumInputLength)return r(C(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u.formatInputTooShort(h.val(),u.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(u.maximumInputLength&&h.val().length>u.maximumInputLength)return void r(C(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u.formatInputTooLong(h.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+u.formatSearching()+"</li>"),h.addClass("select2-active"),this.removeHighlight(),o=this.tokenize(),o!=e&&null!=o&&h.val(o),this.resultsPage=1,u.query({element:u.element,term:h.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(a){var o;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==h.val()&&(o=this.opts.createSearchChoice.call(d,h.val(),a.results),o!==e&&null!==o&&d.id(o)!==e&&null!==d.id(o)&&0===t(a.results).filter(function(){return s(d.id(this),d.id(o))}).length&&a.results.unshift(o)),0===a.results.length&&C(u.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+u.formatNoMatches(h.val())+"</li>");c.empty(),d.opts.populateResults.call(this,c,a.results,{term:h.val(),page:this.resultsPage,context:null}),a.more===!0&&C(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),n(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function i(){var i,n,r,s,a,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==e)for(n=i.split(";"),s=0,a=n.length;a>s;s+=1)if(o=n[s].replace(/\s/g,""),r=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),R=P(D,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(r=this.search.val().length,i.setSelectionRange(r,r)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(t){this.opened()&&(this.parent.close.apply(this,arguments),t=t||{focus:!0},this.focusser.removeAttr("disabled"),t.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i=this.container,n=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+A()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)return void g(t);switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void g(t);case E.ENTER:return this.selectHighlighted(),void g(t);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.ESC){if(this.opts.openOnEnter===!1&&t.which===E.ENTER)return void g(t);if(t.which==E.DOWN||t.which==E.UP||t.which==E.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==E.DELETE||t.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(e)})),n.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()?(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val():!1},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=i.val(),a=null;e.query({matcher:function(t,i,n){var o=s(r,e.id(n));return o&&(a=n),o},callback:t.isFunction(n)?function(){n(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return s(r.id(e.data("select2-data")),r.opts.element.val())?(n=t,!1):void 0}),i!==!1&&(e===!0&&n>=0?this.highlight(n):this.highlight(0)),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(M(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),s(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(i=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),i!==e&&r.append(i),n=this.opts.formatSelectionCssClass(t,r),n!==e&&r.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,r=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=r.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:s});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");
this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),i&&r.triggerChange({added:t,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)))}}),I=P(D,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=a(i.val(),e.separator),o=[];e.query({matcher:function(i,n,a){var l=t.grep(r,function(t){return s(t,e.id(a))}).length;return l&&o.push(a),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<r.length;i++)for(var a=r[i],l=0;l<o.length;l++){var h=o[l];if(s(a,e.id(h))){t.push(h),o.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+A()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),r=i.next(".select2-search-choice:not(.select2-locked)"),s=f(this.search);if(i.length&&(t.which==E.LEFT||t.which==E.RIGHT||t.which==E.BACKSPACE||t.which==E.DELETE||t.which==E.ENTER)){var a=i;return t.which==E.LEFT&&n.length?a=n:t.which==E.RIGHT?a=r.length?r:null:t.which===E.BACKSPACE?(this.unselect(i.first()),this.search.width(10),a=n.length?n:r):t.which==E.DELETE?(this.unselect(i.first()),this.search.width(10),a=r.length?r:null):t.which==E.ENTER&&(a=null),this.selectChoice(a),g(t),void(a&&a.length||this.open())}if((t.which===E.BACKSPACE&&1==this.keydowns||t.which==E.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void g(t);case E.ENTER:return this.selectHighlighted(),void g(t);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(t),void g(t)}if(t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.BACKSPACE&&t.which!==E.ESC){if(t.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)&&g(t),t.which===E.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],r=[],s=this;t(e).each(function(){n(s.id(this),i)<0&&(i.push(s.id(this)),r.push(this))}),e=r,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,r,s=!i.locked,a=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?a:o,h=this.id(i),c=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=e&&l.find("div").replaceWith("<div>"+n+"</div>"),r=this.opts.formatSelectionCssClass(i,l.find("div")),r!=e&&l.addClass(r),s&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),c.push(h),this.setVal(c)},unselect:function(e){var i,r,s=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){for(;(r=n(this.id(i),s))>=0;)s.splice(r,1),this.setVal(s),this.select&&this.postprocessResults();var a=t.Event("select2-removing");a.val=this.id(i),a.choice=i,this.opts.element.trigger(a),a.isDefaultPrevented()||(e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},postprocessResults:function(t,e,i){var r=this.getVal(),s=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),o=this;s.each2(function(t,e){var i=o.id(e.data("select2-data"));n(i,r)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&o.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,i,n,r,s=o(this.search);t=v(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,r=i-(e-n)-s,t>r&&(r=i-s),40>r&&(r=i-s),0>=r&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var n=0;n<t.length;n++)s(this.opts.id(e[i]),this.opts.id(t[n]))&&(e.splice(i,1),i>0&&i--,t.splice(n,1),n--);return{added:e,removed:t}},val:function(i,n){var r,s=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,s.id);s.setVal(i),s.updateSelection(e),s.clearSearch(),n&&s.triggerChange(s.buildChangeDetails(r,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,r,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),n=t.map(e,function(t){return s.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(r,this.data()))))}}),t.fn.select2=function(){var i,r,s,a,o,l=Array.prototype.slice.call(arguments,0),h=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:t.extend({},l[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?o=i.element.prop("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),r=o?new I:new R,r.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],h)<0)throw"Unknown method: "+l[0];if(a=e,r=t(this).data("select2"),r===e)return;if(s=l[0],"container"===s?a=r.container:"dropdown"===s?a=r.dropdown:(d[s]&&(s=d[s]),a=r[s].apply(r,l.slice(1))),n(l[0],c)>=0||n(l[0],u)&&1==l.length)return!1}}),a===e?this:a},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var r=[];return b(t.text,i.term,r,n),r.join("")},formatSelection:function(t,i,n){return t?n(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:k},util:{debounce:c,markMatch:b,escapeMarkup:_,stripDiacritics:i},"class":{"abstract":D,single:R,multi:I}}}}(jQuery),function(t){t.fn.hoverIntent=function(e,i,n){var r={interval:100,sensitivity:7,timeout:0};r="object"==typeof e?t.extend(r,e):t.isFunction(i)?t.extend(r,{over:e,out:i,selector:n}):t.extend(r,{over:e,out:e,selector:i});var s,a,o,l,h=function(t){s=t.pageX,a=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(o-s)+Math.abs(l-a)<r.sensitivity?(t(i).off("mousemove.hoverIntent",h),i.hoverIntent_s=1,r.over.apply(i,[e])):(o=s,l=a,i.hoverIntent_t=setTimeout(function(){c(e,i)},r.interval),void 0)},u=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,r.out.apply(e,[t])},d=function(e){var i=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"==e.type?(o=i.pageX,l=i.pageY,t(n).on("mousemove.hoverIntent",h),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(i,n)},r.interval))):(t(n).off("mousemove.hoverIntent",h),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){u(i,n)},r.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},r.selector)}}(jQuery),function(t,e){var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(n){function r(){var e=t(d),i=t(p);l&&(p.length?l.reject(c,e,i):l.resolve(c)),t.isFunction(n)&&n.call(o,c,e,i)}function s(t){a(t.target,"error"===t.type)}function a(e,n){e.src===i||-1!==t.inArray(e,u)||(u.push(e),n?p.push(e):d.push(e),t.data(e,"imagesLoaded",{isBroken:n,src:e.src}),h&&l.notifyWith(t(e),[n,c,t(d),t(p)]),c.length===u.length&&(setTimeout(r),c.unbind(".imagesLoaded",s)))}var o=this,l=t.isFunction(t.Deferred)?t.Deferred():0,h=t.isFunction(l.notify),c=o.find("img").add(o.filter("img")),u=[],d=[],p=[];return t.isPlainObject(n)&&t.each(n,function(t,e){"callback"===t?n=e:l&&l[t](e)}),c.length?c.bind("load.imagesLoaded error.imagesLoaded",s).each(function(n,r){var s=r.src,o=t.data(r,"imagesLoaded");o&&o.src===s?a(r,o.isBroken):r.complete&&r.naturalWidth!==e?a(r,0===r.naturalWidth||0===r.naturalHeight):(r.readyState||r.complete)&&(r.src=i,r.src=s)}):r(),l?l.promise(o):o}}(jQuery),function(){"use strict";function t(t){function e(e,n){var s,g,m=e==window,v=n&&void 0!==n.message?n.message:void 0;if(n=t.extend({},t.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(n.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=t.extend({},t.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),g=t.extend({},t.blockUI.defaults.themedCSS,n.themedCSS||{}),v=void 0===v?n.message:v,m&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var y=v.jquery?v[0]:v,b={};t(e).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}t(e).data("blockUI.onUnblock",n.onUnblock);var _,w,x,k,C=n.baseZ;_=t(c||n.forceIframe?'<iframe class="blockUI" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),w=t(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+C++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&m?(k='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:fixed">',n.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):n.theme?(k='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:absolute">',n.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=m?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(C+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(C+10)+';display:none;position:absolute"></div>',x=t(k),v&&(n.theme?(x.css(g),x.addClass("ui-widget-content")):x.css(s)),n.theme||w.css(n.overlayCSS),w.css("position",m?"fixed":"absolute"),(c||n.forceIframe)&&_.css("opacity",0);var S=[_,w,x],M=t(m?"body":e);t.each(S,function(){this.appendTo(M)}),n.theme&&n.draggable&&t.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var T=d&&(!t.support.boxModel||t("object,embed",m?null:e).length>0);if(u||T){if(m&&n.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(u||!t.support.boxModel)&&!m)var P=l(e,"borderTopWidth"),E=l(e,"borderLeftWidth"),D=P?"(0 - "+P+")":0,R=E?"(0 - "+E+")":0;t.each(S,function(t,e){var i=e[0].style;if(i.position="absolute",2>t)m?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),R&&i.setExpression("left",R),D&&i.setExpression("top",D);else if(n.centerY)m&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&m){var r=n.css&&n.css.top?parseInt(n.css.top,10):0,s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';i.setExpression("top",s)}})}if(v&&(n.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&t(v).show()),(c||n.forceIframe)&&n.showOverlay&&_.show(),n.fadeIn){var I=n.onBlock?n.onBlock:h,A=n.showOverlay&&!v?I:h,z=v?I:h;n.showOverlay&&w._fadeIn(n.fadeIn,A),v&&x._fadeIn(n.fadeIn,z)}else n.showOverlay&&w.show(),v&&x.show(),n.onBlock&&n.onBlock();if(r(1,e,n),m?(p=x[0],f=t(n.focusableElements,p),n.focusInput&&setTimeout(a,20)):o(x[0],n.centerX,n.centerY),n.timeout){var O=setTimeout(function(){m?t.unblockUI(n):t(e).unblock(n)},n.timeout);t(e).data("blockUI.timeout",O)}}}function i(e,i){var s,a=e==window,o=t(e),l=o.data("blockUI.history"),h=o.data("blockUI.timeout");h&&(clearTimeout(h),o.removeData("blockUI.timeout")),i=t.extend({},t.blockUI.defaults,i||{}),r(0,e,i),null===i.onUnblock&&(i.onUnblock=o.data("blockUI.onUnblock"),o.removeData("blockUI.onUnblock"));var c;c=a?t("body").children().filter(".blockUI").add("body > .blockUI"):o.find(">.blockUI"),i.cursorReset&&(c.length>1&&(c[1].style.cursor=i.cursorReset),c.length>2&&(c[2].style.cursor=i.cursorReset)),a&&(p=f=null),i.fadeOut?(s=c.length,c.stop().fadeOut(i.fadeOut,function(){0===--s&&n(c,l,i,e)})):n(c,l,i,e)}function n(e,i,n,r){var s=t(r);if(!s.data("blockUI.isBlocked")){e.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(r,n);var a=t(document.body),o=a.width(),l=a[0].style.width;a.width(o-1).width(o),a[0].style.width=l}}function r(e,i,n){var r=i==window,a=t(i);if((e||(!r||p)&&(r||a.data("blockUI.isBlocked")))&&(a.data("blockUI.isBlocked",e),r&&n.bindEvents&&(!e||n.showOverlay))){var o="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(o,n,s):t(document).unbind(o,s)}}function s(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&p&&e.data.constrainTabKey){var i=f,n=!e.shiftKey&&e.target===i[i.length-1],r=e.shiftKey&&e.target===i[0];if(n||r)return setTimeout(function(){a(r)},10),!1}var s=e.data,o=t(e.target);return o.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(e),o.parents("div."+s.blockMsgClass).length>0?!0:0===o.parents().children().filter("div.blockUI").length}function a(t){if(f){var e=f[t===!0?f.length-1:0];e&&e.focus()}}function o(t,e,i){var n=t.parentNode,r=t.style,s=(n.offsetWidth-t.offsetWidth)/2-l(n,"borderLeftWidth"),a=(n.offsetHeight-t.offsetHeight)/2-l(n,"borderTopWidth");e&&(r.left=s>0?s+"px":"0"),i&&(r.top=a>0?a+"px":"0")}function l(e,i){return parseInt(t.css(e,i),10)||0}t.fn._fadeIn=t.fn.fadeIn;var h=t.noop||function(){},c=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),d=(document.documentMode||0,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){i(window,t)},t.growlUI=function(e,i,n,r){var s=t('<div class="growlUI"></div>');e&&s.append("<h1>"+e+"</h1>"),i&&s.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3);var a=function(e){e=e||{},t.blockUI({message:s,fadeIn:"undefined"!=typeof e.fadeIn?e.fadeIn:700,fadeOut:"undefined"!=typeof e.fadeOut?e.fadeOut:1e3,timeout:"undefined"!=typeof e.timeout?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:r,css:t.blockUI.defaults.growlCSS})};a();s.css("opacity");s.mouseover(function(){a({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(i){if(this[0]===window)return t.blockUI(i),this;var n=t.extend({},t.blockUI.defaults,i||{});return this.each(function(){var e=t(this);n.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,i)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){i(this,e)})},t.blockUI.version=2.66,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(),function(t){var e,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=t(n).data("autosize",!0)[0];s.style.lineHeight="99px","99px"===t(s).css("lineHeight")&&r.push("lineHeight"),s.style.lineHeight="",t.fn.autosize=function(n){return this.length?(n=t.extend({},i,n||{}),s.parentNode!==document.body&&t(document.body).append(s),this.each(function(){function i(){var e,i;"getComputedStyle"in window?(e=window.getComputedStyle(d,null),i=d.getBoundingClientRect().width,t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,n){i-=parseInt(e[n],10)}),s.style.width=i+"px"):s.style.width=Math.max(p.width(),0)+"px"}function a(){var a={};if(e=d,s.className=n.className,h=parseInt(p.css("maxHeight"),10),t.each(r,function(t,e){a[e]=p.css(e)}),t(s).css(a),i(),window.chrome){var o=d.style.width;d.style.width="0px",d.offsetWidth,d.style.width=o}}function o(){var t,r;e!==d?a():i(),s.value=d.value+n.append,s.style.overflowY=d.style.overflowY,r=parseInt(d.style.height,10),s.scrollTop=0,s.scrollTop=9e4,t=s.scrollTop,h&&t>h?(d.style.overflowY="scroll",t=h):(d.style.overflowY="hidden",c>t&&(t=c)),t+=f,r!==t&&(d.style.height=t+"px",g&&n.callback.call(d,d))}function l(){clearTimeout(u),u=setTimeout(function(){var t=p.width();t!==v&&(v=t,o())},parseInt(n.resizeDelay,10))}var h,c,u,d=this,p=t(d),f=0,g=t.isFunction(n.callback),m={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},v=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?p.on("input.autosize keyup.autosize",o):p.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):p.on("input.autosize",o),n.resizeDelay!==!1&&t(window).on("resize.autosize",l),p.on("autosize.resize",o),p.on("autosize.resizeIncludeStyle",function(){e=null,o()}),p.on("autosize.destroy",function(){e=null,clearTimeout(u),t(window).off("resize",l),p.off("autosize").off(".autosize").css(m).removeData("autosize")}),o())})):this}}(window.jQuery||window.$);var Hogan={};!function(t,e){function i(t){return String(null===t||void 0===t?"":t)}function n(t){return t=i(t),h.test(t)?t.replace(r,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(o,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,i,n,r){this.r=t||this.r,this.c=n,this.options=r,this.text=i||"",this.buf=e?[]:""},t.Template.prototype={r:function(t,e,i){return""},v:n,t:i,render:function(t,e,i){return this.ri([t],e||{},i)},ri:function(t,e,i){return this.r(t,e,i)},rp:function(t,e,i,n){var r=i[t];return r?(this.c&&"string"==typeof r&&(r=this.c.compile(r,this.options)),r.ri(e,i,n)):""},rs:function(t,e,i){var n=t[t.length-1];if(!c(n))return void i(t,e,this);for(var r=0;r<n.length;r++)t.push(n[r]),i(t,e,this),t.pop()},s:function(t,e,i,n,r,s,a){var o;return c(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ls(t,e,i,n,r,s,a)),o=""===t||!!t,!n&&o&&e&&e.push("object"==typeof t?t:e[e.length-1]),o)},d:function(t,e,i,n){var r=t.split("."),s=this.f(r[0],e,i,n),a=null;if("."===t&&c(e[e.length-2]))return e[e.length-1];for(var o=1;o<r.length;o++)s&&"object"==typeof s&&r[o]in s?(a=s,s=s[r[o]]):s="";return n&&!s?!1:(!n&&"function"==typeof s&&(e.push(a),s=this.lv(s,e,i),e.pop()),s)},f:function(t,e,i,n){for(var r=!1,s=null,a=!1,o=e.length-1;o>=0;o--)if(s=e[o],s&&"object"==typeof s&&t in s){r=s[t],a=!0;break}return a?(!n&&"function"==typeof r&&(r=this.lv(r,e,i)),r):n?!1:""},ho:function(t,e,i,n,r){var s=this.c,a=this.options;a.delimiters=r;var n=t.call(e,n);return n=null==n?String(n):n.toString(),this.b(s.compile(n,a).render(e,i)),!1},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ls:function(t,e,i,n,r,s,a){var o=e[e.length-1],l=null;if(!n&&this.c&&t.length>0)return this.ho(t,o,i,this.text.substring(r,s),a);if(l=t.call(o),"function"==typeof l){if(n)return!0;if(this.c)return this.ho(l,o,i,this.text.substring(r,s),a)}return l},lv:function(t,e,n){var r=e[e.length-1],s=t.call(r);return"function"==typeof s&&(s=i(s.call(r)),this.c&&~s.indexOf("{{"))?this.c.compile(s,this.options).render(r,n):i(s)}};var r=/&/g,s=/</g,a=/>/g,o=/\'/g,l=/\"/g,h=/[&<>\"\']/,c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function i(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function n(t,e,i){if(e.charAt(i)!=t.charAt(0))return!1;
for(var n=1,r=t.length;r>n;n++)if(e.charAt(i+n)!=t.charAt(n))return!1;return!0}function r(t,e,i,n){for(var o=[],l=null,h=null;t.length>0;)if(h=t.shift(),"#"==h.tag||"^"==h.tag||s(h,n))i.push(h),h.nodes=r(t,h.tag,i,n),o.push(h);else{if("/"==h.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+h.n);if(l=i.pop(),h.n!=l.n&&!a(h.n,l.n,n))throw new Error("Nesting error: "+l.n+" vs. "+h.n);return l.end=h.i,o}o.push(h)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return o}function s(t,e){for(var i=0,n=e.length;n>i;i++)if(e[i].o==t.n)return t.tag="#",!0}function a(t,e,i){for(var n=0,r=i.length;r>n;n++)if(i[n].c==t&&i[n].o==e)return!0}function o(t){return t.replace(_,"\\\\").replace(v,'\\"').replace(y,"\\n").replace(b,"\\r")}function l(t){return~t.indexOf(".")?"d":"f"}function h(t){for(var e="",i=0,n=t.length;n>i;i++){var r=t[i].tag;"#"==r?e+=c(t[i].nodes,t[i].n,l(t[i].n),t[i].i,t[i].end,t[i].otag+" "+t[i].ctag):"^"==r?e+=u(t[i].nodes,t[i].n,l(t[i].n)):"<"==r||">"==r?e+=d(t[i]):"{"==r||"&"==r?e+=p(t[i].n,l(t[i].n)):"\n"==r?e+=g('"\\n"'+(t.length-1==i?"":" + i")):"_v"==r?e+=f(t[i].n,l(t[i].n)):void 0===r&&(e+=g('"'+o(t[i])+'"'))}return e}function c(t,e,i,n,r,s){return"if(_.s(_."+i+'("'+o(e)+'",c,p,1),c,p,0,'+n+","+r+',"'+s+'")){_.rs(c,p,function(c,p,_){'+h(t)+"});c.pop();}"}function u(t,e,i){return"if(!_.s(_."+i+'("'+o(e)+'",c,p,1),c,p,1,0,0,"")){'+h(t)+"};"}function d(t){return'_.b(_.rp("'+o(t.n)+'",c,p,"'+(t.indent||"")+'"));'}function p(t,e){return"_.b(_.t(_."+e+'("'+o(t)+'",c,p,0)));'}function f(t,e){return"_.b(_.v(_."+e+'("'+o(t)+'",c,p,0)));'}function g(t){return"_.b("+t+");"}var m=/\S/,v=/\"/g,y=/\n/g,b=/\r/g,_=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};t.scan=function(t,r){function s(){v.length>0&&(y.push(new String(v)),v="")}function a(){for(var t=!0,e=x;e<y.length;e++)if(t=y[e].tag&&w[y[e].tag]<w._v||!y[e].tag&&null===y[e].match(m),!t)return!1;return t}function o(t,e){if(s(),t&&a())for(var i,n=x;n<y.length;n++)y[n].tag||((i=y[n+1])&&">"==i.tag&&(i.indent=y[n].toString()),y.splice(n,1));else e||y.push({tag:"\n"});b=!1,x=y.length}function l(t,e){var n="="+C,r=t.indexOf(n,e),s=i(t.substring(t.indexOf("=",e)+1,r)).split(" ");return k=s[0],C=s[1],r+n.length-1}var h=t.length,c=0,u=1,d=2,p=c,f=null,g=null,v="",y=[],b=!1,_=0,x=0,k="{{",C="}}";for(r&&(r=r.split(" "),k=r[0],C=r[1]),_=0;h>_;_++)p==c?n(k,t,_)?(--_,s(),p=u):"\n"==t.charAt(_)?o(b):v+=t.charAt(_):p==u?(_+=k.length-1,g=w[t.charAt(_+1)],f=g?t.charAt(_+1):"_v","="==f?(_=l(t,_),p=c):(g&&_++,p=d),b=_):n(C,t,_)?(y.push({tag:f,n:i(v),otag:k,ctag:C,i:"/"==f?b-C.length:_+k.length}),v="",_+=C.length-1,p=c,"{"==f&&("}}"==C?_++:e(y[y.length-1]))):v+=t.charAt(_);return o(b,!0),y},t.generate=function(e,i,n){var r='var _=this;_.b(i=i||"");'+h(e)+"return _.fl();";return n.asString?"function(c,p,i){"+r+";}":new t.Template(new Function("c","p","i",r),i,t,n)},t.parse=function(t,e,i){return i=i||{},r(t,"",[],i.sectionTags||[])},t.cache={},t.compile=function(t,e){e=e||{};var i=t+"||"+!!e.asString,n=this.cache[i];return n?n:(n=this.generate(this.parse(this.scan(t,e.delimiters),t,e),t,e),this.cache[i]=n)}}("undefined"!=typeof exports?exports:Hogan),$(function(){$.fn.bootstrapFileInput=function(t){this.each(function(e,i){var n=$(i);if("undefined"==typeof n.attr("data-bfi-disabled")){var r=t&&t.length?t:"Browse";"undefined"!=typeof n.attr("title")&&(r=n.attr("title"));var s=$("<div>").append(n.eq(0).clone()).html(),a="";n.attr("class")&&(a=" "+n.attr("class")),n.replaceWith('<a class="file-input-wrapper btn'+a+'">'+r+s+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(t){var e,i,n,r,s,a,o,l;i=$(this),e=i.find("input"),n=i.offset().left,r=i.offset().top,s=e.width(),a=e.height(),o=t.pageX,l=t.pageY,moveInputX=o-n-s+20,moveInputY=l-r-a/2,e.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){var t;t=$(this).val(),$(this).parent().next(".file-input-name").remove(),t=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":t.substring(t.lastIndexOf("\\")+1,t.length),$(this).parent().after('<span class="file-input-name">'+t+"</span>")})})};var t="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(t)}),function(t){if("undefined"!=typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof module&&module.exports){var e=require("jquery");module.exports=t(e)}else window.scrollMonitor=t(jQuery)}(function(t){function e(){return window.innerHeight||document.documentElement.clientHeight}function i(){if(l.viewportTop=h.scrollTop(),l.viewportBottom=l.viewportTop+l.viewportHeight,l.documentHeight=c.height(),l.documentHeight!==w){for(k=u.length;k--;)u[k].recalculateLocation();w=l.documentHeight}}function n(){l.viewportHeight=e(),i(),s()}function r(){clearTimeout(C),C=setTimeout(n,100)}function s(){for(S=u.length;S--;)u[S].update();for(S=u.length;S--;)u[S].triggerCallbacks()}function a(e,i){function n(t){if(0!==t.length)for(w=t.length;w--;)k=t[w],k.callback.call(r,x),k.isOne&&t.splice(w,1)}var r=this;this.watchItem=e,i?i===+i?this.offsets={top:i,bottom:i}:this.offsets=t.extend({},_,i):this.offsets=_,this.callbacks={};for(var s=0,a=b.length;a>s;s++)r.callbacks[b[s]]=[];this.locked=!1;var o,h,c,u,w,k;this.triggerCallbacks=function(){switch(this.isInViewport&&!o&&n(this.callbacks[p]),this.isFullyInViewport&&!h&&n(this.callbacks[f]),this.isAboveViewport!==c&&this.isBelowViewport!==u&&(n(this.callbacks[d]),h||this.isFullyInViewport||(n(this.callbacks[f]),n(this.callbacks[m])),o||this.isInViewport||(n(this.callbacks[p]),n(this.callbacks[g]))),!this.isFullyInViewport&&h&&n(this.callbacks[m]),!this.isInViewport&&o&&n(this.callbacks[g]),this.isInViewport!==o&&n(this.callbacks[d]),!0){case o!==this.isInViewport:case h!==this.isFullyInViewport:case c!==this.isAboveViewport:case u!==this.isBelowViewport:n(this.callbacks[y])}o=this.isInViewport,h=this.isFullyInViewport,c=this.isAboveViewport,u=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,i=this.bottom;if(this.watchItem.nodeName){var r=this.watchItem.style.display;"none"===r&&(this.watchItem.style.display="");var s=t(this.watchItem).offset();this.top=s.top,this.bottom=s.top+this.watchItem.offsetHeight,"none"===r&&(this.watchItem.style.display=r)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=l.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===i||this.top===e&&this.bottom===i||n(this.callbacks[v])}},this.recalculateLocation(),this.update(),o=this.isInViewport,h=this.isFullyInViewport,c=this.isAboveViewport,u=this.isBelowViewport}function o(t){x=t,i(),s()}var l={},h=t(window),c=t(document),u=[],d="visibilityChange",p="enterViewport",f="fullyEnterViewport",g="exitViewport",m="partiallyExitViewport",v="locationChange",y="stateChange",b=[d,p,f,g,m,v,y],_={top:0,bottom:0};l.viewportTop,l.viewportBottom,l.documentHeight,l.viewportHeight=e();var w,x,k,C,S;a.prototype={on:function(t,e,i){switch(!0){case t===d&&!this.isInViewport&&this.isAboveViewport:case t===p&&this.isInViewport:case t===f&&this.isFullyInViewport:case t===g&&this.isAboveViewport&&!this.isInViewport:case t===m&&this.isAboveViewport:if(e(),i)return}if(!this.callbacks[t])throw new Error("Tried to add a scroll monitor listener of type "+t+". Your options are: "+b.join(", "));this.callbacks[t].push({callback:e,isOne:i})},off:function(t,e){if(!this.callbacks[t])throw new Error("Tried to remove a scroll monitor listener of type "+t+". Your options are: "+b.join(", "));for(var i,n=0;i=this.callbacks[t][n];n++)if(i.callback===e){this.callbacks[t].splice(n,1);break}},one:function(t,e){this.on(t,e,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<l.viewportTop,this.isBelowViewport=this.bottom>l.viewportBottom,this.isInViewport=this.top<=l.viewportBottom&&this.bottom>=l.viewportTop,this.isFullyInViewport=this.top>=l.viewportTop&&this.bottom<=l.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var t=u.indexOf(this),e=this;u.splice(t,1);for(var i=0,n=b.length;n>i;i++)e.callbacks[b[i]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var M=function(t){return function(e,i){this.on.call(this,t,e,i)}},T=0,P=b.length;P>T;T++){var E=b[T];a.prototype[E]=M(E)}try{i()}catch(D){t(i)}return h.on("scroll",o),h.on("resize",r),l.beget=l.create=function(e,i){"string"==typeof e&&(e=t(e)[0]),e instanceof t&&(e=e[0]);var n=new a(e,i);return u.push(n),n.update(),n},l.update=function(){x=null,i(),s()},l.recalculateLocations=function(){l.documentHeight=0,l.update()},l}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=!1,i=!1,n=5e3,r=2e3,s=0,a=["ms","moz","webkit","o"],o=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!o)for(var h in a){var c=a[h];o||(o=window[c+"RequestAnimationFrame"]),l||(l=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}()},p=!1,f=function(){if(p)return p;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],n=0;n<i.length;n++)if("undefined"!=typeof t.style[i[n]]){e.trstyle=i[n];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),r=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),s="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),n=0;n<i.length;n++)if(i[n]in t.style){e.transitionstyle=i[n],e.prefixstyle=r[n],e.transitionend=s[n];break}e.ischrome26&&(e.prefixstyle=r[1]),e.hastransition=e.transitionstyle;t:{for(i=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(i=[]),n=0;n<i.length;n++)if(r=i[n],t.style.cursor=r,t.style.cursor==r){i=r;break t}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=i,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==u,p=e},g=function(a,h){function c(){var t=y.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function p(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=k[e]||0,i=3==t?i?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&t&&(t+=1),i?t:0):t}function g(t,e,i,n){y._bind(t,e,function(n){n=n?n:window.event;var r={original:n,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==e?(r.deltaY=-.025*n.wheelDelta,n.wheelDeltaX&&(r.deltaX=-.025*n.wheelDeltaX)):r.deltaY=n.detail,i.call(t,r)},n)}function v(t,e,i){var n,r;if(0==t.deltaMode?(n=-Math.floor(t.deltaX*(y.opt.mousescrollstep/54)),r=-Math.floor(t.deltaY*(y.opt.mousescrollstep/54))):1==t.deltaMode&&(n=-Math.floor(t.deltaX*y.opt.mousescrollstep),r=-Math.floor(t.deltaY*y.opt.mousescrollstep)),e&&y.opt.oneaxismousemode&&0==n&&r&&(n=r,r=0),n&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=n,y.debounced("mousewheelx",function(){var t=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(t)},15)),r){if(y.opt.nativeparentscrolling&&i&&!y.ispage&&!y.zoomactive)if(0>r){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=r,y.debounced("mousewheely",function(){var t=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var y=this;if(this.version="3.5.4",this.name="nicescroll",this.me=h,this.opt={doc:t("body"),win:!1},t.extend(this.opt,d),this.opt.snapbackspeed=80,a)for(var b in y.opt)"undefined"!=typeof a[b]&&(y.opt[b]=a[b]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do this.id="ascrail"+r++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var _=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=_.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.istouchcapable=!1,_.cantouch&&_.ischrome&&!_.isios&&!_.isandroid&&(this.istouchcapable=!0,_.cantouch=!1),_.cantouch&&_.ismozilla&&!_.isios&&!_.isandroid&&(this.istouchcapable=!0,_.cantouch=!1),y.opt.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.delayed=function(t,e,i,n){var r=y.delaylist[t],s=(new Date).getTime();return!n&&r&&r.tt?!1:(r&&r.tt&&clearTimeout(r.tt),void(r&&r.last+i>s&&!r.tt?y.delaylist[t]={last:s+i,tt:setTimeout(function(){y&&(y.delaylist[t].tt=0,e.call())},i)}:r&&r.tt||(y.delaylist[t]={last:s,tt:0},setTimeout(function(){e.call()},0))))},this.debounced=function(t,e,i){var n=y.delaylist[t];(new Date).getTime(),y.delaylist[t]=e,n||setTimeout(function(){var e=y.delaylist[t];y.delaylist[t]=!1,e.call()},i)};var w=!1;if(this.synched=function(t,e){return y.synclist[t]=e,function(){w||(o(function(){w=!1;for(t in y.synclist){var e=y.synclist[t];e&&e.call(y),y.synclist[t]=!1}}),w=!0)}(),t},this.unsynched=function(t){y.synclist[t]&&(y.synclist[t]=!1)},this.css=function(t,e){for(var i in e)y.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?y.getScrollTop():y.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?y.getScrollLeft():y.setScrollLeft(t)},BezierClass=function(t,e,i,n,r,s,a){this.st=t,this.ed=e,this.spd=i,this.p1=n||0,this.p2=r||1,this.p3=s||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden");var x=function(){var t=y.doc.css(_.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(t){if(!t){if(t=x())return 16==t.length?-t[13]:-t[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=x())return 16==t.length?-t[12]:-t[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(t,e){},_.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=-1*t+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=-1*t+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(t){return y.docscroll.scrollTop(t)},this.getScrollLeft=function(){return y.docscroll.scrollLeft()},this.setScrollLeft=function(t){return y.docscroll.scrollLeft(t)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var k={thin:1,medium:3,thick:5};this.getOffset=function(){if(y.isfixed)return{top:parseFloat(y.win.css("top")),left:parseFloat(y.win.css("left"))};if(!y.viewport)return y.win.offset();var t=y.win.offset(),e=y.viewport.offset();return{top:t.top-e.top+y.viewport.scrollTop(),left:t.left-e.left+y.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()}),y.railh&&y.railh.css({width:y.win.innerWidth()});else{var e=y.getOffset(),i=e.top,n=e.left,i=i+p(y.win,"border-top-width",!0);y.win.outerWidth(),y.win.innerWidth();var n=n+(y.rail.align?y.win.outerWidth()-p(y.win,"border-right-width")-y.rail.width:p(y.win,"border-left-width")),r=y.opt.railoffset;r&&(r.top&&(i+=r.top),y.rail.align&&r.left&&(n+=r.left)),y.locked||y.rail.css({top:i,left:n,height:t?t.h:y.win.innerHeight()}),y.zoom&&y.zoom.css({top:i+1,left:1==y.rail.align?n-20:n+y.rail.width+4}),y.railh&&!y.locked&&(i=e.top,n=e.left,t=y.railh.align?i+p(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:i+p(y.win,"border-top-width",!0),n+=p(y.win,"border-left-width"),y.railh.css({top:t,left:n,width:y.railh.width}))}},this.doRailClick=function(t,e,i){var n;y.locked||(y.cancelEvent(t),e?(e=i?y.doScrollLeft:y.doScrollTop,n=i?(t.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(t.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,e(n)):(e=i?y.doScrollLeftBy:y.doScrollBy,n=i?y.scroll.x:y.scroll.y,t=i?t.pageX-y.railh.offset().left:t.pageY-y.rail.offset().top,i=i?y.view.w:y.view.h,e(n>=t?i:-i)))},y.hasanimationframe=o,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(o=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(y.saved.css=[],_.isie7mobile||_.isoperamini)return!0;if(_.hasmstouch&&y.css(y.ispage?t("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:c()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>s&&(s=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!_.cantouch&&!_.isieold&&!_.isie9mobile){var r=y.docscroll;y.ispage&&(r=y.haswrapper?y.win:y.doc),_.isie9mobile||y.css(r,{"overflow-y":"hidden"}),y.ispage&&_.isie7&&("BODY"==y.doc[0].nodeName?y.css(t("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(t("body"),{"overflow-y":"hidden"})),_.isios&&!y.ispage&&!y.haswrapper&&y.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var a=t(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),y.cursor=a;var o=t(document.createElement("div"));o.attr("id",y.id),o.addClass("nicescroll-rails");var l,h,d,p=["left","right"];for(d in p)h=p[d],(l=y.opt.railpadding[h])?o.css("padding-"+h,l+"px"):y.opt.railpadding[h]=0;if(o.append(a),o.width=Math.max(parseFloat(y.opt.cursorwidth),a.outerWidth())+y.opt.railpadding.left+y.opt.railpadding.right,o.css({width:o.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),o.visibility=!0,o.scrollable=!0,o.align="left"==y.opt.railalign?0:1,y.rail=o,a=y.rail.drag=!1,y.opt.boxzoom&&!y.ispage&&!_.isieold&&(a=document.createElement("div"),y.bind(a,"click",y.doZoom),y.zoom=t(a),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),_.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(t){return 1.5<t.scale&&y.doZoomIn(t),.8>t.scale&&y.doZoomOut(t),y.cancelEvent(t)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1,y.opt.horizrailenabled){y.css(r,{"overflow-x":"hidden"}),a=t(document.createElement("div")),a.css({position:"relative",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),y.cursorh=a;var f=t(document.createElement("div"));f.attr("id",y.id+"-hr"),f.addClass("nicescroll-rails"),f.height=Math.max(parseFloat(y.opt.cursorwidth),a.outerHeight()),f.css({height:f.height+"px",zIndex:y.zindex,background:y.opt.background}),f.append(a),f.visibility=!0,f.scrollable=!0,f.align="top"==y.opt.railvalign?0:1,y.railh=f,y.railh.drag=!1}if(y.ispage?(o.css({position:"fixed",top:"0px",height:"100%"}),o.align?o.css({right:"0px"}):o.css({left:"0px"}),y.body.append(o),y.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),y.body.append(f))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),r="HTML"==y.win[0].nodeName?y.body:y.win,y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":o.width+4}),r.append(y.zoom)),o.css({position:"absolute",top:0}),o.align?o.css({right:0}):o.css({left:0}),r.append(o),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),r.append(f))):(y.isfixed="fixed"==y.win.css("position"),r=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|relative|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),o.css({position:r}),y.zoom&&y.zoom.css({position:r}),y.updateScrollBar(),y.body.append(o),y.zoom&&y.body.append(y.zoom),y.railh&&(f.css({position:r}),y.body.append(f))),_.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),_.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=t().add(y.rail),_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=t().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=t().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.locked=!1),_.isie9mobile)y.scrollmom=new m(y),y.onmangotouch=function(t){t=y.getScrollTop();var e=y.getScrollLeft();if(t==y.scrollmom.lastscrolly&&e==y.scrollmom.lastscrollx)return!0;var i=t-y.mangotouch.sy,n=e-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2)))){var r=0>i?-1:1,s=0>n?-1:1,a=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<a-y.mangotouch.tm||y.mangotouch.dry!=r||y.mangotouch.drx!=s?(y.scrollmom.stop(),y.scrollmom.reset(e,t),y.mangotouch.sy=t,y.mangotouch.ly=t,y.mangotouch.sx=e,y.mangotouch.lx=e,y.mangotouch.dry=r,y.mangotouch.drx=s,y.mangotouch.tm=a):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-n,y.mangotouch.sy-i),y.mangotouch.tm=a,i=Math.max(Math.abs(y.mangotouch.ly-t),Math.abs(y.mangotouch.lx-e)),y.mangotouch.ly=t,y.mangotouch.lx=e,i>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},o=y.getScrollTop(),f=y.getScrollLeft(),y.mangotouch={sy:o,ly:o,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(_.cantouch||y.istouchcapable||y.opt.touchbehavior||_.hasmstouch){y.scrollmom=new m(y),y.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(y.hasmoving=!1,!y.locked){if(_.hasmstouch)for(var i=e.target?e.target:!1;i;){var n=t(i).getNiceScroll();if(0<n.length&&n[0].me==y.me)break;if(0<n.length)return!1;if("DIV"==i.nodeName&&i.id==y.id)break;i=i.parentNode?i.parentNode:!1}if(y.cancelScroll(),(i=y.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return y.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen&&(n=e,e={original:e.original?e.original:e},e.clientX=n.screenX,e.clientY=n.screenY),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var n=t(window).width(),r=t(window).height(),s=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),r=Math.max(0,a-r),n=Math.max(0,s-n);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?r>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&n>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&_.isie&&(n=y.win.position(),y.rail.drag.x+=n.left,y.rail.drag.y+=n.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(e.clientX,e.clientY),!_.cantouch&&!this.istouchcapable&&!_.hasmstouch){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(t){return y.hasmoving?!1:void i._onclick.call(this,t)}),y.cancelEvent(e)):y.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},y.preventclick=pc)}}},y.ontouchend=function(t){return t.pointerType&&2!=t.pointerType?!1:y.rail.drag&&2==y.rail.drag.pt&&(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),_.hasmousecapture&&document.releaseCapture(),!_.cantouch))?y.cancelEvent(t):void 0};var g=y.opt.touchbehavior&&y.isiframe&&!_.hasmousecapture;y.ontouchmove=function(e,i){if(e.pointerType&&2!=e.pointerType)return!1;if(y.rail.drag&&2==y.rail.drag.pt){if(_.cantouch&&"undefined"==typeof e.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen){var n=e;e={original:e.original?e.original:e},e.clientX=n.screenX,e.clientY=n.screenY}if(n=ofy=0,g&&!i){var r=y.win.position(),n=-r.left;ofy=-r.top}var s=e.clientY+ofy,r=s-y.rail.drag.y,a=e.clientX+n,o=a-y.rail.drag.x,l=y.rail.drag.st-r;if(y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(s=l=0),
l>y.page.maxh&&(l=y.page.maxh,s=0)),y.railh&&y.railh.scrollable){var h=y.rail.drag.sl-o;y.ishwscroll&&y.opt.bouncescroll?0>h?h=Math.round(h/2):h>y.page.maxw&&(h=y.page.maxw+Math.round((h-y.page.maxw)/2)):(0>h&&(a=h=0),h>y.page.maxw&&(h=y.page.maxw,a=0))}if(n=!1,y.rail.drag.dl)n=!0,"v"==y.rail.drag.dl?h=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{var r=Math.abs(r),o=Math.abs(o),c=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(r>c&&.3*r>=o)return y.rail.drag=!1,!0;o>c&&(y.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(o>c&&.3*o>=r)return y.rail.drag=!1,!0;r>c&&(y.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(a,s),y.railh&&y.railh.scrollable?(y.setScrollLeft(h),y.showCursor(l,h)):y.showCursor(l),_.isie10&&document.selection.clear())}),_.ischrome&&y.istouchcapable&&(n=!1),n)return y.cancelEvent(e)}}}if(y.onmousedown=function(t,e){if(!y.rail.drag||1==y.rail.drag.pt){if(y.locked)return y.cancelEvent(t);y.cancelScroll(),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!e};var i=y.getTarget(t);return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.isiframe&&!_.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(t)}},y.onmouseup=function(t){return y.rail.drag&&(_.hasmousecapture&&document.releaseCapture(),y.isiframe&&!_.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),1==y.rail.drag.pt)?(y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(t)):void 0},y.onmousemove=function(t){if(y.rail.drag&&1==y.rail.drag.pt){if(_.ischrome&&0==t.which)return y.onmouseup(t);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(t.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var e=y.scrollvaluemaxw;y.scroll.x>e&&(y.scroll.x=e)}else y.scroll.y=y.rail.drag.sy+(t.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),e=y.scrollvaluemax,y.scroll.y>e&&(y.scroll.y=e);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(t)}},_.cantouch||y.opt.touchbehavior)y.onpreventclick=function(t){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(t)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=_.isios?!1:function(t){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(t)):!0},y.opt.grabcursorenabled&&_.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:_.cursorgrabvalue}),y.css(y.rail,{cursor:_.cursorgrabvalue}));else{var v=function(t){if(y.selectiondrag){if(t){var e=y.win.outerHeight();t=t.pageY-y.selectiondrag.top,t>0&&e>t&&(t=0),t>=e&&(t-=e),y.selectiondrag.df=t}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(t){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(t){y.selectiondrag=!1},y.onselectiondrag=function(t){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(t)},250)}}_.hasmstouch&&(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(t){t.preventDefault()}),y.bind(y.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),(y.opt.cursordragontouch||!_.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(t){y.doRailClick(t,!1,!1)}),y.bind(y.rail,"dblclick",function(t){y.doRailClick(t,!0,!1)}),y.bind(y.cursor,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursor,"dblclick",function(t){y.cancelEvent(t)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(t){y.doRailClick(t,!1,!0)}),y.bind(y.railh,"dblclick",function(t){y.doRailClick(t,!0,!0)}),y.bind(y.cursorh,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursorh,"dblclick",function(t){y.cancelEvent(t)})))),_.cantouch||y.opt.touchbehavior?(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mousemove",y.onmousemove),y.cursorh&&y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.cursorh&&y.bind(y.cursorh,"mousemove",y.onmousemove))):(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(_.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),!y.ispage&&!_.cantouch&&!/HTML|^BODY/.test(y.win[0].nodeName)&&(y.win.attr("tabindex")||y.win.attr({tabindex:n++}),y.jqbind(y.win,"focus",function(t){e=y.getTarget(t).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(t){e=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(t){i=y.getTarget(t).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){i=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(n){if(y.locked&&0==y.page.maxh)return!0;n=n?n:window.e;var r=y.getTarget(n);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp)||t(r).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!e||y.ispage&&!e&&!i){if(r=n.keyCode,y.locked&&27!=r)return y.cancelEvent(n);var s=n.ctrlKey||!1,a=n.shiftKey||!1,o=!1;switch(r){case 38:case 63233:y.doScrollBy(72),o=!0;break;case 40:case 63235:y.doScrollBy(-72),o=!0;break;case 37:case 63232:y.railh&&(s?y.doScrollLeft(0):y.doScrollLeftBy(72),o=!0);break;case 39:case 63234:y.railh&&(s?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),o=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),o=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),o=!0;break;case 36:case 63273:y.railh&&s?y.doScrollPos(0,0):y.doScrollTo(0),o=!0;break;case 35:case 63275:y.railh&&s?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),o=!0;break;case 32:y.opt.spacebarenabled&&(a?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),o=!0);break;case 27:y.zoomactive&&(y.doZoom(),o=!0)}if(o)return y.cancelEvent(n)}},y.opt.enablekeyboard&&y.bind(document,_.isopera&&!_.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(t){t.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(t){t.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),_.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),o=parseFloat(y.win.css("width"))+1;y.win.css("width",o),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(t){y.lazyResize(250)},!y.ispage&&!y.haswrapper&&(!1!==u?(y.observer=new u(function(t){t.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new u(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),_.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(t){t.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(e){y.iframexd=!1;try{var i="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(n){y.iframexd=!0,i=!1}return y.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:t(i),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=t(y.iframe.body)),!_.isios&&y.opt.iframeautoresize&&!y.isiframe&&(y.win.scrollTop(0),y.doc.height(""),e=Math.max(i.getElementsByTagName("html")[0].scrollHeight,i.body.scrollHeight),y.doc.height(e)),y.lazyResize(30),_.isie7&&y.css(t(y.iframe.html),{"overflow-y":"hidden"}),y.css(t(y.iframe.body),{"overflow-y":"hidden"}),_.isios&&y.haswrapper&&y.css(t(i.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(i,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(i,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(i,_.isopera?"keypress":"keydown",y.onkeypress),(_.cantouch||y.opt.touchbehavior)&&(y.bind(i,"mousedown",y.ontouchstart),y.bind(i,"mousemove",function(t){y.ontouchmove(t,!0)}),y.opt.grabcursorenabled&&_.cursorgrabvalue&&y.css(t(i.body),{cursor:_.cursorgrabvalue})),y.bind(i,"mouseup",y.ontouchend),void(y.zoom&&(y.opt.dblclickzoom&&y.bind(i,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(i,"gestureend",y.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){w.call(y.doc[0],!1)},500),y.bind(this.doc,"load",w)}},this.showCursor=function(t,e){y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail&&(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(y.scroll.y=Math.round(1*t/y.scrollratio.y)),"undefined"!=typeof e&&(y.scroll.x=Math.round(1*e/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh&&(!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:y.scroll.x+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:y.scroll.x}),y.cursoractive=!0),y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax}))},this.hideCursor=function(t){!y.cursortimeout&&y.rail&&y.autohidedom&&!(y.hasmousefocus&&"leave"==y.opt.autohidemode)&&(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},t||y.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){y.showCursor(e,i),y.rail.active||y.hideCursor(t)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;!y.hidden&&!y.visibility&&y.showRail().showRailHr()}var i=y.page.maxh,n=y.page.maxw,r=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=e?e:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==i&&y.page.maxw==n&&y.view.w==r){if(y.ispage)return y;if(i=y.win.offset(),y.lastposition&&(n=y.lastposition,n.top==i.top&&n.left==i.left))return y;y.lastposition=i}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):y.rail.scrollable=!0,0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):y.railh.scrollable=!0,y.locked=0==y.page.maxh&&0==y.page.maxw,y.locked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.hidden&&!y.railh.visibility&&y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h))),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w))),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder,y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,y.delayed("resize",y.resize,t),y},this._bind=function(t,e,i,n){y.events.push({e:t,n:e,f:i,b:n,q:!1}),t.addEventListener?t.addEventListener(e,i,n||!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.jqbind=function(e,i,n){y.events.push({e:e,n:i,f:n,q:!0}),t(e).bind(i,n)},this.bind=function(t,e,i,n){var r="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in y.win?y._bind(r,"wheel",i,n||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",g(r,t,i,n||!1),"DOMMouseScroll"==t&&g(r,"MozMousePixelScroll",i,n||!1)):r.addEventListener?(_.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&y._bind(r,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,i.call(this,e))},n||!1),y._bind(r,e,i,n||!1),_.cantouch&&"mouseup"==e&&y._bind(r,"touchcancel",i,n||!1)):y._bind(r,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1===i.call(r,t)||!1===n?y.cancelEvent(t):!0})},this._unbind=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<y.events.length;t++){var e=y.events[t];e.q?e.e.unbind(e.n,e.f):y._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return(t=t.original?t.original:t?t:window.event||!1)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1):!1},this.stopPropagation=function(t){return(t=t.original?t.original:t?t:window.event||!1)?t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.locked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.locked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),_.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var e=0;e<y.saved.css.length;e++){var i=y.saved.css[e];i[0].css(i[1],"undefined"==typeof i[2]?"":i[2])}y.saved=!1,y.me.data("__nicescroll","");var n=t.nicescroll;n.each(function(t){if(this&&this.id===y.id){delete n[t];for(var e=++t;e<n.length;e++,t++)n[t]=n[e];n.length--,n.length&&delete n[n.length]}});for(var r in y)y[r]=null,delete y[r];y=null},this.scrollstart=function(t){return this.onscrollstart=t,y},this.scrollend=function(t){return this.onscrollend=t,y},this.scrollcancel=function(t){return this.onscrollcancel=t,y},this.zoomin=function(t){return this.onzoomin=t,y},this.zoomout=function(t){return this.onzoomout=t,y},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(e){for(e=e&&e.parentNode?e.parentNode:!1;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e);if(/fixed|absolute/.test(i.css("position")))return i;var n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=e.parentNode?e.parentNode:!1}return e?t(e):!1},this.triggerScrollEnd=function(){if(y.onscrollend){var t=y.getScrollLeft(),e=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!y.wheelprevented){if(y.locked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(t);if("auto"==y.opt.oneaxismousemode&&0!=t.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==t.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(t):!0;var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:((t=v(t,!1,i))&&(y.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!y.wheelprevented){if(y.locked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(t);var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:y.locked?y.cancelEvent(t):v(t,!0,i)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(t){var e=Math.round(10*y.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*y.opt.scrollspeed)),t>20?t:0},y.opt.smoothscroll?y.ishwscroll&&_.hastransition&&y.opt.usetransition?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:y.getTransitionSpeed(t),n=i?_.prefixstyle+"transform "+i+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==n||(y.lasttransitionstyle=n,y.doc.css(_.transitionstyle,n)),i},this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var n=y.getScrollTop(),r=y.getScrollLeft();return(0>(y.newscrolly-n)*(e-n)||0>(y.newscrollx-r)*(t-r))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw)),y.scrollrunning&&t==y.newscrollx&&e==y.newscrolly?!1:(y.newscrolly=e,y.newscrollx=t,y.newscrollspeed=i||!1,y.timer?!1:void(y.timer=setTimeout(function(){var i,n,r=y.getScrollTop(),s=y.getScrollLeft();i=t-s,n=e-r,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2))),i=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(i),y.newscrollspeed&&1>=y.newscrollspeed&&(i*=y.newscrollspeed),y.prepareTransition(i,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),i>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:s,y:r},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:i}),_.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,_.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,i)),y.timerscroll={bz:new BezierClass(r,y.newscrolly,i,0,0,.58,1),bh:new BezierClass(s,y.newscrollx,i,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var t=y.getScrollTop(),e=y.getScrollLeft();return y.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc,_.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(t,e),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc,_.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var t=y.getScrollTop(),e=y.getScrollLeft();return y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.noticeCursor(!1,t,e),y.cursorfreezed=!1,0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw),t!=y.newscrolly||e!=y.newscrollx?y.doScrollPos(e,t,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function n(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,u=1-u)return y.timer=o(n)||1;var t=0,e=sy=y.getScrollTop();if(y.dst.ay){var e=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,i=e-sy;(0>i&&e<y.newscrolly||i>0&&e>y.newscrolly)&&(e=y.newscrolly),y.setScrollTop(e),e==y.newscrolly&&(t=1)}else t=1;var r=sx=y.getScrollLeft();y.dst.ax?(r=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,i=r-sx,(0>i&&r<y.newscrollx||i>0&&r>y.newscrollx)&&(r=y.newscrollx),y.setScrollLeft(r),r==y.newscrollx&&(t+=1)):t+=1,2==t?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>r?r=0:r>y.page.maxw&&(r=y.page.maxw),r!=y.newscrollx||e!=y.newscrolly?y.doScrollPos(r,e):y.onscrollend&&y.triggerScrollEnd()):y.timer=o(n)||1}if(e="undefined"==typeof e||!1===e?y.getScrollTop(!0):e,y.timer&&y.newscrolly==e&&y.newscrollx==t)return!0;y.timer&&l(y.timer),y.timer=0;var r=y.getScrollTop(),s=y.getScrollLeft();(0>(y.newscrolly-r)*(e-r)||0>(y.newscrollx-s)*(t-s))&&y.cancelScroll(),y.newscrolly=e,y.newscrollx=t,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=t-s,y.dst.y=e-r,y.dst.px=s,y.dst.py=r;var a=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/a,y.dst.ay=y.dst.y/a;var h=0,c=a;if(0==y.dst.x?(h=r,c=e,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(h=s,c=t,y.dst.ax=1,y.dst.px=0),a=y.getTransitionSpeed(a),i&&1>=i&&(a*=i),y.bzscroll=a>0?y.bzscroll?y.bzscroll.update(c,a):new BezierClass(h,c,a,0,1,0,1):!1,!y.timer){(r==y.page.maxh&&e>=y.page.maxh||s==y.page.maxw&&t>=y.page.maxw)&&y.checkContentSize();var u=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:s,y:r},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:a}),n(),(r==y.page.maxh&&e>=r||s==y.page.maxw&&t>=s)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(t,e){var i=y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var n=t>y.page.maxw?y.page.maxw:t;0>n&&(n=0);var r=e>y.page.maxh?y.page.maxh:e;0>r&&(r=0),y.synched("scroll",function(){y.setScrollTop(r),y.setScrollLeft(n)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.y-t)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-t;if(y.bouncescroll){var n=Math.round(y.view.h/2);-n>i?i=-n:i>y.page.maxh+n&&(i=y.page.maxh+n)}return y.cursorfreezed=!1,py=y.getScrollTop(!0),0>i&&0>=py?y.noticeCursor():i>y.page.maxh&&py>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.x-t)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-t;if(y.bouncescroll){var n=Math.round(y.view.w/2);-n>i?i=-n:i>y.page.maxw+n&&(i=y.page.maxw+n)}return y.cursorfreezed=!1,px=y.getScrollLeft(!0),0>i&&0>=px||i>y.page.maxw&&px>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(t)},this.checkContentSize=function(){var t=y.getContentSize();(t.h!=y.page.h||t.w!=y.page.w)&&y.resize(!1,t)},y.onscroll=function(t){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(e){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var i,n="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=y.win[0].style;for(i in n){var a=n[i];y.zoomrestore.style[a]="undefined"!=typeof r[a]?r[a]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},_.isios4&&(y.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),y.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"}),n=y.win.css("backgroundColor"),(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":s+101}),y.zoom.css({"z-index":s+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(e)}},this.doZoomOut=function(e){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),_.isios4&&t(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(e)):void 0},this.doZoom=function(t){return y.zoomactive?y.doZoomOut(t):y.doZoomIn(t)},this.resizeZoom=function(){if(y.zoomactive){var e=y.getScrollTop();y.win.css({width:t(window).width()-y.zoomrestore.padding.w+"px",height:t(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,e))}},this.init(),t.nicescroll.push(this)},m=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var n=e.time();e.steptime=0,e.lasttime=n,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var n=e.time();e.steptime=n-e.lasttime,e.lasttime=n;var n=i-e.lasty,r=t-e.lastx,s=e.nc.getScrollTop(),a=e.nc.getScrollLeft(),s=s+n,a=a+r;e.snapx=0>a||a>e.nc.page.maxw,e.snapy=0>s||s>e.nc.page.maxh,e.speedx=r,e.speedy=n,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var n=!1;0>i?(i=0,n=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,n=!0),0>t?(t=0,n=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,n=!0),n?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=e.time(),n=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var r=e.nc.getScrollTop(),s=e.nc.page.maxh,a=e.nc.page.maxw;if(e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=s>0?Math.min(60,e.speedy):0,n=n&&60>=i-n,(0>r||r>s||0>t||t>a)&&(n=!1),t=e.speedx&&n?e.speedx:!1,e.speedy&&n&&e.speedy||t){var o=Math.max(16,e.steptime);o>50&&(t=o/50,e.speedx*=t,e.speedy*=t,o=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,h=e.lastscrolly,c=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>a)&&(t=.1),e.speedy&&(h=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),
e.lastscrolly=h,0>h||h>s)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=h,e.nc.setScrollTop(h)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,h))}),1>e.demulxy?e.timer=setTimeout(c,o):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,h))};c()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},v=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i,n){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():v.call(e)},set:function(e,i){var n=t.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollTop(parseInt(i)):v.call(e,i),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():v.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):v.call(t(this),e)})};var y=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i,n){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():y.call(e)},set:function(e,i){var n=t.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollLeft(parseInt(i)):y.call(e,i),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():y.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):y.call(t(this),e)})};var b=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,n=0;e<i.length;e++)t.call(i[e],n++);return i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(var n=0;n<e.length;n++){var r=t.data(e[n],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(t,e,i){for(var n=0;n<e.length;n++)i(t,e[n])}(b.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new b(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return t.data(e,"__nicescroll")?!0:!1}}),t.fn.niceScroll=function(e,i){"undefined"==typeof i&&"object"==typeof e&&!("jquery"in e)&&(i=e,e=!1);var n=new b;"undefined"==typeof i&&(i={}),e&&(i.doc=t(e),i.win=t(this));var r=!("doc"in i);return!r&&!("win"in i)&&(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=r?t(this):i.doc,e=new g(i,t(this)),t(this).data("__nicescroll",e)),n.push(e)}),1==n.length?n[0]:n},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new b,t.nicescroll.options=d)}),function(e){jQuery.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function r(t){if(c){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(_.parent())&&s(i,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function s(t,e,i){b=!1;var r=t,s=_.outerHeight()-x.outerHeight();e&&(r=parseInt(x.css("top"))+t*parseInt(n.wheelStep)/100*x.outerHeight(),r=Math.min(Math.max(r,0),s),r=t>0?Math.ceil(r):Math.floor(r),x.css({top:r+"px"})),m=parseInt(x.css("top"))/(_.outerHeight()-x.outerHeight()),r=m*(_[0].scrollHeight-_.outerHeight()),i&&(r=t,t=r/_[0].scrollHeight*_.outerHeight(),t=Math.min(Math.max(t,0),s),x.css({top:t+"px"})),_.scrollTop(r),_.trigger("slimscrolling",~~r),l(),h()}function a(){window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1),this.addEventListener("MozMousePixelScroll",r,!1)):document.attachEvent("onmousewheel",r)}function o(){g=Math.max(_.outerHeight()/_[0].scrollHeight*_.outerHeight(),y),x.css({height:g+"px"});var t=g==_.outerHeight()?"none":"block";x.css({display:t})}function l(){o(),clearTimeout(p),m==~~m?(b=n.allowPageScroll,v!=m&&_.trigger("slimscroll",0==~~m?"top":"bottom")):b=!1,v=m,g>=_.outerHeight()?b=!0:(x.stop(!0,!0).fadeIn("fast"),n.railVisible&&k.stop(!0,!0).fadeIn("fast"))}function h(){n.alwaysVisible||(p=setTimeout(function(){n.disableFadeOut&&c||u||d||(x.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var c,u,d,p,f,g,m,v,y=30,b=!1,_=e(this);if(_.parent().hasClass(n.wrapperClass)){var w=_.scrollTop(),x=_.parent().find("."+n.barClass),k=_.parent().find("."+n.railClass);if(o(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){_.parent().css("height","auto"),_.css("height","auto");var C=_.parent().parent().height();_.parent().css("height",C),_.css("height",C)}if("scrollTo"in i)w=parseInt(n.scrollTo);else if("scrollBy"in i)w+=parseInt(n.scrollBy);else if("destroy"in i)return x.remove(),k.remove(),void _.unwrap();s(w,!1,!0)}}else{n.height="auto"==n.height?_.parent().height():n.height,w=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),_.css({overflow:"hidden",width:n.width,height:n.height});var k=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),x=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),C="right"==n.position?{right:n.distance}:{left:n.distance};k.css(C),x.css(C),_.wrap(w),_.parent().append(x),_.parent().append(k),n.railDraggable&&x.bind("mousedown",function(i){var n=e(document);return d=!0,t=parseFloat(x.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),s(0,x.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){d=!1,h(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),k.hover(function(){l()},function(){h()}),x.hover(function(){u=!0},function(){u=!1}),_.hover(function(){c=!0,l(),h()},function(){c=!1,h()}),_.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),_.bind("touchmove",function(t){b||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(s((f-t.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=t.originalEvent.touches[0].pageY)}),o(),"bottom"===n.start?(x.css({top:_.outerHeight()-x.outerHeight()}),s(0,!0)):"top"!==n.start&&(s(e(n.start).position().top,null,!0),n.alwaysVisible||x.hide()),a()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(t){function e(t){if(t in u.style)return t;var e=["Moz","Webkit","O","ms"],i=t.charAt(0).toUpperCase()+t.substr(1);if(t in u.style)return t;for(var n=0;n<e.length;++n){var r=e[n]+i;if(r in u.style)return r}}function i(){return u.style[d.transform]="",u.style[d.transform]="rotateY(90deg)",""!==u.style[d.transform]}function n(t){return"string"==typeof t&&this.parse(t),this}function r(t,e,i){e===!0?t.queue(i):e?t.queue(e,i):i()}function s(e){var i=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=l(e),-1===t.inArray(e,i)&&i.push(e)}),i}function a(e,i,n,r){var a=s(e);t.cssEase[n]&&(n=t.cssEase[n]);var o=""+c(i)+" "+n;parseInt(r,10)>0&&(o+=" "+c(r));var l=[];return t.each(a,function(t,e){l.push(e+" "+o)}),l.join(", ")}function o(e,i){i||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=d.transform,t.cssHooks[e]={get:function(i){var n=t(i).css("transit:transform");return n.get(e)},set:function(i,n){var r=t(i).css("transit:transform");r.setFromString(e,n),t(i).css({"transit:transform":r})}}}function l(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function c(e){var i=e;return t.fx.speeds[i]&&(i=t.fx.speeds[i]),h(i,"ms")}t.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),d={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;d.transition=e("transition"),d.transitionDelay=e("transitionDelay"),d.transform=e("transform"),d.transformOrigin=e("transformOrigin"),d.transform3d=i();var f={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},g=d.transitionEnd=f[d.transition]||null;for(var m in d)d.hasOwnProperty(m)&&"undefined"==typeof t.support[m]&&(t.support[m]=d[m]);u=null,t.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new n},set:function(e,i){var r=i;r instanceof n||(r=new n(r)),"WebkitTransform"!==d.transform||p?e.style[d.transform]=r.toString():e.style[d.transform]=r.toString(!0),t(e).data("transform",r)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[d.transformOrigin]},set:function(t,e){t.style[d.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[d.transition]},set:function(t,e){t.style[d.transition]=e}}),o("scale"),o("translate"),o("rotate"),o("rotateX"),o("rotateY"),o("rotate3d"),o("perspective"),o("skewX"),o("skewY"),o("x",!0),o("y",!0),n.prototype={setFromString:function(t,e){var i="string"==typeof e?e.split(","):e.constructor===Array?e:[e];i.unshift(t),n.prototype.set.apply(this,i)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=h(t,"deg")},rotateX:function(t){this.rotateX=h(t,"deg")},rotateY:function(t){this.rotateY=h(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=h(t,"deg")},skewY:function(t){this.skewY=h(t,"deg")},perspective:function(t){this.perspective=h(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=h(t,"px")),null!==e&&void 0!==e&&(this._translateY=h(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;3>=e;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=h(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,i,n){e.setFromString(i,n)})},toString:function(t){var e=[];for(var i in this)if(this.hasOwnProperty(i)){if(!d.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(t&&"scale"===i?e.push(i+"3d("+this[i]+",1)"):t&&"translate"===i?e.push(i+"3d("+this[i]+",0)"):e.push(i+"("+this[i]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,i,n,s){var o=this,l=0,h=!0;"function"==typeof i&&(s=i,i=void 0),"function"==typeof n&&(s=n,n=void 0),"undefined"!=typeof e.easing&&(n=e.easing,delete e.easing),"undefined"!=typeof e.duration&&(i=e.duration,delete e.duration),"undefined"!=typeof e.complete&&(s=e.complete,delete e.complete),"undefined"!=typeof e.queue&&(h=e.queue,delete e.queue),"undefined"!=typeof e.delay&&(l=e.delay,delete e.delay),"undefined"==typeof i&&(i=t.fx.speeds._default),"undefined"==typeof n&&(n=t.cssEase._default),i=c(i);var u=a(e,i,n,l),p=t.transit.enabled&&d.transition,f=p?parseInt(i,10)+parseInt(l,10):0;if(0===f){var m=function(t){o.css(e),s&&s.apply(o),t&&t()};return r(o,h,m),o}var v={},y=function(i){var n=!1,r=function(){n&&o.unbind(g,r),f>0&&o.each(function(){this.style[d.transition]=v[this]||null}),"function"==typeof s&&s.apply(o),"function"==typeof i&&i()};f>0&&g&&t.transit.useTransitionEnd?(n=!0,o.bind(g,r)):window.setTimeout(r,f),o.each(function(){f>0&&(this.style[d.transition]=u),t(this).css(e)})},b=function(t){this.offsetWidth,y(t)};return r(o,h,b),this},t.transit.getTransitionValue=a}(jQuery),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,r=n._mouseInit;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind("touchstart",t.proxy(e,"_touchStart")).bind("touchmove",t.proxy(e,"_touchMove")).bind("touchend",t.proxy(e,"_touchEnd")),r.call(e)}}}(jQuery);var public_vars=public_vars||{};jQuery.extend(public_vars,{sidebarCollapseClass:"sidebar-collapsed",sidebarOnTransitionClass:"sidebar-is-busy",sidebarOnHideTransitionClass:"sidebar-is-collapsing",sidebarOnShowTransitionClass:"sidebar-is-showing",sidebarTransitionTime:600,isRightSidebar:!1}),function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(n){"use strict";var r,s,a,o,l,h,c,u,d,p,f,g,m,v,y,b,_,w,x,k,C,S,M,T,P,E,D,R,I,A,z,O,L={},H=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},E='.jqstooltip { position: absolute;display: block;left: 0px;top: 0px;visibility: hidden;background: rgb(43, 48, 58) transparent;background-color: rgba(43, 48, 58,0.8);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;z-index: 10000;padding: 5px 5px 5px 5px;min-height: 22px;min-width: 30px;border-radius: 3px;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',s=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=a=s({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r,s,a,o,l,h=this,c=t;return this.format.replace(this.fre,function(){var t;return s=arguments[1],a=arguments[3],r=h.precre.exec(s),r?(l=r[2],s=r[1]):l=!1,o=c[s],o===i?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(o)||o:e[a][o]||o):(d(o)&&(o=n.get("numberFormatter")?n.get("numberFormatter")(o):v(o,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),o)})}}),n.spformat=function(t,e){return new a(t,e)},o=function(t,e,i){return e>t?e:t>i?i:t},l=function(t,i){var n;return 2===i?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},h=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},c=function(t){var e,i=[];for(e=t.length;e--;)i[e]=h(t[e]);return i},u=function(t,e){var i,n,r=[];for(i=0,n=t.length;n>i;i++)t[i]!==e&&r.push(t[i]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},v=function(t,e,i,r,s){var a,o;for(t=(e===!1?parseFloat(t).toString():t.toFixed(e)).split(""),a=(a=n.inArray(".",t))<0?t.length:a,a<t.length&&(t[a]=s),o=a-i;o>0;o-=i)t.splice(o,0,r);return t.join("")},p=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},f=function(t){var e,i=0;for(e=t.length;e--;)i+="number"==typeof t[e]?t[e]:0;return i},m=function(t){return n.isArray(t)?t:[t]},g=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,r,s,a){var o,l;if(s&&(o=this.data("_jqs_vcanvas")))return o;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var h=t.createElement("canvas");if(h.getContext&&h.getContext("2d"))n.fn.sparkline.canvas=function(t,e,i,n){return new A(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i,n){return new z(t,e,i)}}}return e===i&&(e=n(this).innerWidth()),r===i&&(r=n(this).innerHeight()),o=n.fn.sparkline.canvas(e,r,this,a),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(o),o},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=y=s({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-(1/0):parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,n,r,s=this.rangelist;if((r=this.map[t])!==i)return r;if(s)for(e=s.length;e--;)if(n=s[e],n[0]<=t&&n[1]>=t)return n[2];return i}}),n.range_map=function(t){return new y(t)},b=s({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new _(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i,r=this.splist,s=r.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;s>i;i++)e=r[i],e.clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,r,s,a=this.splist,o=a.length,l=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,u=this.currentPageY-h.top;if(this.over){for(i=0;o>i;i++)e=a[i],r=e.setRegionHighlight(this.currentEl,c,u),r&&(l=!0);if(l){if(s=n.Event("sparklineRegionChange"),s.sparklines=this.splist,this.$el.trigger(s),this.tooltip){for(t="",i=0;o>i;i++)e=a[i],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),_=s({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,r=e.get("tooltipClassname","jqstooltip"),s=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:s,"class":r}),this.tooltip=n("<div/>",{id:"jqstooltip","class":r}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+2,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),D=function(){g(E)},n(D),O=[],n.fn.sparkline=function(e,r){return this.each(function(){var s,a,o=new n.fn.sparkline.options(this,r),l=n(this);if(s=function(){var r,s,a,h,c,u,d;return"html"===e||e===i?(d=this.getAttribute(o.get("tagValuesAttribute")),(d===i||null===d)&&(d=l.html()),r=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):r=e,s="auto"===o.get("width")?r.length*o.get("defaultPixelsPerValue"):o.get("width"),"auto"===o.get("height")?o.get("composite")&&n.data(this,"_jqs_vcanvas")||(h=t.createElement("span"),h.innerHTML="a",l.html(h),a=n(h).innerHeight()||n(h).height(),n(h).remove(),h=null):a=o.get("height"),o.get("disableInteraction")?c=!1:(c=n.data(this,"_jqs_mhandler"),c?o.get("composite")||c.reset():(c=new b(this,o),n.data(this,"_jqs_mhandler",c))),o.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(u=new(n.fn.sparkline[o.get("type")])(this,r,o,s,a),u.render(),void(c&&c.registerSparkline(u)))},n(this).html()&&!o.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!o.get("composite")&&n.data(this,"_jqs_pending"))for(a=O.length;a;a--)O[a-1][0]==this&&O.splice(a-1,1);O.push([this,s]),n.data(this,"_jqs_pending",!0)}else s.call(this)})},n.fn.sparkline.defaults=r(),n.sparkline_display_visible=function(){var t,e,i,r=[];for(e=0,i=O.length;i>e;e++)t=O[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(O[e][1].call(t),n.data(O[e][0],"_jqs_pending",!1),r.push(e)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(O[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)O.splice(r[e-1],1)},n.fn.sparkline.options=s({init:function(t,e){var i,r,s,a;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=n.fn.sparkline.defaults,s=r.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||s.tagOptionsPrefix),a=this.getTagSetting("type"),i=a===L?r[e.type||s.type]:r[a],this.mergedOptions=n.extend({},s,i,e)},getTagSetting:function(t){var e,n,r,s,a=this.tagOptionsPrefix;if(a===!1||a===i)return L;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(a+t),e===i||null===e)e=L;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=h(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(r=e.substr(1,e.length-2).split(","),e={},n=r.length;n--;)s=r[n].split(":",2),e[s[0].replace(/(^\s*)|(\s*$)/g,"")]=h(s[1].replace(/(^\s*)|(\s*$)/g,""));else e=h(e);this.tagValCache.key=e}return e},get:function(t,e){var n,r=this.getTagSetting(t);return r!==L?r:(n=this.mergedOptions[t])===i?e:n}}),n.fn.sparkline._base=s({disabled:!1,init:function(t,e,r,s,a){this.el=t,this.$el=n(t),this.values=e,this.options=r,this.width=s,this.height=a,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var r,s=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||0>e||0>n?null:(r=this.getRegion(t,e,n),s!==r?(s!==i&&a&&this.removeHighlight(),this.currentRegion=r,r!==i&&a&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,r,s,o,l,h,c,u,d,p,f,g,m,v=this.options,y="",b=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),p=v.get("tooltipFormatter"))return p(this,v,t);if(v.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),e=this.options.get("tooltipFormat"),!e)return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),h=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),h&&c){for(u=[],l=t.length;l--;)d=t[l][c],-1!=(m=n.inArray(d,h))&&(u[m]=t[l]);t=u}for(r=e.length,g=t.length,l=0;r>l;l++)for(f=e[l],"string"==typeof f&&(f=new a(f)),s=f.fclass||"jqsfield",m=0;g>m;m++)t[m].isNull&&v.get("tooltipSkipNull")||(n.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),o=f.render(t[m],v.get("tooltipValueLookups"),v),b.push('<div class="'+s+'">'+o+"</div>"));return b.length?y+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,r,s,a,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(s=[],r=4===t.length?16:1,a=0;3>a;a++)s[a]=o(e.round(parseInt(n[a+1],16)*r*h),0,255);return"rgb("+s.join(",")+")"}return t}}),w={changeHighlight:function(t){var e,i=this.currentRegion,r=this.target,s=this.regionShapes[i];s&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(s)?(r.replaceWithShapes(s,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(r.replaceWithShape(s,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,r,s=this.values,a=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(i=s.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){
for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);o[i]=e}else t.append(),o[i]=t.id;else o[i]=null;a.render()}}},n.fn.sparkline.line=x=s(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){x._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var r,s=this.regionMap;for(r=s.length;r--;)if(null!==s[r]&&e>=s[r][0]&&e<=s[r][1])return s[r][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,r=this.target,s=this.vertices[n],a=this.options,o=a.get("spotRadius"),l=a.get("highlightSpotColor"),h=a.get("highlightLineColor");s&&(o&&l&&(t=r.drawCircle(s[0],s[1],o,i,l),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),h&&(e=r.drawLine(s[0],this.canvasTop,s[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,r,s,a=this.values,o=a.length,l=this.xvalues,h=this.yvalues,c=this.yminmax;for(t=0;o>t;t++)i=a[t],n="string"==typeof a[t],r="object"==typeof a[t]&&a[t]instanceof Array,s=n&&a[t].split(":"),n&&2===s.length?(l.push(Number(s[0])),h.push(Number(s[1])),c.push(Number(s[1]))):r?(l.push(i[0]),h.push(i[1]),c.push(i[1])):(l.push(t),null===a[t]||"null"===a[t]?h.push(null):(h.push(Number(i)),c.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,c),this.miny=this.minyorg=e.min.apply(e,c),this.maxx=e.max.apply(e,l),this.minx=e.min.apply(e,l),this.xvalues=l,this.yvalues=h,this.yminmax=c},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,r,s,a){var o=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=n+e.round(r-r*((l-this.miny)/a)),c=e.round(r*(l-o)/a);this.target.drawRect(t,h,s,c,i,this.options.get("normalRangeColor")).append()},render:function(){var t,r,s,a,o,l,h,c,u,d,p,f,g,m,v,b,_,w,k,C,S,M,T,P,E,D=this.options,R=this.target,I=this.canvasWidth,A=this.canvasHeight,z=this.vertices,O=D.get("spotRadius"),L=this.regionMap;if(x._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,P=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(a=o=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,r=this.maxy-this.miny===0?1:this.maxy-this.miny,s=this.yvalues.length-1,O&&(4*O>I||4*O>A)&&(O=0),O&&(S=D.get("highlightSpotColor")&&!D.get("disableInteraction"),(S||D.get("minSpotColor")||D.get("spotColor")&&P[s]===this.miny)&&(A-=e.ceil(O)),(S||D.get("maxSpotColor")||D.get("spotColor")&&P[s]===this.maxy)&&(A-=e.ceil(O),a+=e.ceil(O)),(S||(D.get("minSpotColor")||D.get("maxSpotColor"))&&(P[0]===this.miny||P[0]===this.maxy))&&(o+=e.ceil(O),I-=e.ceil(O)),(S||D.get("spotColor")||D.get("minSpotColor")||D.get("maxSpotColor")&&(P[s]===this.miny||P[s]===this.maxy))&&(I-=e.ceil(O))),A--,D.get("normalRangeMin")===i||D.get("drawNormalOnTop")||this.drawNormalRange(o,a,A,I,r),h=[],c=[h],m=v=null,b=P.length,E=0;b>E;E++)u=T[E],p=T[E+1],d=P[E],f=o+e.round((u-this.minx)*(I/t)),g=b-1>E?o+e.round((p-this.minx)*(I/t)):I,v=f+(g-f)/2,L[E]=[m||0,v,E],m=v,null===d?E&&(null!==P[E-1]&&(h=[],c.push(h)),z.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),h.length||h.push([f,a+A]),l=[f,a+e.round(A-A*((d-this.miny)/r))],h.push(l),z.push(l));for(_=[],w=[],k=c.length,E=0;k>E;E++)h=c[E],h.length&&(D.get("fillColor")&&(h.push([h[h.length-1][0],a+A]),w.push(h.slice(0)),h.pop()),h.length>2&&(h[0]=[h[0][0],h[1][1]]),_.push(h));for(k=w.length,E=0;k>E;E++)R.drawShape(w[E],D.get("fillColor"),D.get("fillColor")).append();for(D.get("normalRangeMin")!==i&&D.get("drawNormalOnTop")&&this.drawNormalRange(o,a,A,I,r),k=_.length,E=0;k>E;E++)R.drawShape(_[E],D.get("lineColor"),i,D.get("lineWidth")).append();if(O&&D.get("valueSpots"))for(C=D.get("valueSpots"),C.get===i&&(C=new y(C)),E=0;b>E;E++)M=C.get(P[E]),M&&R.drawCircle(o+e.round((T[E]-this.minx)*(I/t)),a+e.round(A-A*((P[E]-this.miny)/r)),O,i,M).append();O&&D.get("spotColor")&&null!==P[s]&&R.drawCircle(o+e.round((T[T.length-1]-this.minx)*(I/t)),a+e.round(A-A*((P[s]-this.miny)/r)),O,i,D.get("spotColor")).append(),this.maxy!==this.minyorg&&(O&&D.get("minSpotColor")&&(u=T[n.inArray(this.minyorg,P)],R.drawCircle(o+e.round((u-this.minx)*(I/t)),a+e.round(A-A*((this.minyorg-this.miny)/r)),O,i,D.get("minSpotColor")).append()),O&&D.get("maxSpotColor")&&(u=T[n.inArray(this.maxyorg,P)],R.drawCircle(o+e.round((u-this.minx)*(I/t)),a+e.round(A-A*((this.maxyorg-this.miny)/r)),O,i,D.get("maxSpotColor")).append())),this.lastShapeId=R.getLastShapeId(),this.canvasTop=a,R.render()}}}),n.fn.sparkline.bar=k=s(n.fn.sparkline._base,w,{type:"bar",init:function(t,r,s,a,l){var d,p,f,g,m,v,b,_,w,x,C,S,M,T,P,E,D,R,I,A,z,O,L=parseInt(s.get("barWidth"),10),H=parseInt(s.get("barSpacing"),10),N=s.get("chartRangeMin"),F=s.get("chartRangeMax"),B=s.get("chartRangeClip"),W=1/0,j=-(1/0);for(k._super.init.call(this,t,r,s,a,l),v=0,b=r.length;b>v;v++)A=r[v],d="string"==typeof A&&A.indexOf(":")>-1,(d||n.isArray(A))&&(P=!0,d&&(A=r[v]=c(A.split(":"))),A=u(A,null),p=e.min.apply(e,A),f=e.max.apply(e,A),W>p&&(W=p),f>j&&(j=f));this.stacked=P,this.regionShapes={},this.barWidth=L,this.barSpacing=H,this.totalBarWidth=L+H,this.width=a=r.length*L+(r.length-1)*H,this.initTarget(),B&&(M=N===i?-(1/0):N,T=F===i?1/0:F),m=[],g=P?[]:m;var Y=[],$=[];for(v=0,b=r.length;b>v;v++)if(P)for(E=r[v],r[v]=I=[],Y[v]=0,g[v]=$[v]=0,D=0,R=E.length;R>D;D++)A=I[D]=B?o(E[D],M,T):E[D],null!==A&&(A>0&&(Y[v]+=A),0>W&&j>0?0>A?$[v]+=e.abs(A):g[v]+=A:g[v]+=e.abs(A-(0>A?j:W)),m.push(A));else A=B?o(r[v],M,T):r[v],A=r[v]=h(A),null!==A&&m.push(A);this.max=S=e.max.apply(e,m),this.min=C=e.min.apply(e,m),this.stackMax=j=P?e.max.apply(e,Y):S,this.stackMin=W=P?e.min.apply(e,m):C,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<C)&&(C=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>S)&&(S=s.get("chartRangeMax")),this.zeroAxis=w=s.get("zeroAxis",!0),x=0>=C&&S>=0&&w?0:0==w?C:C>0?C:S,this.xaxisOffset=x,_=P?e.max.apply(e,g)+e.max.apply(e,$):S-C,this.canvasHeightEf=w&&0>C?this.canvasHeight-2:this.canvasHeight-1,x>C?(O=P&&S>=0?j:S,z=(O-x)/_*this.canvasHeight,z!==e.ceil(z)&&(this.canvasHeightEf-=2,z=e.ceil(z))):z=this.canvasHeight,this.yoffset=z,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.range=_},getRegion:function(t,n,r){var s=e.floor(n/this.totalBarWidth);return 0>s||s>=this.values.length?i:s},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=m(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(t,e,r){var s,a,o=this.colorMapByIndex,l=this.colorMapByValue,h=this.options;return s=this.stacked?h.get("stackedBarColor"):0>e?h.get("negBarColor"):h.get("barColor"),0===e&&h.get("zeroColor")!==i&&(s=h.get("zeroColor")),l&&(a=l.get(e))?s=a:o&&o.length>r&&(s=o[r]),n.isArray(s)?s[t%s.length]:s},renderRegion:function(t,r){var s,a,o,l,h,c,u,d,f,g,m=this.values[t],v=this.options,y=this.xaxisOffset,b=[],_=this.range,w=this.stacked,x=this.target,k=t*this.totalBarWidth,C=this.canvasHeightEf,S=this.yoffset;if(m=n.isArray(m)?m:[m],u=m.length,d=m[0],l=p(null,m),g=p(y,m,!0),l)return v.get("nullColor")?(o=r?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),s=S>0?S-1:S,x.drawRect(k,s,this.barWidth-1,0,o,o)):i;for(h=S,c=0;u>c;c++){if(d=m[c],w&&d===y){if(!g||f)continue;f=!0}a=_>0?e.floor(C*(e.abs(d-y)/_))+1:1,y>d||d===y&&0===S?(s=h,h+=a):(s=S-a,S-=a),o=this.calcColor(c,d,t),r&&(o=this.calcHighlightColor(o,v)),b.push(x.drawRect(k,s,this.barWidth-1,a-1,o,o))}return 1===b.length?b[0]:b}}),n.fn.sparkline.tristate=C=s(n.fn.sparkline._base,w,{type:"tristate",init:function(t,e,r,s,a){var o=parseInt(r.get("barWidth"),10),l=parseInt(r.get("barSpacing"),10);C._super.init.call(this,t,e,r,s,a),this.regionShapes={},this.barWidth=o,this.barSpacing=l,this.totalBarWidth=o+l,this.values=n.map(e,Number),this.width=s=e.length*o+(e.length-1)*l,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new y(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i,n){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n,r=this.values,s=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return i=o&&(n=o.get(t))?n:a&&a.length>e?a[e]:r[e]<0?s.get("negBarColor"):r[e]>0?s.get("posBarColor"):s.get("zeroBarColor")},renderRegion:function(t,i){var n,r,s,a,o,l,h=this.values,c=this.options,u=this.target;return n=u.pixelHeight,s=e.round(n/2),a=t*this.totalBarWidth,h[t]<0?(o=s,r=s-1):h[t]>0?(o=0,r=s-1):(o=s-1,r=2),l=this.calcColor(h[t],t),null!==l?(i&&(l=this.calcHighlightColor(l,c)),u.drawRect(a,o,this.barWidth-1,r-1,l,l)):void 0}}),n.fn.sparkline.discrete=S=s(n.fn.sparkline._base,w,{type:"discrete",init:function(t,r,s,a,o){S._super.init.call(this,t,r,s,a,o),this.regionShapes={},this.values=r=n.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=a="auto"===s.get("width")?2*r.length:this.width,this.interval=e.floor(a/r.length),this.itemWidth=a/r.length,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===s.get("lineHeight")?e.round(.3*this.canvasHeight):s.get("lineHeight"))},getRegion:function(t,i,n){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n,r,s,a,l=this.values,h=this.options,c=this.min,u=this.max,d=this.range,p=this.interval,f=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return r=o(l[t],c,u),a=t*p,n=e.round(v-v*((r-c)/d)),s=h.get("thresholdColor")&&r<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),i&&(s=this.calcHighlightColor(s,h)),f.drawLine(a,n,a,n+m,s)}}),n.fn.sparkline.bullet=M=s(n.fn.sparkline._base,{type:"bullet",init:function(t,n,r,s,a){var o,l,h;M._super.init.call(this,t,n,r,s,a),this.values=n=c(n),h=n.slice(),h[0]=null===h[0]?h[2]:h[0],h[1]=null===n[1]?h[2]:h[1],o=e.min.apply(e,n),l=e.max.apply(e,n),o=r.get("base")===i?0>o?o:0:r.get("base"),this.min=o,this.max=l,this.range=l-o,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s="auto"===r.get("width")?"4.0em":s,this.target=this.$el.simpledraw(s,a,r.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),s=this.options.get("rangeColors")[t-2];return i&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,s,s)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(.3*this.canvasHeight),n-1,e.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(.1*this.canvasHeight),s=this.canvasHeight-2*r,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,s-1,a,a)},render:function(){var t,e,i=this.values.length,n=this.target;if(M._super.render.call(this)){for(t=2;i>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),n.fn.sparkline.pie=T=s(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,s,a){var o,l=0;if(T._super.init.call(this,t,i,r,s,a),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),"auto"===r.get("width")&&(this.width=this.height),i.length>0)for(o=i.length;o--;)l+=i[o];this.total=l,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var r,s,a,o,l,h=this.target,c=this.options,u=this.radius,d=c.get("borderWidth"),p=c.get("offset"),f=2*e.PI,g=this.values,m=this.total,v=p?2*e.PI*(p/360):0;for(o=g.length,a=0;o>a;a++){if(r=v,s=v,m>0&&(s=v+f*(g[a]/m)),t===a)return l=c.get("sliceColors")[a%c.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,c)),h.drawPieSlice(u,u,u-d,r,s,i,l);v=s}},render:function(){var t,n,r=this.target,s=this.values,a=this.options,o=this.radius,l=a.get("borderWidth");if(T._super.render.call(this)){for(l&&r.drawCircle(o,o,e.floor(o-l/2),a.get("borderColor"),i,l).append(),n=s.length;n--;)s[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);r.render()}}}),n.fn.sparkline.box=P=s(n.fn.sparkline._base,{type:"box",init:function(t,e,i,r,s){P._super.init.call(this,t,e,i,r,s),this.values=n.map(e,Number),this.width="auto"===i.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,r,s,a,o,h,c,u,d,p,f=this.target,g=this.values,m=g.length,v=this.options,y=this.canvasWidth,b=this.canvasHeight,_=v.get("chartRangeMin")===i?e.min.apply(e,g):v.get("chartRangeMin"),w=v.get("chartRangeMax")===i?e.max.apply(e,g):v.get("chartRangeMax"),x=0;if(P._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&g.length>5?(n=g[0],t=g[1],s=g[2],a=g[3],o=g[4],h=g[5],c=g[6]):(t=g[0],s=g[1],a=g[2],o=g[3],h=g[4]);else if(g.sort(function(t,e){return t-e}),s=l(g,1),a=l(g,2),o=l(g,3),r=o-s,v.get("showOutliers")){for(t=h=i,u=0;m>u;u++)t===i&&g[u]>s-r*v.get("outlierIQR")&&(t=g[u]),g[u]<o+r*v.get("outlierIQR")&&(h=g[u]);n=g[0],c=g[m-1]}else t=g[0],h=g[m-1];this.quartiles=[s,a,o],this.lwhisker=t,this.rwhisker=h,this.loutlier=n,this.routlier=c,p=y/(w-_+1),v.get("showOutliers")&&(x=e.ceil(v.get("spotRadius")),y-=2*e.ceil(v.get("spotRadius")),p=y/(w-_+1),t>n&&f.drawCircle((n-_)*p+x,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),c>h&&f.drawCircle((c-_)*p+x,b/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),f.drawRect(e.round((s-_)*p+x),e.round(.1*b),e.round((o-s)*p),e.round(.8*b),v.get("boxLineColor"),v.get("boxFillColor")).append(),f.drawLine(e.round((t-_)*p+x),e.round(b/2),e.round((s-_)*p+x),e.round(b/2),v.get("lineColor")).append(),f.drawLine(e.round((t-_)*p+x),e.round(b/4),e.round((t-_)*p+x),e.round(b-b/4),v.get("whiskerColor")).append(),f.drawLine(e.round((h-_)*p+x),e.round(b/2),e.round((o-_)*p+x),e.round(b/2),v.get("lineColor")).append(),f.drawLine(e.round((h-_)*p+x),e.round(b/4),e.round((h-_)*p+x),e.round(b-b/4),v.get("whiskerColor")).append(),f.drawLine(e.round((a-_)*p+x),e.round(.1*b),e.round((a-_)*p+x),e.round(.9*b),v.get("medianColor")).append(),v.get("target")&&(d=e.ceil(v.get("spotRadius")),f.drawLine(e.round((v.get("target")-_)*p+x),e.round(b/2-d),e.round((v.get("target")-_)*p+x),e.round(b/2+d),v.get("targetColor")).append(),f.drawLine(e.round((v.get("target")-_)*p+x-d),e.round(b/2),e.round((v.get("target")-_)*p+x+d),e.round(b/2),v.get("targetColor")).append()),f.render()}}}),R=s({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),I=s({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,a){return this._genShape("PieSlice",[t,e,i,n,r,s,a])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var r;r=this._pxregex.exec(e),r?this.pixelHeight=r[1]:this.pixelHeight=n(i).height(),r=this._pxregex.exec(t),r?this.pixelWidth=r[1]:this.pixelWidth=n(i).width()},_genShape:function(t,e){var i=H++;return e.unshift(i),new R(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),A=s(I,{init:function(e,r,s,a){A._super.init.call(this,e,r,s),this.canvas=t.createElement("canvas"),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=a,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");return t!==i&&(r.strokeStyle=t),r.lineWidth=n===i?1:n,e!==i&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,r,s){var a,o,l=this._getContext(n,r,s);for(l.beginPath(),l.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;o>a;a++)l.lineTo(e[a][0]+.5,e[a][1]+.5);n!==i&&l.stroke(),r!==i&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,r,s,a,o,l){var h=this._getContext(a,o,l);h.beginPath(),h.arc(n,r,s,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),a!==i&&h.stroke(),o!==i&&h.fill()},_drawPieSlice:function(t,e,n,r,s,a,o,l){var h=this._getContext(o,l);h.beginPath(),h.moveTo(e,n),h.arc(e,n,r,s,a,!1),h.lineTo(e,n),h.closePath(),o!==i&&h.stroke(),l&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,a){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,a)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,s=this.shapeseq,a={};for(n=t.length;n--;)a[t[n]]=!0;for(n=s.length;n--;)i=s[n],a[i]&&(s.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)s.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,s=n.length,a=this._getContext();for(a.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;s>i;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),z=s(I,{init:function(e,i,r){var s;z._super.init.call(this,e,i,r),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,s){var a,o,l,h,c,u,d,p=[];for(d=0,u=e.length;u>d;d++)p[d]=""+e[d][0]+","+e[d][1];return a=p.splice(0,1),s=s===i?1:s,o=n===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+n+'" ',l=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',h=p[0]===p[p.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+p.join(", ")+" "+h+'e"> </v:shape>'},_drawCircle:function(t,e,n,r,s,a,o){var l,h,c;return e-=r,n-=r,l=s===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+s+'" ',h=a===i?' filled="false"':' fillColor="'+a+'" filled="true" ',c='<v:oval  id="jqsshape'+t+'" '+l+h+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(t,n,r,s,a,o,l,h){var c,u,d,p,f,g,m,v;if(a===o)return"";if(o-a===2*e.PI&&(a=0,o=2*e.PI),u=n+e.round(e.cos(a)*s),d=r+e.round(e.sin(a)*s),p=n+e.round(e.cos(o)*s),f=r+e.round(e.sin(o)*s),u===p&&d===f){if(o-a<e.PI)return"";u=p=n+s,d=f=r}return u===p&&d===f&&o-a<e.PI?"":(c=[n-s,r-s,n+s,r+s,u,d,p,f],g=l===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+r+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,s,a){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,a)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=r},replaceWithShapes:function(t,e){var i,r=n("#jqsshape"+t[0]),s="",a=e.length;for(i=0;a>i;i++)s+=this["_draw"+e[i].type].apply(this,e[i].args);for(r[0].outerHTML=s,i=1;i<t.length;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function i(t){for(var e=1;t*e%1;)e*=10;return e}function n(t,e){try{for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}catch(n){t.prototype=e}}function r(){}function s(){}function a(t,e,i){return function(){var n=i.apply(e,arguments);return n===e?t:n}}function o(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var i=0,n=As.length;n>i;++i){var r=As[i]+e;if(r in t)return r}}function l(){}function h(){}function c(t){function e(){for(var e,n=i,r=-1,s=n.length;++r<s;)(e=n[r].on)&&e.apply(this,arguments);return t}var i=[],n=new r;return e.on=function(e,r){var s,a=n.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,i=i.slice(0,s=i.indexOf(a)).concat(i.slice(s+1)),n.remove(e)),r&&i.push(n.set(e,{on:r})),t)},e}function u(){vs.event.preventDefault()}function d(){for(var t,e=vs.event;t=e.sourceEvent;)e=t;return e}function p(t){for(var e=new h,i=0,n=arguments.length;++i<n;)e[arguments[i]]=c(e);return e.of=function(i,n){return function(r){try{var s=r.sourceEvent=vs.event;r.target=t,vs.event=r,e[r.type].apply(i,n)}finally{vs.event=s}}},e}function f(t){return Os(t,Bs),t}function g(t){return"function"==typeof t?t:function(){return Ls(t,this)}}function m(t){return"function"==typeof t?t:function(){return Hs(t,this)}}function v(t,e){function i(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function s(){this.setAttributeNS(t.space,t.local,e)}function a(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function o(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=vs.ns.qualify(t),null==e?t.local?n:i:"function"==typeof e?t.local?o:a:t.local?s:r}function y(t){return t.trim().replace(/\s+/g," ")}function b(t){return new RegExp("(?:^|\\s+)"+vs.requote(t)+"(?:\\s+|$)","g")}function _(t,e){function i(){for(var i=-1;++i<r;)t[i](this,e)}function n(){for(var i=-1,n=e.apply(this,arguments);++i<r;)t[i](this,n)}t=t.trim().split(/\s+/).map(w);var r=t.length;return"function"==typeof e?n:i}function w(t){var e=b(t);return function(i,n){if(r=i.classList)return n?r.add(t):r.remove(t);var r=i.getAttribute("class")||"";n?(e.lastIndex=0,e.test(r)||i.setAttribute("class",y(r+" "+t))):i.setAttribute("class",y(r.replace(e," ")))}}function x(t,e,i){function n(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,i)}function s(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}return null==e?n:"function"==typeof e?s:r}function k(t,e){function i(){delete this[t]}function n(){this[t]=e}function r(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?r:n}function C(t){return"function"==typeof t?t:(t=vs.ns.qualify(t)).local?function(){return _s.createElementNS(t.space,t.local)}:function(){return _s.createElementNS(this.namespaceURI,t)}}function S(t){return{__data__:t}}function M(t){return function(){return Fs(this,t)}}function T(t){return arguments.length||(t=vs.ascending),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function P(t,e){for(var i=0,n=t.length;n>i;i++)for(var r,s=t[i],a=0,o=s.length;o>a;a++)(r=s[a])&&e(r,a,i);return t}function E(t){return Os(t,js),t}function D(t){var e,i;return function(n,r,s){var a,o=t[s].update,l=o.length;for(s!=i&&(i=s,e=0),r>=e&&(e=r+1);!(a=o[e])&&++e<l;);return a}}function R(){var t=this.__transition__;t&&++t.active}function I(t,e,i){function n(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=h(e,bs(arguments));n.call(this),this.addEventListener(t,this[a]=r,r.$=i),r._=e}function s(){var e,i=new RegExp("^__on([^.]+)"+vs.requote(t)+"$");for(var n in this)if(e=n.match(i)){var r=this[n];this.removeEventListener(e[1],r,r.$),delete this[n]}}var a="__on"+t,o=t.indexOf("."),h=A;o>0&&(t=t.substring(0,o));var c=$s.get(t);return c&&(t=c,h=z),o?e?r:n:e?l:s}function A(t,e){return function(i){var n=vs.event;vs.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{vs.event=n}}}function z(t,e){var i=A(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function O(){var t=".dragsuppress-"+ ++qs,e="touchmove"+t,i="selectstart"+t,n="dragstart"+t,r="click"+t,s=vs.select(xs).on(e,u).on(i,u).on(n,u),a=ws.style,o=a[Us];return a[Us]="none",function(e){function i(){s.on(r,null)}s.on(t,null),a[Us]=o,e&&(s.on(r,function(){u(),i()},!0),setTimeout(i,0))}}function L(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();if(0>Vs&&(xs.scrollX||xs.scrollY)){i=vs.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=i[0][0].getScreenCTM();Vs=!(r.f||r.e),i.remove()}return Vs?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function H(t){return t>0?1:0>t?-1:0}function N(t){return t>1?0:-1>t?Xs:Math.acos(t)}function F(t){return t>1?Qs:-1>t?-Qs:Math.asin(t)}function B(t){return((t=Math.exp(t))-1/t)/2}function W(t){return((t=Math.exp(t))+1/t)/2}function j(t){return((t=Math.exp(2*t))-1)/(t+1)}function Y(t){return(t=Math.sin(t/2))*t}function $(){}
function U(t,e,i){return new q(t,e,i)}function q(t,e,i){this.h=t,this.s=e,this.l=i}function V(t,e,i){function n(t){return t>360?t-=360:0>t&&(t+=360),60>t?s+(a-s)*t/60:180>t?a:240>t?s+(a-s)*(240-t)/60:s}function r(t){return Math.round(255*n(t))}var s,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,i=0>i?0:i>1?1:i,a=.5>=i?i*(1+e):i+e-i*e,s=2*i-a,at(r(t+120),r(t),r(t-120))}function X(t,e,i){return new G(t,e,i)}function G(t,e,i){this.h=t,this.c=e,this.l=i}function Q(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),Z(i,Math.cos(t*=Js)*e,Math.sin(t)*e)}function Z(t,e,i){return new K(t,e,i)}function K(t,e,i){this.l=t,this.a=e,this.b=i}function J(t,e,i){var n=(t+16)/116,r=n+e/500,s=n-i/200;return r=et(r)*ca,n=et(n)*ua,s=et(s)*da,at(nt(3.2404542*r-1.5371385*n-.4985314*s),nt(-.969266*r+1.8760108*n+.041556*s),nt(.0556434*r-.2040259*n+1.0572252*s))}function tt(t,e,i){return t>0?X(Math.atan2(i,e)*ta,Math.sqrt(e*e+i*i),t):X(NaN,NaN,t)}function et(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function it(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function nt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function rt(t){return at(t>>16,255&t>>8,255&t)}function st(t){return rt(t)+""}function at(t,e,i){return new ot(t,e,i)}function ot(t,e,i){this.r=t,this.g=e,this.b=i}function lt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ht(t,e,i){var n,r,s,a=0,o=0,l=0;if(n=/([a-z]+)\((.*)\)/i.exec(t))switch(r=n[2].split(","),n[1]){case"hsl":return i(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(pt(r[0]),pt(r[1]),pt(r[2]))}return(s=ga.get(t))?e(s.r,s.g,s.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,o=t.charAt(2),o+=o,l=t.charAt(3),l+=l):7===t.length&&(a=t.substring(1,3),o=t.substring(3,5),l=t.substring(5,7)),a=parseInt(a,16),o=parseInt(o,16),l=parseInt(l,16)),e(a,o,l))}function ct(t,e,i){var n,r,s=Math.min(t/=255,e/=255,i/=255),a=Math.max(t,e,i),o=a-s,l=(a+s)/2;return o?(r=.5>l?o/(a+s):o/(2-a-s),n=t==a?(e-i)/o+(i>e?6:0):e==a?(i-t)/o+2:(t-e)/o+4,n*=60):(n=NaN,r=l>0&&1>l?0:n),U(n,r,l)}function ut(t,e,i){t=dt(t),e=dt(e),i=dt(i);var n=it((.4124564*t+.3575761*e+.1804375*i)/ca),r=it((.2126729*t+.7151522*e+.072175*i)/ua),s=it((.0193339*t+.119192*e+.9503041*i)/da);return Z(116*r-16,500*(n-r),200*(r-s))}function dt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function ft(t){return"function"==typeof t?t:function(){return t}}function gt(t){return t}function mt(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),vt(e,i,t,n)}}function vt(t,e,i,n){function r(){var t,e=l.status;if(!e&&l.responseText||e>=200&&300>e||304===e){try{t=i.call(s,l)}catch(n){return void a.error.call(s,n)}a.load.call(s,t)}else a.error.call(s,l)}var s={},a=vs.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,h=null;return!xs.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=vs.event;vs.event=t;try{a.progress.call(s,l)}finally{vs.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?o[t]:(null==e?delete o[t]:o[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",s):e},s.responseType=function(t){return arguments.length?(h=t,s):h},s.response=function(t){return i=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(bs(arguments)))}}),s.send=function(i,n,r){if(2===arguments.length&&"function"==typeof n&&(r=n,n=null),l.open(i,t,!0),null==e||"accept"in o||(o.accept=e+",*/*"),l.setRequestHeader)for(var c in o)l.setRequestHeader(c,o[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=r&&s.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(s,l),l.send(null==n?null:n),s},s.abort=function(){return l.abort(),s},vs.rebind(s,a,"on"),null==n?s:s.get(yt(n))}function yt(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function bt(){var t=wt(),e=xt()-t;e>24?(isFinite(e)&&(clearTimeout(ba),ba=setTimeout(bt,e)),ya=0):(ya=1,wa(bt))}function _t(t,e,i){var n=arguments.length;2>n&&(e=0),3>n&&(i=Date.now()),_a.callback=t,_a.time=i+e}function wt(){var t=Date.now();for(_a=ma;_a;)t>=_a.time&&(_a.flush=_a.callback(t-_a.time)),_a=_a.next;return t}function xt(){for(var t,e=ma,i=1/0;e;)e.flush?e=t?t.next=e.next:ma=e.next:(e.time<i&&(i=e.time),e=(t=e).next);return va=t,i}function kt(t,e){var i=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Ct(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function St(t){return t+""}function Mt(){}function Tt(t,e,i){var n=i.s=t+e,r=n-t,s=n-r;i.t=t-s+(e-r)}function Pt(t,e){t&&Aa.hasOwnProperty(t.type)&&Aa[t.type](t,e)}function Et(t,e,i){var n,r=-1,s=t.length-i;for(e.lineStart();++r<s;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function Dt(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)Et(t[i],e,1);e.polygonEnd()}function Rt(){function t(t,e){t*=Js,e=e*Js/2+Xs/4;var i=t-n,a=Math.cos(e),o=Math.sin(e),l=s*o,h=r*a+l*Math.cos(i),c=l*Math.sin(i);Oa.add(Math.atan2(c,h)),n=t,r=a,s=o}var e,i,n,r,s;La.point=function(a,o){La.point=t,n=(e=a)*Js,r=Math.cos(o=(i=o)*Js/2+Xs/4),s=Math.sin(o)},La.lineEnd=function(){t(e,i)}}function It(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function At(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zt(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ot(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ht(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Nt(t){return[Math.atan2(t[1],t[0]),F(t[2])]}function Ft(t,e){return Math.abs(t[0]-e[0])<Zs&&Math.abs(t[1]-e[1])<Zs}function Bt(t,e){t*=Js;var i=Math.cos(e*=Js);Wt(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function Wt(t,e,i){++Ha,Fa+=(t-Fa)/Ha,Ba+=(e-Ba)/Ha,Wa+=(i-Wa)/Ha}function jt(){function t(t,r){t*=Js;var s=Math.cos(r*=Js),a=s*Math.cos(t),o=s*Math.sin(t),l=Math.sin(r),h=Math.atan2(Math.sqrt((h=i*l-n*o)*h+(h=n*a-e*l)*h+(h=e*o-i*a)*h),e*a+i*o+n*l);Na+=h,ja+=h*(e+(e=a)),Ya+=h*(i+(i=o)),$a+=h*(n+(n=l)),Wt(e,i,n)}var e,i,n;Xa.point=function(r,s){r*=Js;var a=Math.cos(s*=Js);e=a*Math.cos(r),i=a*Math.sin(r),n=Math.sin(s),Xa.point=t,Wt(e,i,n)}}function Yt(){Xa.point=Bt}function $t(){function t(t,e){t*=Js;var i=Math.cos(e*=Js),a=i*Math.cos(t),o=i*Math.sin(t),l=Math.sin(e),h=r*l-s*o,c=s*a-n*l,u=n*o-r*a,d=Math.sqrt(h*h+c*c+u*u),p=n*a+r*o+s*l,f=d&&-N(p)/d,g=Math.atan2(d,p);Ua+=f*h,qa+=f*c,Va+=f*u,Na+=g,ja+=g*(n+(n=a)),Ya+=g*(r+(r=o)),$a+=g*(s+(s=l)),Wt(n,r,s)}var e,i,n,r,s;Xa.point=function(a,o){e=a,i=o,Xa.point=t,a*=Js;var l=Math.cos(o*=Js);n=l*Math.cos(a),r=l*Math.sin(a),s=Math.sin(o),Wt(n,r,s)},Xa.lineEnd=function(){t(e,i),Xa.lineEnd=Yt,Xa.point=Bt}}function Ut(){return!0}function qt(t,e,i,n,r){var s=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(Ft(i,n)){r.lineStart();for(var o=0;e>o;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}var l={point:i,points:t,other:null,visited:!1,entry:!0,subject:!0},h={point:i,points:[i],other:l,visited:!1,entry:!1,subject:!1};l.other=h,s.push(l),a.push(h),l={point:n,points:[n],other:null,visited:!1,entry:!1,subject:!0},h={point:n,points:[n],other:l,visited:!1,entry:!0,subject:!1},l.other=h,s.push(l),a.push(h)}}),a.sort(e),Vt(s),Vt(a),s.length){for(var o=0,l=i,h=a.length;h>o;++o)a[o].entry=l=!l;for(var c,u,d,p=s[0];;){for(c=p;c.visited;)if((c=c.next)===p)return;u=c.points,r.lineStart();do{if(c.visited=c.other.visited=!0,c.entry){if(c.subject)for(var o=0;o<u.length;o++)r.point((d=u[o])[0],d[1]);else n(c.point,c.next.point,1,r);c=c.next}else{if(c.subject){u=c.prev.points;for(var o=u.length;--o>=0;)r.point((d=u[o])[0],d[1])}else n(c.point,c.prev.point,-1,r);c=c.prev}c=c.other,u=c.points}while(!c.visited);r.lineEnd()}}}function Vt(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.next=i=t[n],i.prev=r,r=i;r.next=i=t[0],i.prev=r}}function Xt(t,e,i,n){return function(r,s){function a(e,i){var n=r(e,i);t(e=n[0],i=n[1])&&s.point(e,i)}function o(t,e){var i=r(t,e);m.point(i[0],i[1])}function l(){y.point=o,m.lineStart()}function h(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var i=r(t,e);_.point(i[0],i[1])}function u(){_.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),_.lineEnd();var t,e=_.clean(),i=b.buffer(),n=i.length;if(g.pop(),f.push(g),g=null,n){if(1&e){t=i[0];var r,n=t.length-1,a=-1;for(s.lineStart();++a<n;)s.point((r=t[a])[0],r[1]);return void s.lineEnd()}n>1&&2&e&&i.push(i.pop().concat(i.shift())),p.push(i.filter(Gt))}}var p,f,g,m=e(s),v=r.invert(n[0],n[1]),y={point:a,lineStart:l,lineEnd:h,polygonStart:function(){y.point=c,y.lineStart=u,y.lineEnd=d,p=[],f=[],s.polygonStart()},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=h,p=vs.merge(p);var t=Kt(v,f);p.length?qt(p,Zt,t,i,s):t&&(s.lineStart(),i(null,null,1,s),s.lineEnd()),s.polygonEnd(),p=f=null},sphere:function(){s.polygonStart(),s.lineStart(),i(null,null,1,s),s.lineEnd(),s.polygonEnd()}},b=Qt(),_=e(b);return y}}function Gt(t){return t.length>1}function Qt(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:l,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Zt(t,e){return((t=t.point)[0]<0?t[1]-Qs-Zs:Qs-t[1])-((e=e.point)[0]<0?e[1]-Qs-Zs:Qs-e[1])}function Kt(t,e){var i=t[0],n=t[1],r=[Math.sin(i),-Math.cos(i),0],s=0,a=0;Oa.reset();for(var o=0,l=e.length;l>o;++o){var h=e[o],c=h.length;if(c)for(var u=h[0],d=u[0],p=u[1]/2+Xs/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0),t=h[m];var v=t[0],y=t[1]/2+Xs/4,b=Math.sin(y),_=Math.cos(y),w=v-d,x=Math.abs(w)>Xs,k=f*b;if(Oa.add(Math.atan2(k*Math.sin(w),g*_+k*Math.cos(w))),s+=x?w+(w>=0?2:-2)*Xs:w,x^d>=i^v>=i){var C=zt(It(u),It(t));Ht(C);var S=zt(r,C);Ht(S);var M=(x^w>=0?-1:1)*F(S[2]);(n>M||n===M&&(C[0]||C[1]))&&(a+=x^w>=0?1:-1)}if(!m++)break;d=v,f=b,g=_,u=t}}return(-Zs>s||Zs>s&&0>Oa)^1&a}function Jt(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,a){var o=s>0?Xs:-Xs,l=Math.abs(s-i);Math.abs(l-Xs)<Zs?(t.point(i,n=(n+a)/2>0?Qs:-Qs),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(s,n),e=0):r!==o&&l>=Xs&&(Math.abs(i-r)<Zs&&(i-=r*Zs),Math.abs(s-o)<Zs&&(s-=o*Zs),n=te(i,n,s,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),e=0),t.point(i=s,n=a),r=o},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function te(t,e,i,n){var r,s,a=Math.sin(t-i);return Math.abs(a)>Zs?Math.atan((Math.sin(e)*(s=Math.cos(n))*Math.sin(i)-Math.sin(n)*(r=Math.cos(e))*Math.sin(t))/(r*s*a)):(e+n)/2}function ee(t,e,i,n){var r;if(null==t)r=i*Qs,n.point(-Xs,r),n.point(0,r),n.point(Xs,r),n.point(Xs,0),n.point(Xs,-r),n.point(0,-r),n.point(-Xs,-r),n.point(-Xs,0),n.point(-Xs,r);else if(Math.abs(t[0]-e[0])>Zs){var s=(t[0]<e[0]?1:-1)*Xs;r=i*s/2,n.point(-s,r),n.point(0,r),n.point(s,r)}else n.point(e[0],e[1])}function ie(t){function e(t,e){return Math.cos(t)*Math.cos(e)>s}function i(t){var i,s,l,h,c;return{lineStart:function(){h=l=!1,c=1},point:function(u,d){var p,f=[u,d],g=e(u,d),m=a?g?0:r(u,d):g?r(u+(0>u?Xs:-Xs),d):0;if(!i&&(h=l=g)&&t.lineStart(),g!==l&&(p=n(i,f),(Ft(i,p)||Ft(f,p))&&(f[0]+=Zs,f[1]+=Zs,g=e(f[0],f[1]))),g!==l)c=0,g?(t.lineStart(),p=n(f,i),t.point(p[0],p[1])):(p=n(i,f),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(o&&i&&a^g){var v;m&s||!(v=n(f,i,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||i&&Ft(i,f)||t.point(f[0],f[1]),i=f,l=g,s=m},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return c|(h&&l)<<1}}}function n(t,e,i){var n=It(t),r=It(e),a=[1,0,0],o=zt(n,r),l=At(o,o),h=o[0],c=l-h*h;if(!c)return!i&&t;var u=s*l/c,d=-s*h/c,p=zt(a,o),f=Lt(a,u),g=Lt(o,d);Ot(f,g);var m=p,v=At(f,m),y=At(m,m),b=v*v-y*(At(f,f)-1);if(!(0>b)){var _=Math.sqrt(b),w=Lt(m,(-v-_)/y);if(Ot(w,f),w=Nt(w),!i)return w;var x,k=t[0],C=e[0],S=t[1],M=e[1];k>C&&(x=k,k=C,C=x);var T=C-k,P=Math.abs(T-Xs)<Zs,E=P||Zs>T;if(!P&&S>M&&(x=S,S=M,M=x),E?P?S+M>0^w[1]<(Math.abs(w[0]-k)<Zs?S:M):S<=w[1]&&w[1]<=M:T>Xs^(k<=w[0]&&w[0]<=C)){var D=Lt(m,(-v+_)/y);return Ot(D,f),[w,Nt(D)]}}}function r(e,i){var n=a?t:Xs-t,r=0;return-n>e?r|=1:e>n&&(r|=2),-n>i?r|=4:i>n&&(r|=8),r}var s=Math.cos(t),a=s>0,o=Math.abs(s)>Zs,l=Ee(t,6*Js);return Xt(e,i,l,a?[0,-t]:[-Xs,t-Xs])}function ne(t,e,i,n){function r(n,r){return Math.abs(n[0]-t)<Zs?r>0?0:3:Math.abs(n[0]-i)<Zs?r>0?2:1:Math.abs(n[1]-e)<Zs?r>0?1:0:r>0?3:2}function s(t,e){return a(t.point,e.point)}function a(t,e){var i=r(t,1),n=r(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}function o(r,s){var a=s[0]-r[0],o=s[1]-r[1],l=[0,1];return Math.abs(a)<Zs&&Math.abs(o)<Zs?t<=r[0]&&r[0]<=i&&e<=r[1]&&r[1]<=n:re(t-r[0],a,l)&&re(r[0]-i,-a,l)&&re(e-r[1],o,l)&&re(r[1]-n,-o,l)?(l[1]<1&&(s[0]=r[0]+l[1]*a,s[1]=r[1]+l[1]*o),l[0]>0&&(r[0]+=l[0]*a,r[1]+=l[0]*o),!0):!1}return function(l){function h(t){for(var e=0,i=y.length,n=t[1],r=0;i>r;++r)for(var s,a=1,o=y[r],l=o.length,h=o[0];l>a;++a)s=o[a],h[1]<=n?s[1]>n&&c(h,s,t)>0&&++e:s[1]<=n&&c(h,s,t)<0&&--e,h=s;return 0!==e}function c(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function u(s,o,l,h){var c=0,u=0;if(null==s||(c=r(s,l))!==(u=r(o,l))||a(s,o)<0^l>0){do h.point(0===c||3===c?t:i,c>1?n:e);while((c=(c+l+4)%4)!==u)}else h.point(o[0],o[1])}function d(r,s){return r>=t&&i>=r&&s>=e&&n>=s}function p(t,e){d(t,e)&&l.point(t,e)}function f(){D.point=m,y&&y.push(b=[]),M=!0,S=!1,k=C=NaN}function g(){v&&(m(_,w),x&&S&&E.rejoin(),v.push(E.buffer())),D.point=p,S&&l.lineEnd()}function m(t,e){t=Math.max(-Qa,Math.min(Qa,t)),e=Math.max(-Qa,Math.min(Qa,e));var i=d(t,e);if(y&&b.push([t,e]),M)_=t,w=e,x=i,M=!1,i&&(l.lineStart(),l.point(t,e));else if(i&&S)l.point(t,e);else{var n=[k,C],r=[t,e];o(n,r)?(S||(l.lineStart(),l.point(n[0],n[1])),l.point(r[0],r[1]),i||l.lineEnd(),T=!1):i&&(l.lineStart(),l.point(t,e),T=!1)}k=t,C=e,S=i}var v,y,b,_,w,x,k,C,S,M,T,P=l,E=Qt(),D={point:p,lineStart:f,lineEnd:g,polygonStart:function(){l=E,v=[],y=[],T=!0},polygonEnd:function(){l=P,v=vs.merge(v);var e=h([t,n]),i=T&&e,r=v.length;(i||r)&&(l.polygonStart(),i&&(l.lineStart(),u(null,null,1,l),l.lineEnd()),r&&qt(v,s,e,u,l),l.polygonEnd()),v=y=b=null}};return D}}function re(t,e,i){if(Math.abs(e)<Zs)return 0>=t;var n=t/e;if(e>0){if(n>i[1])return!1;n>i[0]&&(i[0]=n)}else{if(n<i[0])return!1;n<i[1]&&(i[1]=n)}return!0}function se(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return i=e.invert(i,n),i&&t.invert(i[0],i[1])}),i}function ae(t){var e=0,i=Xs/3,n=we(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Xs/180,i=t[1]*Xs/180):[180*(e/Xs),180*(i/Xs)]},r}function oe(t,e){function i(t,e){var i=Math.sqrt(s-2*r*Math.sin(e))/r;return[i*Math.sin(t*=r),a-i*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,s=1+n*(2*r-n),a=Math.sqrt(s)/r;return i.invert=function(t,e){var i=a-e;return[Math.atan2(t,i)/r,F((s-(t*t+i*i)*r*r)/(2*r))]},i}function le(){function t(t,e){Ka+=r*t-n*e,n=t,r=e}var e,i,n,r;no.point=function(s,a){no.point=t,e=n=s,i=r=a},no.lineEnd=function(){t(e,i)}}function he(t,e){Ja>t&&(Ja=t),t>eo&&(eo=t),to>e&&(to=e),e>io&&(io=e)}function ce(){function t(t,e){a.push("M",t,",",e,s)}function e(t,e){a.push("M",t,",",e),o.point=i}function i(t,e){a.push("L",t,",",e)}function n(){o.point=t}function r(){a.push("Z")}var s=ue(4.5),a=[],o={point:t,lineStart:function(){o.point=e},lineEnd:n,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=n,o.point=t},pointRadius:function(t){return s=ue(t),o},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return o}function ue(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function de(t,e){Fa+=t,Ba+=e,++Wa}function pe(){function t(t,n){var r=t-e,s=n-i,a=Math.sqrt(r*r+s*s);ja+=a*(e+t)/2,Ya+=a*(i+n)/2,$a+=a,de(e=t,i=n)}var e,i;so.point=function(n,r){so.point=t,de(e=n,i=r)}}function fe(){so.point=de}function ge(){function t(t,e){var i=t-n,s=e-r,a=Math.sqrt(i*i+s*s);ja+=a*(n+t)/2,Ya+=a*(r+e)/2,$a+=a,a=r*t-n*e,Ua+=a*(n+t),qa+=a*(r+e),Va+=3*a,de(n=t,r=e)}var e,i,n,r;so.point=function(s,a){so.point=t,de(e=n=s,i=r=a)},so.lineEnd=function(){t(e,i)}}function me(t){function e(e,i){t.moveTo(e,i),t.arc(e,i,a,0,Gs)}function i(e,i){t.moveTo(e,i),o.point=n}function n(e,i){t.lineTo(e,i)}function r(){o.point=e}function s(){t.closePath()}var a=4.5,o={point:e,lineStart:function(){o.point=i},lineEnd:r,polygonStart:function(){o.lineEnd=s},polygonEnd:function(){o.lineEnd=r,o.point=e},pointRadius:function(t){return a=t,o},result:l};return o}function ve(t){function e(e){function n(i,n){i=t(i,n),e.point(i[0],i[1])}function r(){b=NaN,C.point=a,e.lineStart()}function a(n,r){var a=It([n,r]),o=t(n,r);i(b,_,y,w,x,k,b=o[0],_=o[1],y=n,w=a[0],x=a[1],k=a[2],s,e),e.point(b,_)}function o(){C.point=n,e.lineEnd()}function l(){r(),C.point=h,C.lineEnd=c}function h(t,e){a(u=t,d=e),p=b,f=_,g=w,m=x,v=k,C.point=a}function c(){i(b,_,y,w,x,k,p,f,u,g,m,v,s,e),C.lineEnd=o,o()}var u,d,p,f,g,m,v,y,b,_,w,x,k,C={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function i(e,s,a,o,l,h,c,u,d,p,f,g,m,v){var y=c-e,b=u-s,_=y*y+b*b;if(_>4*n&&m--){var w=o+p,x=l+f,k=h+g,C=Math.sqrt(w*w+x*x+k*k),S=Math.asin(k/=C),M=Math.abs(Math.abs(k)-1)<Zs?(a+d)/2:Math.atan2(x,w),T=t(M,S),P=T[0],E=T[1],D=P-e,R=E-s,I=b*D-y*R;(I*I/_>n||Math.abs((y*D+b*R)/_-.5)>.3||r>o*p+l*f+h*g)&&(i(e,s,a,o,l,h,P,E,M,w/=C,x/=C,k,m,v),v.point(P,E),i(P,E,M,w,x,k,c,u,d,p,f,g,m,v))}}var n=.5,r=Math.cos(30*Js),s=16;return e.precision=function(t){return arguments.length?(s=(n=t*t)>0&&16,e):Math.sqrt(n)},e}function ye(t){this.stream=t}function be(t){var e=ve(function(e,i){return t([e*ta,i*ta])});return function(t){var i=new ye(t=e(t));return i.point=function(e,i){t.point(e*Js,i*Js)},i}}function _e(t){return we(function(){return t})()}function we(t){function e(t){return t=o(t[0]*Js,t[1]*Js),[t[0]*d+l,h-t[1]*d]}function i(t){return t=o.invert((t[0]-l)/d,(h-t[1])/d),t&&[t[0]*ta,t[1]*ta]}function n(){o=se(a=Se(v,y,b),s);var t=s(g,m);return l=p-t[0]*d,h=f+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var s,a,o,l,h,c,u=ve(function(t,e){return t=s(t,e),[t[0]*d+l,h-t[1]*d]}),d=150,p=480,f=250,g=0,m=0,v=0,y=0,b=0,_=Ga,w=gt,x=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=xe(_(a,u(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(_=null==t?(x=t,Ga):ie((x=+t)*Js),r()):x},e.clipExtent=function(t){return arguments.length?(k=t,w=t?ne(t[0][0],t[0][1],t[1][0],t[1][1]):gt,r()):k},e.scale=function(t){return arguments.length?(d=+t,n()):d},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],n()):[p,f]},e.center=function(t){return arguments.length?(g=t[0]%360*Js,m=t[1]%360*Js,n()):[g*ta,m*ta]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Js,y=t[1]%360*Js,b=t.length>2?t[2]%360*Js:0,n()):[v*ta,y*ta,b*ta]},vs.rebind(e,u,"precision"),function(){return s=t.apply(this,arguments),e.invert=s.invert&&i,n()}}function xe(t){var e=new ye(t);return e.point=function(e,i){t.point(e*Js,i*Js)},e}function ke(t,e){return[t,e]}function Ce(t,e){return[t>Xs?t-Gs:-Xs>t?t+Gs:t,e]}function Se(t,e,i){return t?e||i?se(Te(t),Pe(e,i)):Te(t):e||i?Pe(e,i):Ce}function Me(t){return function(e,i){return e+=t,[e>Xs?e-Gs:-Xs>e?e+Gs:e,i]}}function Te(t){var e=Me(t);return e.invert=Me(-t),e}function Pe(t,e){function i(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),c=h*n+o*r;return[Math.atan2(l*s-c*a,o*n-h*r),F(c*s+l*a)]}var n=Math.cos(t),r=Math.sin(t),s=Math.cos(e),a=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),o=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),c=h*s-l*a;return[Math.atan2(l*s+h*a,o*n+c*r),F(c*n-o*r)]},i}function Ee(t,e){var i=Math.cos(t),n=Math.sin(t);return function(r,s,a,o){var l=a*e;null!=r?(r=De(i,r),s=De(i,s),(a>0?s>r:r>s)&&(r+=a*Gs)):(r=t+a*Gs,s=t-.5*l);for(var h,c=r;a>0?c>s:s>c;c-=l)o.point((h=Nt([i,-n*Math.cos(c),-n*Math.sin(c)]))[0],h[1])}}function De(t,e){var i=It(e);i[0]-=t,Ht(i);var n=N(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-Zs)%(2*Math.PI)}function Re(t,e,i){var n=vs.range(t,e-Zs,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function Ie(t,e,i){var n=vs.range(t,e-Zs,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function Ae(t){return t.source}function ze(t){return t.target}function Oe(t,e,i,n){var r=Math.cos(e),s=Math.sin(e),a=Math.cos(n),o=Math.sin(n),l=r*Math.cos(t),h=r*Math.sin(t),c=a*Math.cos(i),u=a*Math.sin(i),d=2*Math.asin(Math.sqrt(Y(n-e)+r*a*Y(i-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,i=Math.sin(d-t)*p,n=i*l+e*c,r=i*h+e*u,a=i*s+e*o;return[Math.atan2(r,n)*ta,Math.atan2(a,Math.sqrt(n*n+r*r))*ta]}:function(){return[t*ta,e*ta]};return f.distance=d,f}function Le(){function t(t,r){var s=Math.sin(r*=Js),a=Math.cos(r),o=Math.abs((t*=Js)-e),l=Math.cos(o);ao+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=n*s-i*a*l)*o),i*s+n*a*l),e=t,i=s,n=a}var e,i,n;oo.point=function(r,s){e=r*Js,i=Math.sin(s*=Js),n=Math.cos(s),oo.point=t},oo.lineEnd=function(){oo.point=oo.lineEnd=l}}function He(t,e){function i(e,i){var n=Math.cos(e),r=Math.cos(i),s=t(n*r);return[s*r*Math.sin(e),s*Math.sin(i)]}return i.invert=function(t,i){var n=Math.sqrt(t*t+i*i),r=e(n),s=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*s,n*a),Math.asin(n&&i*s/n)]},i}function Ne(t,e){function i(t,e){var i=Math.abs(Math.abs(e)-Qs)<Zs?0:a/Math.pow(r(e),s);return[i*Math.sin(s*t),a-i*Math.cos(s*t)]}var n=Math.cos(t),r=function(t){return Math.tan(Xs/4+t/2)},s=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),s)/s;return s?(i.invert=function(t,e){var i=a-e,n=H(s)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/s,2*Math.atan(Math.pow(a/n,1/s))-Qs]},i):Be}function Fe(t,e){function i(t,e){var i=s-e;return[i*Math.sin(r*t),s-i*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),s=n/r+t;return Math.abs(r)<Zs?ke:(i.invert=function(t,e){var i=s-e;return[Math.atan2(t,i)/r,s-H(r)*Math.sqrt(t*t+i*i)]},i)}function Be(t,e){return[t,Math.log(Math.tan(Xs/4+e/2))]}function We(t){var e,i=_e(t),n=i.scale,r=i.translate,s=i.clipExtent;return i.scale=function(){var t=n.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=r.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var a=s.apply(i,arguments);if(a===i){if(e=null==t){var o=Xs*n(),l=r();s([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else e&&(a=null);return a},i.clipExtent(null)}function je(t,e){var i=Math.cos(e)*Math.sin(t);return[Math.log((1+i)/(1-i))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function Ye(t){function e(e){function a(){h.push("M",s(t(c),o))}for(var l,h=[],c=[],u=-1,d=e.length,p=ft(i),f=ft(n);++u<d;)r.call(this,l=e[u],u)?c.push([+p.call(this,l,u),+f.call(this,l,u)]):c.length&&(a(),c=[]);return c.length&&a(),h.length?h.join(""):null}var i=$e,n=Ue,r=Ut,s=qe,a=s.key,o=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?s=t:(s=fo.get(t)||qe).key,e):a},e.tension=function(t){return arguments.length?(o=t,e):o},e}function $e(t){return t[0]}function Ue(t){return t[1]}function qe(t){return t.join("L")}function Ve(t){return qe(t)+"Z"}function Xe(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return i>1&&r.push("H",n[0]),r.join("")}function Ge(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("V",(n=t[e])[1],"H",n[0]);return r.join("")}function Qe(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n=t[e])[0],"V",n[1]);return r.join("")}function Ze(t,e){return t.length<4?qe(t):t[1]+ti(t.slice(1,t.length-1),ei(t,e))}function Ke(t,e){return t.length<3?qe(t):t[0]+ti((t.push(t[0]),t),ei([t[t.length-2]].concat(t,[t[1]]),e))}function Je(t,e){return t.length<3?qe(t):t[0]+ti(t,ei(t,e))}function ti(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return qe(t);var i=t.length!=e.length,n="",r=t[0],s=t[1],a=e[0],o=a,l=1;if(i&&(n+="Q"+(s[0]-2*a[0]/3)+","+(s[1]-2*a[1]/3)+","+s[0]+","+s[1],r=t[1],l=2),e.length>1){o=e[1],s=t[l],l++,n+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(s[0]-o[0])+","+(s[1]-o[1])+","+s[0]+","+s[1];for(var h=2;h<e.length;h++,l++)s=t[l],o=e[h],n+="S"+(s[0]-o[0])+","+(s[1]-o[1])+","+s[0]+","+s[1]}if(i){var c=t[l];n+="Q"+(s[0]+2*o[0]/3)+","+(s[1]+2*o[1]/3)+","+c[0]+","+c[1]}return n}function ei(t,e){for(var i,n=[],r=(1-e)/2,s=t[0],a=t[1],o=1,l=t.length;++o<l;)i=s,s=a,a=t[o],n.push([r*(a[0]-i[0]),r*(a[1]-i[1])]);return n}function ii(t){if(t.length<3)return qe(t);var e=1,i=t.length,n=t[0],r=n[0],s=n[1],a=[r,r,r,(n=t[1])[0]],o=[s,s,s,n[1]],l=[r,",",s,"L",ai(vo,a),",",ai(vo,o)];for(t.push(t[i-1]);++e<=i;)n=t[e],a.shift(),a.push(n[0]),o.shift(),o.push(n[1]),oi(l,a,o);return t.pop(),l.push("L",n),l.join("")}function ni(t){if(t.length<4)return qe(t);for(var e,i=[],n=-1,r=t.length,s=[0],a=[0];++n<3;)e=t[n],s.push(e[0]),a.push(e[1]);for(i.push(ai(vo,s)+","+ai(vo,a)),--n;++n<r;)e=t[n],s.shift(),s.push(e[0]),a.shift(),a.push(e[1]),oi(i,s,a);return i.join("")}function ri(t){for(var e,i,n=-1,r=t.length,s=r+4,a=[],o=[];++n<4;)i=t[n%r],a.push(i[0]),o.push(i[1]);for(e=[ai(vo,a),",",ai(vo,o)],--n;++n<s;)i=t[n%r],a.shift(),a.push(i[0]),o.shift(),o.push(i[1]),oi(e,a,o);return e.join("")}function si(t,e){var i=t.length-1;if(i)for(var n,r,s=t[0][0],a=t[0][1],o=t[i][0]-s,l=t[i][1]-a,h=-1;++h<=i;)n=t[h],r=h/i,n[0]=e*n[0]+(1-e)*(s+r*o),n[1]=e*n[1]+(1-e)*(a+r*l);return ii(t)}function ai(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function oi(t,e,i){t.push("C",ai(go,e),",",ai(go,i),",",ai(mo,e),",",ai(mo,i),",",ai(vo,e),",",ai(vo,i))}function li(t,e){return(e[1]-t[1])/(e[0]-t[0])}function hi(t){for(var e=0,i=t.length-1,n=[],r=t[0],s=t[1],a=n[0]=li(r,s);++e<i;)n[e]=(a+(a=li(r=s,s=t[e+1])))/2;return n[e]=a,n}function ci(t){for(var e,i,n,r,s=[],a=hi(t),o=-1,l=t.length-1;++o<l;)e=li(t[o],t[o+1]),Math.abs(e)<Zs?a[o]=a[o+1]=0:(i=a[o]/e,n=a[o+1]/e,r=i*i+n*n,r>9&&(r=3*e/Math.sqrt(r),a[o]=r*i,a[o+1]=r*n));for(o=-1;++o<=l;)r=(t[Math.min(l,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),s.push([r||0,a[o]*r||0]);return s}function ui(t){return t.length<3?qe(t):t[0]+ti(t,ci(t))}function di(t,e,i,n){var r,s,a,o,l,h,c;return r=n[t],s=r[0],a=r[1],r=n[e],o=r[0],l=r[1],r=n[i],h=r[0],c=r[1],(c-a)*(o-s)-(l-a)*(h-s)>0}function pi(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function fi(t,e,i,n){var r=t[0],s=i[0],a=e[0]-r,o=n[0]-s,l=t[1],h=i[1],c=e[1]-l,u=n[1]-h,d=(o*(l-h)-u*(r-s))/(u*a-o*c);return[r+d*a,l+d*c]}function gi(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function mi(t,e){var i={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},n={list:[],leftEnd:null,rightEnd:null,init:function(){n.leftEnd=n.createHalfEdge(null,"l"),n.rightEnd=n.createHalfEdge(null,"l"),n.leftEnd.r=n.rightEnd,n.rightEnd.l=n.leftEnd,n.list.unshift(n.leftEnd,n.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=n.leftEnd;do e=e.r;while(e!=n.rightEnd&&r.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?i.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?i.bottomSite:t.edge.region[bo[t.side]]}},r={bisect:function(t,e){var i={region:{l:t,r:e},ep:{l:null,r:null}},n=e.x-t.x,r=e.y-t.y,s=n>0?n:-n,a=r>0?r:-r;return i.c=t.x*n+t.y*r+.5*(n*n+r*r),s>a?(i.a=1,i.b=r/n,i.c/=n):(i.b=1,i.a=n/r,i.c/=r),i},intersect:function(t,e){var i=t.edge,n=e.edge;if(!i||!n||i.region.r==n.region.r)return null;var r=i.a*n.b-i.b*n.a;if(Math.abs(r)<1e-10)return null;var s,a,o=(i.c*n.b-n.c*i.b)/r,l=(n.c*i.a-i.c*n.a)/r,h=i.region.r,c=n.region.r;h.y<c.y||h.y==c.y&&h.x<c.x?(s=t,a=i):(s=e,a=n);var u=o>=a.region.r.x;return u&&"l"===s.side||!u&&"r"===s.side?null:{x:o,y:l}},rightOf:function(t,e){var i=t.edge,n=i.region.r,r=e.x>n.x;if(r&&"l"===t.side)return 1;if(!r&&"r"===t.side)return 0;if(1===i.a){var s=e.y-n.y,a=e.x-n.x,o=0,l=0;if(!r&&i.b<0||r&&i.b>=0?l=o=s>=i.b*a:(l=e.x+e.y*i.b>i.c,i.b<0&&(l=!l),l||(o=1)),!o){var h=n.x-i.region.l.x;l=i.b*(a*a-s*s)<h*s*(1+2*a/h+i.b*i.b),i.b<0&&(l=!l)}}else{var c=i.c-i.a*e.x,u=e.y-c,d=e.x-n.x,p=c-n.y;l=u*u>d*d+p*p}return"l"===t.side?l:!l},endPoint:function(t,i,n){t.ep[i]=n,t.ep[bo[i]]&&e(t)},distance:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}},s={list:[],insert:function(t,e,i){t.vertex=e,t.ystar=e.y+i;for(var n=0,r=s.list,a=r.length;a>n;n++){var o=r[n];if(!(t.ystar>o.ystar||t.ystar==o.ystar&&e.x>o.vertex.x))break}r.splice(n,0,t)},del:function(t){for(var e=0,i=s.list,n=i.length;n>e&&i[e]!=t;++e);i.splice(e,1)},empty:function(){return 0===s.list.length},nextEvent:function(t){for(var e=0,i=s.list,n=i.length;n>e;++e)if(i[e]==t)return i[e+1];return null},min:function(){var t=s.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return s.list.shift()}};n.init(),i.bottomSite=i.list.shift();for(var a,o,l,h,c,u,d,p,f,g,m,v,y,b=i.list.shift();;)if(s.empty()||(a=s.min()),b&&(s.empty()||b.y<a.y||b.y==a.y&&b.x<a.x))o=n.leftBound(b),l=n.right(o),d=n.rightRegion(o),v=r.bisect(d,b),u=n.createHalfEdge(v,"l"),n.insert(o,u),g=r.intersect(o,u),g&&(s.del(o),s.insert(o,g,r.distance(g,b))),o=u,u=n.createHalfEdge(v,"r"),n.insert(o,u),g=r.intersect(u,l),g&&s.insert(u,g,r.distance(g,b)),b=i.list.shift();else{if(s.empty())break;o=s.extractMin(),h=n.left(o),l=n.right(o),c=n.right(l),d=n.leftRegion(o),p=n.rightRegion(l),m=o.vertex,r.endPoint(o.edge,o.side,m),r.endPoint(l.edge,l.side,m),n.del(o),s.del(l),n.del(l),y="l",d.y>p.y&&(f=d,d=p,p=f,y="r"),v=r.bisect(d,p),u=n.createHalfEdge(v,y),n.insert(h,u),r.endPoint(v,bo[y],m),g=r.intersect(h,u),g&&(s.del(h),s.insert(h,g,r.distance(g,d))),g=r.intersect(u,c),g&&s.insert(u,g,r.distance(g,d))}for(o=n.right(n.leftEnd);o!=n.rightEnd;o=n.right(o))e(o.edge)}function vi(t){return t.x}function yi(t){return t.y}function bi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _i(t,e,i,n,r,s){if(!t(e,i,n,r,s)){var a=.5*(i+r),o=.5*(n+s),l=e.nodes;l[0]&&_i(t,l[0],i,n,a,o),l[1]&&_i(t,l[1],a,n,r,o),l[2]&&_i(t,l[2],i,o,a,s),l[3]&&_i(t,l[3],a,o,r,s)}}function wi(t,e){t=vs.rgb(t),e=vs.rgb(e);var i=t.r,n=t.g,r=t.b,s=e.r-i,a=e.g-n,o=e.b-r;return function(t){return"#"+lt(Math.round(i+s*t))+lt(Math.round(n+a*t))+lt(Math.round(r+o*t))}}function xi(t,e){var i,n={},r={};for(i in t)i in e?n[i]=Si(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function ki(t,e){return e-=t=+t,function(i){return t+e*i}}function Ci(t,e){var i,n,r,s,a,o=0,l=0,h=[],c=[];for(t+="",e+="",_o.lastIndex=0,n=0;i=_o.exec(e);++n)i.index&&h.push(e.substring(o,l=i.index)),c.push({i:h.length,x:i[0]}),h.push(null),o=_o.lastIndex;for(o<e.length&&h.push(e.substring(o)),n=0,s=c.length;(i=_o.exec(t))&&s>n;++n)if(a=c[n],a.x==i[0]){if(a.i)if(null==h[a.i+1])for(h[a.i-1]+=a.x,h.splice(a.i,1),r=n+1;s>r;++r)c[r].i--;else for(h[a.i-1]+=a.x+h[a.i+1],h.splice(a.i,2),r=n+1;s>r;++r)c[r].i-=2;else if(null==h[a.i+1])h[a.i]=a.x;else for(h[a.i]=a.x+h[a.i+1],h.splice(a.i+1,1),r=n+1;s>r;++r)c[r].i--;c.splice(n,1),s--,n--}else a.x=ki(parseFloat(i[0]),parseFloat(a.x));
for(;s>n;)a=c.pop(),null==h[a.i+1]?h[a.i]=a.x:(h[a.i]=a.x+h[a.i+1],h.splice(a.i+1,1)),s--;return 1===h.length?null==h[0]?(a=c[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(n=0;s>n;++n)h[(a=c[n]).i]=a.x(t);return h.join("")}}function Si(t,e){for(var i,n=vs.interpolators.length;--n>=0&&!(i=vs.interpolators[n](t,e)););return i}function Mi(t,e){var i,n=[],r=[],s=t.length,a=e.length,o=Math.min(t.length,e.length);for(i=0;o>i;++i)n.push(Si(t[i],e[i]));for(;s>i;++i)r[i]=t[i];for(;a>i;++i)r[i]=e[i];return function(t){for(i=0;o>i;++i)r[i]=n[i](t);return r}}function Ti(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Pi(t){return function(e){return 1-t(1-e)}}function Ei(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Di(t){return t*t}function Ri(t){return t*t*t}function Ii(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function Ai(t){return function(e){return Math.pow(e,t)}}function zi(t){return 1-Math.cos(t*Qs)}function Oi(t){return Math.pow(2,10*(t-1))}function Li(t){return 1-Math.sqrt(1-t*t)}function Hi(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/Gs*Math.asin(1/t):(t=1,i=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-i)*Gs/e)}}function Ni(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Bi(t,e){t=vs.hcl(t),e=vs.hcl(e);var i=t.h,n=t.c,r=t.l,s=e.h-i,a=e.c-n,o=e.l-r;return isNaN(a)&&(a=0,n=isNaN(n)?e.c:n),isNaN(s)?(s=0,i=isNaN(i)?e.h:i):s>180?s-=360:-180>s&&(s+=360),function(t){return Q(i+s*t,n+a*t,r+o*t)+""}}function Wi(t,e){t=vs.hsl(t),e=vs.hsl(e);var i=t.h,n=t.s,r=t.l,s=e.h-i,a=e.s-n,o=e.l-r;return isNaN(a)&&(a=0,n=isNaN(n)?e.s:n),isNaN(s)?(s=0,i=isNaN(i)?e.h:i):s>180?s-=360:-180>s&&(s+=360),function(t){return V(i+s*t,n+a*t,r+o*t)+""}}function ji(t,e){t=vs.lab(t),e=vs.lab(e);var i=t.l,n=t.a,r=t.b,s=e.l-i,a=e.a-n,o=e.b-r;return function(t){return J(i+s*t,n+a*t,r+o*t)+""}}function Yi(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function $i(t){var e=[t.a,t.b],i=[t.c,t.d],n=qi(e),r=Ui(e,i),s=qi(Vi(i,e,-r))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,r*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*ta,this.translate=[t.e,t.f],this.scale=[n,s],this.skew=s?Math.atan2(r,s)*ta:0}function Ui(t,e){return t[0]*e[0]+t[1]*e[1]}function qi(t){var e=Math.sqrt(Ui(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vi(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function Xi(t,e){var i,n=[],r=[],s=vs.transform(t),a=vs.transform(e),o=s.translate,l=a.translate,h=s.rotate,c=a.rotate,u=s.skew,d=a.skew,p=s.scale,f=a.scale;return o[0]!=l[0]||o[1]!=l[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:ki(o[0],l[0])},{i:3,x:ki(o[1],l[1])})):l[0]||l[1]?n.push("translate("+l+")"):n.push(""),h!=c?(h-c>180?c+=360:c-h>180&&(h+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:ki(h,c)})):c&&n.push(n.pop()+"rotate("+c+")"),u!=d?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:ki(u,d)}):d&&n.push(n.pop()+"skewX("+d+")"),p[0]!=f[0]||p[1]!=f[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:ki(p[0],f[0])},{i:i-2,x:ki(p[1],f[1])})):(1!=f[0]||1!=f[1])&&n.push(n.pop()+"scale("+f+")"),i=r.length,function(t){for(var e,s=-1;++s<i;)n[(e=r[s]).i]=e.x(t);return n.join("")}}function Gi(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return(i-t)*e}}function Qi(t,e){return e=e-(t=+t)?1/(e-t):0,function(i){return Math.max(0,Math.min(1,(i-t)*e))}}function Zi(t){for(var e=t.source,i=t.target,n=Ji(e,i),r=[e];e!==n;)e=e.parent,r.push(e);for(var s=r.length;i!==n;)r.splice(s,0,i),i=i.parent;return r}function Ki(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function Ji(t,e){if(t===e)return t;for(var i=Ki(t),n=Ki(e),r=i.pop(),s=n.pop(),a=null;r===s;)a=r,r=i.pop(),s=n.pop();return a}function tn(t){t.fixed|=2}function en(t){t.fixed&=-7}function nn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function rn(t){t.fixed&=-5}function sn(t,e,i){var n=0,r=0;if(t.charge=0,!t.leaf)for(var s,a=t.nodes,o=a.length,l=-1;++l<o;)s=a[l],null!=s&&(sn(s,e,i),t.charge+=s.charge,n+=s.charge*s.cx,r+=s.charge*s.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*i[t.point.index];t.charge+=t.pointCharge=h,n+=h*t.point.x,r+=h*t.point.y}t.cx=n/t.charge,t.cy=r/t.charge}function an(t,e){return vs.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cn,t}function on(t){return t.children}function ln(t){return t.value}function hn(t,e){return e.value-t.value}function cn(t){return vs.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function un(t){return t.x}function dn(t){return t.y}function pn(t,e,i){t.y0=e,t.y=i}function fn(t){return vs.range(t.length)}function gn(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function mn(t){for(var e,i=1,n=0,r=t[0][1],s=t.length;s>i;++i)(e=t[i][1])>r&&(n=i,r=e);return n}function vn(t){return t.reduce(yn,0)}function yn(t,e){return t+e[1]}function bn(t,e){return _n(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function _n(t,e){for(var i=-1,n=+t[0],r=(t[1]-n)/e,s=[];++i<=e;)s[i]=r*i+n;return s}function wn(t){return[vs.min(t),vs.max(t)]}function xn(t,e){return t.parent==e.parent?1:2}function kn(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Cn(t){var e,i=t.children;return i&&(e=i.length)?i[e-1]:t._tree.thread}function Sn(t,e){var i=t.children;if(i&&(r=i.length))for(var n,r,s=-1;++s<r;)e(n=Sn(i[s],e),t)>0&&(t=n);return t}function Mn(t,e){return t.x-e.x}function Tn(t,e){return e.x-t.x}function Pn(t,e){return t.depth-e.depth}function En(t,e){function i(t,n){var r=t.children;if(r&&(a=r.length))for(var s,a,o=null,l=-1;++l<a;)s=r[l],i(s,o),o=s;e(t,n)}i(t,null)}function Dn(t){for(var e,i=0,n=0,r=t.children,s=r.length;--s>=0;)e=r[s]._tree,e.prelim+=i,e.mod+=i,i+=e.shift+(n+=e.change)}function Rn(t,e,i){t=t._tree,e=e._tree;var n=i/(e.number-t.number);t.change+=n,e.change-=n,e.shift+=i,e.prelim+=i,e.mod+=i}function In(t,e,i){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:i}function An(t,e){return t.value-e.value}function zn(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function On(t,e){t._pack_next=e,e._pack_prev=t}function Ln(t,e){var i=e.x-t.x,n=e.y-t.y,r=t.r+e.r;return.999*r*r>i*i+n*n}function Hn(t){function e(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((i=t.children)&&(h=i.length)){var i,n,r,s,a,o,l,h,c=1/0,u=-1/0,d=1/0,p=-1/0;if(i.forEach(Nn),n=i[0],n.x=-n.r,n.y=0,e(n),h>1&&(r=i[1],r.x=r.r,r.y=0,e(r),h>2))for(s=i[2],Wn(n,r,s),e(s),zn(n,s),n._pack_prev=s,zn(s,r),r=n._pack_next,a=3;h>a;a++){Wn(n,r,s=i[a]);var f=0,g=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,g++)if(Ln(o,s)){f=1;break}if(1==f)for(l=n._pack_prev;l!==o._pack_prev&&!Ln(l,s);l=l._pack_prev,m++);f?(m>g||g==m&&r.r<n.r?On(n,r=o):On(n=l,r),a--):(zn(n,s),r=s,e(s))}var v=(c+u)/2,y=(d+p)/2,b=0;for(a=0;h>a;a++)s=i[a],s.x-=v,s.y-=y,b=Math.max(b,s.r+Math.sqrt(s.x*s.x+s.y*s.y));t.r=b,i.forEach(Fn)}}function Nn(t){t._pack_next=t._pack_prev=t}function Fn(t){delete t._pack_next,delete t._pack_prev}function Bn(t,e,i,n){var r=t.children;if(t.x=e+=n*t.x,t.y=i+=n*t.y,t.r*=n,r)for(var s=-1,a=r.length;++s<a;)Bn(r[s],e,i,n)}function Wn(t,e,i){var n=t.r+i.r,r=e.x-t.x,s=e.y-t.y;if(n&&(r||s)){var a=e.r+i.r,o=r*r+s*s;a*=a,n*=n;var l=.5+(n-a)/(2*o),h=Math.sqrt(Math.max(0,2*a*(n+o)-(n-=o)*n-a*a))/(2*o);i.x=t.x+l*r+h*s,i.y=t.y+l*s-h*r}else i.x=t.x+n,i.y=t.y}function jn(t){return 1+vs.max(t,function(t){return t.y})}function Yn(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function $n(t){var e=t.children;return e&&e.length?$n(e[0]):t}function Un(t){var e,i=t.children;return i&&(e=i.length)?Un(i[e-1]):t}function qn(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Vn(t,e){var i=t.x+e[3],n=t.y+e[0],r=t.dx-e[1]-e[3],s=t.dy-e[0]-e[2];return 0>r&&(i+=r/2,r=0),0>s&&(n+=s/2,s=0),{x:i,y:n,dx:r,dy:s}}function Xn(t){var e=t[0],i=t[t.length-1];return i>e?[e,i]:[i,e]}function Gn(t){return t.rangeExtent?t.rangeExtent():Xn(t.range())}function Qn(t,e,i,n){var r=i(t[0],t[1]),s=n(e[0],e[1]);return function(t){return s(r(t))}}function Zn(t,e){var i,n=0,r=t.length-1,s=t[n],a=t[r];return s>a&&(i=n,n=r,r=i,i=s,s=a,a=i),t[n]=e.floor(s),t[r]=e.ceil(a),t}function Kn(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Do}function Jn(t,e,i,n){var r=[],s=[],a=0,o=Math.min(t.length,e.length)-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=o;)r.push(i(t[a-1],t[a])),s.push(n(e[a-1],e[a]));return function(e){var i=vs.bisect(t,e,1,o)-1;return s[i](r[i](e))}}function tr(t,e,i,n){function r(){var r=Math.min(t.length,e.length)>2?Jn:Qn,l=n?Qi:Gi;return a=r(t,e,l,i),o=r(e,t,l,Si),s}function s(t){return a(t)}var a,o;return s.invert=function(t){return o(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},s.range=function(t){return arguments.length?(e=t,r()):e},s.rangeRound=function(t){return s.range(t).interpolate(Yi)},s.clamp=function(t){return arguments.length?(n=t,r()):n},s.interpolate=function(t){return arguments.length?(i=t,r()):i},s.ticks=function(e){return rr(t,e)},s.tickFormat=function(e,i){return sr(t,e,i)},s.nice=function(e){return ir(t,e),r()},s.copy=function(){return tr(t,e,i,n)},r()}function er(t,e){return vs.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ir(t,e){return Zn(t,Kn(nr(t,e)[2]))}function nr(t,e){null==e&&(e=10);var i=Xn(t),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),s=e/n*r;return.15>=s?r*=10:.35>=s?r*=5:.75>=s&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function rr(t,e){return vs.range.apply(vs,nr(t,e))}function sr(t,e,i){var n=-Math.floor(Math.log(nr(t,e)[2])/Math.LN10+.01);return vs.format(i?i.replace(Ta,function(t,e,i,r,s,a,o,l,h,c){return[e,i,r,s,a,o,l,h||"."+(n-2*("%"===c)),c].join("")}):",."+n+"f")}function ar(t,e,i,n){function r(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function s(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return s(t.invert(e))},a.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((n=e.map(Number)).map(r)),a):n},a.base=function(i){return arguments.length?(e=+i,t.domain(n.map(r)),a):e},a.nice=function(){var e=Zn(n.map(r),i?Math:Io);return t.domain(e),n=e.map(s),a},a.ticks=function(){var t=Xn(n),a=[],o=t[0],l=t[1],h=Math.floor(r(o)),c=Math.ceil(r(l)),u=e%1?2:e;if(isFinite(c-h)){if(i){for(;c>h;h++)for(var d=1;u>d;d++)a.push(s(h)*d);a.push(s(h))}else for(a.push(s(h));h++<c;)for(var d=u-1;d>0;d--)a.push(s(h)*d);for(h=0;a[h]<o;h++);for(c=a.length;a[c-1]>l;c--);a=a.slice(h,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return Ro;arguments.length<2?e=Ro:"function"!=typeof e&&(e=vs.format(e));var n,o=Math.max(.1,t/a.ticks().length),l=i?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/s(l(r(t)+n))<=o?e(t):""}},a.copy=function(){return ar(t.copy(),e,i,n)},er(a,t)}function or(t,e,i){function n(e){return t(r(e))}var r=lr(e),s=lr(1/e);return n.invert=function(e){return s(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),n):i},n.ticks=function(t){return rr(i,t)},n.tickFormat=function(t,e){return sr(i,t,e)},n.nice=function(t){return n.domain(ir(i,t))},n.exponent=function(a){return arguments.length?(r=lr(e=a),s=lr(1/e),t.domain(i.map(r)),n):e},n.copy=function(){return or(t.copy(),e,i)},er(n,t)}function lr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function hr(t,e){function i(i){return a[((s.get(i)||"range"===e.t&&s.set(i,t.push(i)))-1)%a.length]}function n(e,i){return vs.range(t.length).map(function(t){return e+i*t})}var s,a,o;return i.domain=function(n){if(!arguments.length)return t;t=[],s=new r;for(var a,o=-1,l=n.length;++o<l;)s.has(a=n[o])||s.set(a,t.push(a));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},i):a},i.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],h=r[1],c=(h-l)/(Math.max(1,t.length-1)+s);return a=n(t.length<2?(l+h)/2:l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},i},i.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=r[1]<r[0],c=r[h-0],u=r[1-h],d=(u-c)/(t.length-s+2*l);return a=n(c+d*l,d),h&&a.reverse(),o=d*(1-s),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var h=r[1]<r[0],c=r[h-0],u=r[1-h],d=Math.floor((u-c)/(t.length-s+2*l)),p=u-c-(t.length-s)*d;return a=n(c+Math.round(p/2),d),h&&a.reverse(),o=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return o},i.rangeExtent=function(){return Xn(e.a[0])},i.copy=function(){return hr(t,e)},i.domain(t)}function cr(t,e){function i(){var i=0,s=e.length;for(r=[];++i<s;)r[i-1]=vs.quantile(t,i/s);return n}function n(t){return isNaN(t=+t)?void 0:e[vs.bisect(r,t)]}var r;return n.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(vs.ascending),i()):t},n.range=function(t){return arguments.length?(e=t,i()):e},n.quantiles=function(){return r},n.invertExtent=function(i){return i=e.indexOf(i),0>i?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},n.copy=function(){return cr(t,e)},i()}function ur(t,e,i){function n(e){return i[Math.max(0,Math.min(a,Math.floor(s*(e-t))))]}function r(){return s=i.length/(e-t),a=i.length-1,n}var s,a;return n.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],r()):[t,e]},n.range=function(t){return arguments.length?(i=t,r()):i},n.invertExtent=function(e){return e=i.indexOf(e),e=0>e?NaN:e/s+t,[e,e+1/s]},n.copy=function(){return ur(t,e,i)},r()}function dr(t,e){function i(i){return i>=i?e[vs.bisect(t,i)]:void 0}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return dr(t,e)},i}function pr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return rr(t,e)},e.tickFormat=function(e,i){return sr(t,e,i)},e.copy=function(){return pr(t)},e}function fr(t){return t.innerRadius}function gr(t){return t.outerRadius}function mr(t){return t.startAngle}function vr(t){return t.endAngle}function yr(t){for(var e,i,n,r=-1,s=t.length;++r<s;)e=t[r],i=e[0],n=e[1]+Ho,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function br(t){function e(e){function l(){g.push("M",o(t(v),u),c,h(t(m.reverse()),u),"Z")}for(var d,p,f,g=[],m=[],v=[],y=-1,b=e.length,_=ft(i),w=ft(r),x=i===n?function(){return p}:ft(n),k=r===s?function(){return f}:ft(s);++y<b;)a.call(this,d=e[y],y)?(m.push([p=+_.call(this,d,y),f=+w.call(this,d,y)]),v.push([+x.call(this,d,y),+k.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var i=$e,n=$e,r=0,s=Ue,a=Ut,o=qe,l=o.key,h=o,c="L",u=.7;return e.x=function(t){return arguments.length?(i=n=t,e):n},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=s=t,e):s},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(s=t,e):s},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?o=t:(o=fo.get(t)||qe).key,h=o.reverse||o,c=o.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(u=t,e):u},e}function _r(t){return t.radius}function wr(t){return[t.x,t.y]}function xr(t){return function(){var e=t.apply(this,arguments),i=e[0],n=e[1]+Ho;return[i*Math.cos(n),i*Math.sin(n)]}}function kr(){return 64}function Cr(){return"circle"}function Sr(t){var e=Math.sqrt(t/Xs);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Mr(t,e){return Os(t,$o),t.id=e,t}function Tr(t,e,i,n){var r=t.id;return P(t,"function"==typeof i?function(t,s,a){t.__transition__[r].tween.set(e,n(i.call(t,t.__data__,s,a)))}:(i=n(i),function(t){t.__transition__[r].tween.set(e,i)}))}function Pr(t){return null==t&&(t=""),function(){this.textContent=t}}function Er(t,e,i,n){var s=t.__transition__||(t.__transition__={active:0,count:0}),a=s[i];if(!a){var o=n.time;a=s[i]={tween:new r,time:o,ease:n.ease,delay:n.delay,duration:n.duration},++s.count,vs.timer(function(n){function r(n){return s.active>i?h():(s.active=i,a.event&&a.event.start.call(t,c,e),a.tween.forEach(function(i,n){(n=n.call(t,c,e))&&f.push(n)}),l(n||1)?1:void _t(l,d,o))}function l(n){if(s.active!==i)return h();for(var r=n/p,o=u(r),l=f.length;l>0;)f[--l].call(t,o);return r>=1?(a.event&&a.event.end.call(t,c,e),h()):void 0}function h(){return--s.count?delete s[i]:delete t.__transition__,1}var c=t.__data__,u=a.ease,d=a.delay,p=a.duration,f=[];return n>=d?r(n-d):void _t(r,d,o)},0,o)}}function Dr(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Rr(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Ir(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ar(t,e,i){function n(e){var i=t(e),n=s(i,1);return n-e>e-i?i:n}function r(i){return e(i=t(new Zo(i-1)),1),i}function s(t,i){return e(t=new Zo(+t),i),t}function a(t,n,s){var a=r(t),o=[];if(s>1)for(;n>a;)i(a)%s||o.push(new Date(+a)),e(a,1);else for(;n>a;)o.push(new Date(+a)),e(a,1);return o}function o(t,e,i){try{Zo=Ir;var n=new Ir;return n._=t,a(n,e,i)}finally{Zo=Date}}t.floor=t,t.round=n,t.ceil=r,t.offset=s,t.range=a;var l=t.utc=zr(t);return l.floor=l,l.round=zr(n),l.ceil=zr(r),l.offset=zr(s),l.range=o,t}function zr(t){return function(e,i){try{Zo=Ir;var n=new Ir;return n._=e,t(n,i)._}finally{Zo=Date}}}function Or(t){function e(e){for(var n,r,s,a=[],o=-1,l=0;++o<i;)37===t.charCodeAt(o)&&(a.push(t.substring(l,o)),null!=(r=ml[n=t.charAt(++o)])&&(n=t.charAt(++o)),(s=vl[n])&&(n=s(e,null==r?"e"===n?" ":"0":r)),a.push(n),l=o+1);return a.push(t.substring(l,o)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},n=Lr(i,t,e,0);if(n!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&Zo!==Ir,s=new(r?Ir:Zo);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),r?s._:s},e.toString=function(){return t},e}function Lr(t,e,i,n){for(var r,s,a,o=0,l=e.length,h=i.length;l>o;){if(n>=h)return-1;if(r=e.charCodeAt(o++),37===r){if(a=e.charAt(o++),s=yl[a in ml?e.charAt(o++):a],!s||(n=s(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}function Hr(t){return new RegExp("^(?:"+t.map(vs.requote).join("|")+")","i")}function Nr(t){for(var e=new r,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function Fr(t,e,i){var n=0>t?"-":"",r=(n?-t:t)+"",s=r.length;return n+(i>s?new Array(i-s+1).join(e)+r:r)}function Br(t,e,i){hl.lastIndex=0;var n=hl.exec(e.substring(i));return n?(t.w=cl.get(n[0].toLowerCase()),i+n[0].length):-1}function Wr(t,e,i){ol.lastIndex=0;var n=ol.exec(e.substring(i));return n?(t.w=ll.get(n[0].toLowerCase()),i+n[0].length):-1}function jr(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Yr(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i));return n?(t.U=+n[0],i+n[0].length):-1}function $r(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i));return n?(t.W=+n[0],i+n[0].length):-1}function Ur(t,e,i){pl.lastIndex=0;var n=pl.exec(e.substring(i));return n?(t.m=fl.get(n[0].toLowerCase()),i+n[0].length):-1}function qr(t,e,i){ul.lastIndex=0;var n=ul.exec(e.substring(i));return n?(t.m=dl.get(n[0].toLowerCase()),i+n[0].length):-1}function Vr(t,e,i){return Lr(t,vl.c.toString(),e,i)}function Xr(t,e,i){return Lr(t,vl.x.toString(),e,i)}function Gr(t,e,i){return Lr(t,vl.X.toString(),e,i)}function Qr(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function Zr(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.y=Jr(+n[0]),i+n[0].length):-1}function Kr(t,e,i){return/^[+-]\d{4}$/.test(e=e.substring(i,i+5))?(t.Z=+e,i+5):-1}function Jr(t){return t+(t>68?1900:2e3)}function ts(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function es(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function is(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function ns(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function rs(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function ss(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function as(t,e,i){bl.lastIndex=0;var n=bl.exec(e.substring(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function os(t,e,i){var n=_l.get(e.substring(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)}function ls(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",n=~~(Math.abs(e)/60),r=Math.abs(e)%60;return i+Fr(n,"0",2)+Fr(r,"0",2)}function hs(t,e,i){gl.lastIndex=0;var n=gl.exec(e.substring(i,i+1));return n?i+n[0].length:-1}function cs(t){function e(t){try{Zo=Ir;var e=new Zo;return e._=t,i(e)}finally{Zo=Date}}var i=Or(t);return e.parse=function(t){try{Zo=Ir;var e=i.parse(t);return e&&e._}finally{Zo=Date}},e.toString=i.toString,e}function us(t){return t.toISOString()}function ds(t,e,i){function n(e){return t(e)}function r(t,i){var n=t[1]-t[0],r=n/i,s=vs.bisect(xl,r);return s==xl.length?[e.year,nr(t.map(function(t){return t/31536e6}),i)[2]]:s?e[r/xl[s-1]<xl[s]/r?s-1:s]:[Ml,nr(t,i)[2]]}return n.invert=function(e){return ps(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(ps)},n.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,ps(+i+1),e).length}var s=n.domain(),a=Xn(s),o=null==t?r(a,10):"number"==typeof t&&r(a,t);return o&&(t=o[0],e=o[1]),n.domain(Zn(s,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=ps(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=ps(+e+1);return e}}:t))},n.ticks=function(t,e){var i=Xn(n.domain()),s=null==t?r(i,10):"number"==typeof t?r(i,t):!t.range&&[{range:t},e];return s&&(t=s[0],e=s[1]),t.range(i[0],ps(+i[1]+1),1>e?1:e)},n.tickFormat=function(){return i},n.copy=function(){return ds(t.copy(),e,i)},er(n,t)}function ps(t){return new Date(t)}function fs(t){return function(e){for(var i=t.length-1,n=t[i];!n[1](e);)n=t[--i];return n[0](e)}}function gs(t){return JSON.parse(t.responseText)}function ms(t){var e=_s.createRange();return e.selectNode(_s.body),e.createContextualFragment(t.responseText)}var vs={version:"3.3.6"};Date.now||(Date.now=function(){return+new Date});var ys=[].slice,bs=function(t){return ys.call(t)},_s=document,ws=_s.documentElement,xs=window;try{bs(ws.childNodes)[0].nodeType}catch(ks){bs=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}try{_s.createElement("div").style.setProperty("opacity",0,"")}catch(Cs){var Ss=xs.Element.prototype,Ms=Ss.setAttribute,Ts=Ss.setAttributeNS,Ps=xs.CSSStyleDeclaration.prototype,Es=Ps.setProperty;Ss.setAttribute=function(t,e){Ms.call(this,t,e+"")},Ss.setAttributeNS=function(t,e,i){Ts.call(this,t,e,i+"")},Ps.setProperty=function(t,e,i){Es.call(this,t,e+"",i)}}vs.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:NaN},vs.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},vs.min=function(t,e){var i,n,r=-1,s=t.length;if(1===arguments.length){for(;++r<s&&!(null!=(i=t[r])&&i>=i);)i=void 0;for(;++r<s;)null!=(n=t[r])&&i>n&&(i=n)}else{for(;++r<s&&!(null!=(i=e.call(t,t[r],r))&&i>=i);)i=void 0;for(;++r<s;)null!=(n=e.call(t,t[r],r))&&i>n&&(i=n)}return i},vs.max=function(t,e){var i,n,r=-1,s=t.length;if(1===arguments.length){for(;++r<s&&!(null!=(i=t[r])&&i>=i);)i=void 0;for(;++r<s;)null!=(n=t[r])&&n>i&&(i=n)}else{for(;++r<s&&!(null!=(i=e.call(t,t[r],r))&&i>=i);)i=void 0;for(;++r<s;)null!=(n=e.call(t,t[r],r))&&n>i&&(i=n)}return i},vs.extent=function(t,e){var i,n,r,s=-1,a=t.length;if(1===arguments.length){for(;++s<a&&!(null!=(i=r=t[s])&&i>=i);)i=r=void 0;for(;++s<a;)null!=(n=t[s])&&(i>n&&(i=n),n>r&&(r=n))}else{for(;++s<a&&!(null!=(i=r=e.call(t,t[s],s))&&i>=i);)i=void 0;for(;++s<a;)null!=(n=e.call(t,t[s],s))&&(i>n&&(i=n),n>r&&(r=n))}return[i,r]},vs.sum=function(t,e){var i,n=0,r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)isNaN(i=+t[s])||(n+=i);else for(;++s<r;)isNaN(i=+e.call(t,t[s],s))||(n+=i);return n},vs.mean=function(e,i){var n,r=e.length,s=0,a=-1,o=0;if(1===arguments.length)for(;++a<r;)t(n=e[a])&&(s+=(n-s)/++o);else for(;++a<r;)t(n=i.call(e,e[a],a))&&(s+=(n-s)/++o);return o?s:void 0},vs.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),r=+t[n-1],s=i-n;return s?r+s*(t[n]-r):r},vs.median=function(e,i){return arguments.length>1&&(e=e.map(i)),e=e.filter(t),e.length?vs.quantile(e.sort(vs.ascending),.5):void 0},vs.bisector=function(t){return{left:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var s=n+r>>>1;t.call(e,e[s],s)<i?n=s+1:r=s}return n},right:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var s=n+r>>>1;i<t.call(e,e[s],s)?r=s:n=s+1}return n}}};var Ds=vs.bisector(function(t){return t});vs.bisectLeft=Ds.left,vs.bisect=vs.bisectRight=Ds.right,vs.shuffle=function(t){for(var e,i,n=t.length;n;)i=0|Math.random()*n--,e=t[n],t[n]=t[i],t[i]=e;return t},vs.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},vs.pairs=function(t){for(var e,i=0,n=t.length-1,r=t[0],s=new Array(0>n?0:n);n>i;)s[i]=[e=r,r=t[++i]];return s},vs.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,i=vs.min(arguments,e),n=new Array(i);++t<i;)for(var r,s=-1,a=n[t]=new Array(r);++s<r;)a[s]=arguments[s][t];return n},vs.transpose=function(t){return vs.zip.apply(vs,t)},vs.keys=function(t){var e=[];for(var i in t)e.push(i);return e},vs.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},vs.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},vs.merge=function(t){return Array.prototype.concat.apply([],t)},vs.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/n)throw new Error("infinite range");var r,s=[],a=i(Math.abs(n)),o=-1;if(t*=a,e*=a,n*=a,0>n)for(;(r=t+n*++o)>e;)s.push(r/a);else for(;(r=t+n*++o)<e;)s.push(r/a);return s},vs.map=function(t){var e=new r;if(t instanceof r)t.forEach(function(t,i){e.set(t,i)});else for(var i in t)e.set(i,t[i]);return e},n(r,{has:function(t){return Rs+t in this},get:function(t){return this[Rs+t]},set:function(t,e){return this[Rs+t]=e},remove:function(t){return t=Rs+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,i){t.push(i)}),t},entries:function(){var t=[];return this.forEach(function(e,i){t.push({key:e,value:i})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Is&&t.call(this,e.substring(1),this[e])}});var Rs="\x00",Is=Rs.charCodeAt(0);vs.nest=function(){function t(e,o,l){if(l>=a.length)return n?n.call(s,o):i?o.sort(i):o;for(var h,c,u,d,p=-1,f=o.length,g=a[l++],m=new r;++p<f;)(d=m.get(h=g(c=o[p])))?d.push(c):m.set(h,[c]);return e?(c=e(),u=function(i,n){c.set(i,t(e,n,l))}):(c={},u=function(i,n){c[i]=t(e,n,l)}),m.forEach(u),c}function e(t,i){if(i>=a.length)return t;var n=[],r=o[i++];return t.forEach(function(t,r){n.push({key:t,values:e(r,i)})}),r?n.sort(function(t,e){return r(t.key,e.key)}):n}var i,n,s={},a=[],o=[];return s.map=function(e,i){return t(i,e,0)},s.entries=function(i){return e(t(vs.map,i,0),0)},s.key=function(t){return a.push(t),s},s.sortKeys=function(t){return o[a.length-1]=t,s},s.sortValues=function(t){return i=t,s},s.rollup=function(t){return n=t,s},s},vs.set=function(t){var e=new s;if(t)for(var i=0,n=t.length;n>i;++i)e.add(t[i]);return e},n(s,{has:function(t){return Rs+t in this},add:function(t){return this[Rs+t]=!0,t},remove:function(t){return t=Rs+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Is&&t.call(this,e.substring(1))}}),vs.behavior={},vs.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=a(t,e,e[i]);return t};var As=["webkit","ms","moz","Moz","o","O"];vs.dispatch=function(){for(var t=new h,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=c(t);return t},h.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(i>=0&&(n=t.substring(i+1),t=t.substring(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},vs.event=null,vs.requote=function(t){return t.replace(zs,"\\$&")};var zs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Os={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},Ls=function(t,e){return e.querySelector(t)},Hs=function(t,e){return e.querySelectorAll(t)},Ns=ws[o(ws,"matchesSelector")],Fs=function(t,e){return Ns.call(t,e)};"function"==typeof Sizzle&&(Ls=function(t,e){return Sizzle(t,e)[0]||null},Hs=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},Fs=Sizzle.matchesSelector),vs.selection=function(){return Ys};var Bs=vs.selection.prototype=[];Bs.select=function(t){var e,i,n,r,s=[];t=g(t);for(var a=-1,o=this.length;++a<o;){s.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=-1,h=n.length;++l<h;)(r=n[l])?(e.push(i=t.call(r,r.__data__,l,a)),i&&"__data__"in r&&(i.__data__=r.__data__)):e.push(null)}return f(s)},Bs.selectAll=function(t){var e,i,n=[];t=m(t);for(var r=-1,s=this.length;++r<s;)for(var a=this[r],o=-1,l=a.length;++o<l;)(i=a[o])&&(n.push(e=bs(t.call(i,i.__data__,o,r))),e.parentNode=i);return f(n)};var Ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};vs.ns={prefix:Ws,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&(i=t.substring(0,e),t=t.substring(e+1)),Ws.hasOwnProperty(i)?{space:Ws[i],local:t}:t}},Bs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=vs.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},Bs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=t.trim().split(/^|\s+/g)).length,r=-1;if(e=i.classList){for(;++r<n;)if(!e.contains(t[r]))return!1}else for(e=i.getAttribute("class");++r<n;)if(!b(t[r]).test(e))return!1;return!0}for(e in t)this.each(_(e,t[e]));return this}return this.each(_(t,e))},Bs.style=function(t,e,i){var n=arguments.length;if(3>n){if("string"!=typeof t){2>n&&(e="");for(i in t)this.each(x(i,t[i],e));return this}if(2>n)return xs.getComputedStyle(this.node(),null).getPropertyValue(t);i=""}return this.each(x(t,e,i))},Bs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Bs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Bs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){
this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Bs.append=function(t){return t=C(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Bs.insert=function(t,e){return t=C(t),e=g(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments))})},Bs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Bs.data=function(t,e){function i(t,i){var n,s,a,o=t.length,u=i.length,d=Math.min(o,u),p=new Array(u),f=new Array(u),g=new Array(o);if(e){var m,v=new r,y=new r,b=[];for(n=-1;++n<o;)m=e.call(s=t[n],s.__data__,n),v.has(m)?g[n]=s:v.set(m,s),b.push(m);for(n=-1;++n<u;)m=e.call(i,a=i[n],n),(s=v.get(m))?(p[n]=s,s.__data__=a):y.has(m)||(f[n]=S(a)),y.set(m,a),v.remove(m);for(n=-1;++n<o;)v.has(b[n])&&(g[n]=t[n])}else{for(n=-1;++n<d;)s=t[n],a=i[n],s?(s.__data__=a,p[n]=s):f[n]=S(a);for(;u>n;++n)f[n]=S(i[n]);for(;o>n;++n)g[n]=t[n]}f.update=p,f.parentNode=p.parentNode=g.parentNode=t.parentNode,l.push(f),h.push(p),c.push(g)}var n,s,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++a<o;)(s=n[a])&&(t[a]=s.__data__);return t}var l=E([]),h=f([]),c=f([]);if("function"==typeof t)for(;++a<o;)i(n=this[a],t.call(n,n.parentNode.__data__,a));else for(;++a<o;)i(n=this[a],t);return h.enter=function(){return l},h.exit=function(){return c},h},Bs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Bs.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=M(t));for(var s=0,a=this.length;a>s;s++){r.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var o=0,l=i.length;l>o;o++)(n=i[o])&&t.call(n,n.__data__,o)&&e.push(n)}return f(r)},Bs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],r=n.length-1,s=n[r];--r>=0;)(i=n[r])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Bs.sort=function(t){t=T.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},Bs.each=function(t){return P(this,function(e,i,n){t.call(e,e.__data__,i,n)})},Bs.call=function(t){var e=bs(arguments);return t.apply(e[0]=this,e),this},Bs.empty=function(){return!this.node()},Bs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var i=this[t],n=0,r=i.length;r>n;n++){var s=i[n];if(s)return s}return null},Bs.size=function(){var t=0;return this.each(function(){++t}),t};var js=[];vs.selection.enter=E,vs.selection.enter.prototype=js,js.append=Bs.append,js.empty=Bs.empty,js.node=Bs.node,js.call=Bs.call,js.size=Bs.size,js.select=function(t){for(var e,i,n,r,s,a=[],o=-1,l=this.length;++o<l;){n=(r=this[o]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var h=-1,c=r.length;++h<c;)(s=r[h])?(e.push(n[h]=i=t.call(r.parentNode,s.__data__,h,o)),i.__data__=s.__data__):e.push(null)}return f(a)},js.insert=function(t,e){return arguments.length<2&&(e=D(this)),Bs.insert.call(this,t,e)},Bs.transition=function(){for(var t,e,i=Bo||++Uo,n=[],r=Wo||{time:Date.now(),ease:Ii,delay:0,duration:250},s=-1,a=this.length;++s<a;){n.push(t=[]);for(var o=this[s],l=-1,h=o.length;++l<h;)(e=o[l])&&Er(e,l,i,r),t.push(e)}return Mr(n,i)},Bs.interrupt=function(){return this.each(R)},vs.select=function(t){var e=["string"==typeof t?Ls(t,_s):t];return e.parentNode=ws,f([e])},vs.selectAll=function(t){var e=bs("string"==typeof t?Hs(t,_s):t);return e.parentNode=ws,f([e])};var Ys=vs.select(ws);Bs.on=function(t,e,i){var n=arguments.length;if(3>n){if("string"!=typeof t){2>n&&(e=!1);for(i in t)this.each(I(i,t[i],e));return this}if(2>n)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(I(t,e,i))};var $s=vs.map({mouseenter:"mouseover",mouseleave:"mouseout"});$s.forEach(function(t){"on"+t in _s&&$s.remove(t)});var Us=o(ws.style,"userSelect"),qs=0;vs.mouse=function(t){return L(t,d())};var Vs=/WebKit/.test(xs.navigator.userAgent)?-1:0;vs.touches=function(t,e){return arguments.length<2&&(e=d().touches),e?bs(e).map(function(e){var i=L(t,e);return i.identifier=e.identifier,i}):[]},vs.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function e(){return vs.event.changedTouches[0].identifier}function i(t,e){return vs.touches(t).filter(function(t){return t.identifier===e})[0]}function n(t,e,i,n){return function(){function a(){var t=e(c,p),i=t[0]-g[0],n=t[1]-g[1];m|=i|n,g=t,u({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:i,dy:n})}function o(){v.on(i+"."+f,null).on(n+"."+f,null),y(m&&vs.event.target===d),u({type:"dragend"})}var l,h=this,c=h.parentNode,u=r.of(h,arguments),d=vs.event.target,p=t(),f=null==p?"drag":"drag-"+p,g=e(c,p),m=0,v=vs.select(xs).on(i+"."+f,a).on(n+"."+f,o),y=O();s?(l=s.apply(h,arguments),l=[l.x-g[0],l.y-g[1]]):l=[0,0],u({type:"dragstart"})}}var r=p(t,"drag","dragstart","dragend"),s=null,a=n(l,vs.mouse,"mousemove","mouseup"),o=n(e,i,"touchmove","touchend");return t.origin=function(e){return arguments.length?(s=e,t):s},vs.rebind(t,r,"on")};var Xs=Math.PI,Gs=2*Xs,Qs=Xs/2,Zs=1e-6,Ks=Zs*Zs,Js=Xs/180,ta=180/Xs,ea=Math.SQRT2,ia=2,na=4;vs.interpolateZoom=function(t,e){function i(t){var e=t*y;if(v){var i=W(g),a=s/(ia*d)*(i*j(ea*e+g)-B(g));return[n+a*h,r+a*c,s*i/W(ea*e+g)]}return[n+t*h,r+t*c,s*Math.exp(ea*e)]}var n=t[0],r=t[1],s=t[2],a=e[0],o=e[1],l=e[2],h=a-n,c=o-r,u=h*h+c*c,d=Math.sqrt(u),p=(l*l-s*s+na*u)/(2*s*ia*d),f=(l*l-s*s-na*u)/(2*l*ia*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(f*f+1)-f),v=m-g,y=(v||Math.log(l/s))/ea;return i.duration=1e3*y,i},vs.behavior.zoom=function(){function t(t){t.on(T,h).on(aa+".zoom",d).on(P,f).on("dblclick.zoom",g).on(D,c)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function i(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function n(t){C.k=Math.max(M[0],Math.min(M[1],t))}function r(t,e){e=i(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function s(){w&&w.domain(_.range().map(function(t){return(t-C.x)/C.k}).map(_.invert)),k&&k.domain(x.range().map(function(t){return(t-C.y)/C.k}).map(x.invert))}function a(t){t({type:"zoomstart"})}function o(t){s(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function l(t){t({type:"zoomend"})}function h(){function t(){c=1,r(vs.mouse(n),d),o(s)}function i(){u.on(P,xs===n?f:null).on(E,null),p(c&&vs.event.target===h),l(s)}var n=this,s=I.of(n,arguments),h=vs.event.target,c=0,u=vs.select(xs).on(P,t).on(E,i),d=e(vs.mouse(n)),p=O();R.call(n),a(s)}function c(){function t(){var t=vs.touches(f);return p=C.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function i(){for(var e=vs.event.changedTouches,i=0,s=e.length;s>i;++i)m[e[i].identifier]=null;var a=t(),l=Date.now();if(1===a.length){if(500>l-b){var h=a[0],c=m[h.identifier];n(2*C.k),r(h,c),u(),o(g)}b=l}else if(a.length>1){var h=a[0],d=a[1],p=h[0]-d[0],f=h[1]-d[1];v=p*p+f*f}}function s(){for(var t,e,i,s,a=vs.touches(f),l=0,h=a.length;h>l;++l,s=null)if(i=a[l],s=m[i.identifier]){if(e)break;t=i,e=s}if(s){var c=(c=i[0]-t[0])*c+(c=i[1]-t[1])*c,u=v&&Math.sqrt(c/v);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+s[0])/2,(e[1]+s[1])/2],n(u*p)}b=null,r(t,e),o(g)}function d(){if(vs.event.touches.length){for(var e=vs.event.changedTouches,i=0,n=e.length;n>i;++i)delete m[e[i].identifier];for(var r in m)return void t()}x.on(_,null).on(w,null),k.on(T,h).on(D,c),S(),l(g)}var p,f=this,g=I.of(f,arguments),m={},v=0,y=vs.event.changedTouches[0].identifier,_="touchmove.zoom-"+y,w="touchend.zoom-"+y,x=vs.select(xs).on(_,s).on(w,d),k=vs.select(f).on(T,null).on(D,i),S=O();R.call(f),i(),a(g)}function d(){var t=I.of(this,arguments);y?clearTimeout(y):(R.call(this),a(t)),y=setTimeout(function(){y=null,l(t)},50),u();var i=v||vs.mouse(this);m||(m=e(i)),n(Math.pow(2,.002*ra())*C.k),r(i,m),o(t)}function f(){m=null}function g(){var t=I.of(this,arguments),i=vs.mouse(this),s=e(i),h=Math.log(C.k)/Math.LN2;a(t),n(Math.pow(2,vs.event.shiftKey?Math.ceil(h)-1:Math.floor(h)+1)),r(i,s),o(t),l(t)}var m,v,y,b,_,w,x,k,C={x:0,y:0,k:1},S=[960,500],M=sa,T="mousedown.zoom",P="mousemove.zoom",E="mouseup.zoom",D="touchstart.zoom",I=p(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=I.of(this,arguments),e=C;Bo?vs.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var i=S[0],n=S[1],r=i/2,s=n/2,a=vs.interpolateZoom([(r-C.x)/C.k,(s-C.y)/C.k,i/C.k],[(r-e.x)/e.k,(s-e.y)/e.k,i/e.k]);return function(e){var n=a(e),l=i/n[2];this.__chart__=C={x:r-n[0]*l,y:s-n[1]*l,k:l},o(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=C,a(t),o(t),l(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},s(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},s(),t):C.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?sa:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.x=function(e){return arguments.length?(w=e,_=e.copy(),C={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(k=e,x=e.copy(),C={x:0,y:0,k:1},t):k},vs.rebind(t,I,"on")};var ra,sa=[0,1/0],aa="onwheel"in _s?(ra=function(){return-vs.event.deltaY*(vs.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _s?(ra=function(){return vs.event.wheelDelta},"mousewheel"):(ra=function(){return-vs.event.detail},"MozMousePixelScroll");$.prototype.toString=function(){return this.rgb()+""},vs.hsl=function(t,e,i){return 1===arguments.length?t instanceof q?U(t.h,t.s,t.l):ht(""+t,ct,U):U(+t,+e,+i)};var oa=q.prototype=new $;oa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),U(this.h,this.s,this.l/t)},oa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),U(this.h,this.s,t*this.l)},oa.rgb=function(){return V(this.h,this.s,this.l)},vs.hcl=function(t,e,i){return 1===arguments.length?t instanceof G?X(t.h,t.c,t.l):t instanceof K?tt(t.l,t.a,t.b):tt((t=ut((t=vs.rgb(t)).r,t.g,t.b)).l,t.a,t.b):X(+t,+e,+i)};var la=G.prototype=new $;la.brighter=function(t){return X(this.h,this.c,Math.min(100,this.l+ha*(arguments.length?t:1)))},la.darker=function(t){return X(this.h,this.c,Math.max(0,this.l-ha*(arguments.length?t:1)))},la.rgb=function(){return Q(this.h,this.c,this.l).rgb()},vs.lab=function(t,e,i){return 1===arguments.length?t instanceof K?Z(t.l,t.a,t.b):t instanceof G?Q(t.l,t.c,t.h):ut((t=vs.rgb(t)).r,t.g,t.b):Z(+t,+e,+i)};var ha=18,ca=.95047,ua=1,da=1.08883,pa=K.prototype=new $;pa.brighter=function(t){return Z(Math.min(100,this.l+ha*(arguments.length?t:1)),this.a,this.b)},pa.darker=function(t){return Z(Math.max(0,this.l-ha*(arguments.length?t:1)),this.a,this.b)},pa.rgb=function(){return J(this.l,this.a,this.b)},vs.rgb=function(t,e,i){return 1===arguments.length?t instanceof ot?at(t.r,t.g,t.b):ht(""+t,at,V):at(~~t,~~e,~~i)};var fa=ot.prototype=new $;fa.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b,r=30;return e||i||n?(e&&r>e&&(e=r),i&&r>i&&(i=r),n&&r>n&&(n=r),at(Math.min(255,~~(e/t)),Math.min(255,~~(i/t)),Math.min(255,~~(n/t)))):at(r,r,r)},fa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),at(~~(t*this.r),~~(t*this.g),~~(t*this.b))},fa.hsl=function(){return ct(this.r,this.g,this.b)},fa.toString=function(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)};var ga=vs.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ga.forEach(function(t,e){ga.set(t,rt(e))}),vs.functor=ft,vs.xhr=mt(gt),vs.dsv=function(t,e){function i(t,i,s){arguments.length<3&&(s=i,i=null);var a=vs.xhr(t,e,s);return a.row=function(t){return arguments.length?a.response(null==(i=t)?n:r(t)):i},a.row(i)}function n(t){return i.parse(t.responseText)}function r(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return l.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n]"),h=t.charCodeAt(0);return i.parse=function(t,e){var n;return i.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,i){return e(r(t),i)}:r})},i.parseRows=function(t,e){function i(){if(c>=l)return a;if(r)return r=!1,s;var e=c;if(34===t.charCodeAt(e)){for(var i=e;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}c=i+2;var n=t.charCodeAt(i+1);return 13===n?(r=!0,10===t.charCodeAt(i+2)&&++c):10===n&&(r=!0),t.substring(e+1,i).replace(/""/g,'"')}for(;l>c;){var n=t.charCodeAt(c++),o=1;if(10===n)r=!0;else if(13===n)r=!0,10===t.charCodeAt(c)&&(++c,++o);else if(n!==h)continue;return t.substring(e,c-o)}return t.substring(e)}for(var n,r,s={},a={},o=[],l=t.length,c=0,u=0;(n=i())!==a;){for(var d=[];n!==s&&n!==a;)d.push(n),n=i();(!e||(d=e(d,u++)))&&o.push(d)}return o},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new s,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},vs.csv=vs.dsv(",","text/csv"),vs.tsv=vs.dsv("	","text/tab-separated-values");var ma,va,ya,ba,_a,wa=xs[o(xs,"requestAnimationFrame")]||function(t){setTimeout(t,17)};vs.timer=function(t,e,i){var n=arguments.length;2>n&&(e=0),3>n&&(i=Date.now());var r=i+e,s={callback:t,time:r,next:null};va?va.next=s:ma=s,va=s,ya||(ba=clearTimeout(ba),ya=1,wa(bt))},vs.timer.flush=function(){wt(),xt()};var xa=".",ka=",",Ca=[3,3],Sa="$",Ma=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(kt);vs.formatPrefix=function(t,e){var i=0;return t&&(0>t&&(t*=-1),e&&(t=vs.round(t,Ct(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((0>=i?i+1:i-1)/3)))),Ma[8+i/3]},vs.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},vs.format=function(t){var e=Ta.exec(t),i=e[1]||" ",n=e[2]||">",r=e[3]||"",s=e[4]||"",a=e[5],o=+e[6],l=e[7],h=e[8],c=e[9],u=1,d="",p=!1;switch(h&&(h=+h.substring(1)),(a||"0"===i&&"="===n)&&(a=i="0",n="=",l&&(o-=Math.floor((o-1)/4))),c){case"n":l=!0,c="g";break;case"%":u=100,d="%",c="f";break;case"p":u=100,d="%",c="r";break;case"b":case"o":case"x":case"X":"#"===s&&(s="0"+c.toLowerCase());case"c":case"d":p=!0,h=0;break;case"s":u=-1,c="r"}"#"===s?s="":"$"===s&&(s=Sa),"r"!=c||h||(c="g"),null!=h&&("g"==c?h=Math.max(1,Math.min(21,h)):("e"==c||"f"==c)&&(h=Math.max(0,Math.min(20,h)))),c=Pa.get(c)||St;var f=a&&l;return function(t){if(p&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):r;if(0>u){var g=vs.formatPrefix(t,h);t=g.scale(t),d=g.symbol}else t*=u;t=c(t,h);var m=t.lastIndexOf("."),v=0>m?t:t.substring(0,m),y=0>m?"":xa+t.substring(m+1);!a&&l&&(v=Ea(v));var b=s.length+v.length+y.length+(f?0:e.length),_=o>b?new Array(b=o-b+1).join(i):"";return f&&(v=Ea(_+v)),e+=s,t=v+y,("<"===n?e+t+_:">"===n?_+e+t:"^"===n?_.substring(0,b>>=1)+e+t+_.substring(b):e+(f?t:_+t))+d}};var Ta=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Pa=vs.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=vs.round(t,Ct(t,e))).toFixed(Math.max(0,Math.min(20,Ct(t*(1+1e-15),e))))}}),Ea=gt;if(Ca){var Da=Ca.length;Ea=function(t){for(var e=t.length,i=[],n=0,r=Ca[0];e>0&&r>0;)i.push(t.substring(e-=r,e+r)),r=Ca[n=(n+1)%Da];return i.reverse().join(ka)}}vs.geo={},Mt.prototype={s:0,t:0,add:function(t){Tt(t,this.t,Ra),Tt(Ra.s,this.s,this),this.s?this.t+=Ra.t:this.s=Ra.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ra=new Mt;vs.geo.stream=function(t,e){t&&Ia.hasOwnProperty(t.type)?Ia[t.type](t,e):Pt(t,e)};var Ia={Feature:function(t,e){Pt(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)Pt(i[n].geometry,e)}},Aa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Et(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Et(i[n],e,0)},Polygon:function(t,e){Dt(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)Dt(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)Pt(i[n],e)}};vs.geo.area=function(t){return za=0,vs.geo.stream(t,La),za};var za,Oa=new Mt,La={sphere:function(){za+=4*Xs},point:l,lineStart:l,lineEnd:l,polygonStart:function(){Oa.reset(),La.lineStart=Rt},polygonEnd:function(){var t=2*Oa;za+=0>t?4*Xs+t:t,La.lineStart=La.lineEnd=La.point=l}};vs.geo.bounds=function(){function t(t,e){b.push(_=[c=t,d=t]),u>e&&(u=e),e>p&&(p=e)}function e(e,i){var n=It([e*Js,i*Js]);if(v){var r=zt(v,n),s=[r[1],-r[0],0],a=zt(s,r);Ht(a),a=Nt(a);var l=e-f,h=l>0?1:-1,g=a[0]*ta*h,m=Math.abs(l)>180;if(m^(g>h*f&&h*e>g)){var y=a[1]*ta;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>h*f&&h*e>g)){var y=-a[1]*ta;u>y&&(u=y)}else u>i&&(u=i),i>p&&(p=i);m?f>e?o(c,e)>o(c,d)&&(d=e):o(e,d)>o(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>f?o(c,e)>o(c,d)&&(d=e):o(e,d)>o(c,d)&&(c=e)}else t(e,i);v=n,f=e}function i(){w.point=e}function n(){_[0]=c,_[1]=d,w.point=t,v=null}function r(t,i){if(v){var n=t-f;y+=Math.abs(n)>180?n+(n>0?360:-360):n}else g=t,m=i;La.point(t,i),e(t,i)}function s(){La.lineStart()}function a(){r(g,m),La.lineEnd(),Math.abs(y)>Zs&&(c=-(d=180)),_[0]=c,_[1]=d,v=null}function o(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,u,d,p,f,g,m,v,y,b,_,w={point:t,lineStart:i,lineEnd:n,polygonStart:function(){w.point=r,w.lineStart=s,w.lineEnd=a,y=0,La.polygonStart()},polygonEnd:function(){La.polygonEnd(),w.point=t,w.lineStart=i,w.lineEnd=n,0>Oa?(c=-(d=180),u=-(p=90)):y>Zs?p=90:-Zs>y&&(u=-90),_[0]=c,_[1]=d}};return function(t){p=d=-(c=u=1/0),b=[],vs.geo.stream(t,w);var e=b.length;if(e){b.sort(l);for(var i,n=1,r=b[0],s=[r];e>n;++n)i=b[n],h(i[0],r)||h(i[1],r)?(o(r[0],i[1])>o(r[0],r[1])&&(r[1]=i[1]),o(i[0],r[1])>o(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(var a,i,f=-1/0,e=s.length-1,n=0,r=s[e];e>=n;r=i,++n)i=s[n],(a=o(r[1],i[0]))>f&&(f=a,c=i[0],d=r[1])}return b=_=null,1/0===c||1/0===u?[[NaN,NaN],[NaN,NaN]]:[[c,u],[d,p]]}}(),vs.geo.centroid=function(t){Ha=Na=Fa=Ba=Wa=ja=Ya=$a=Ua=qa=Va=0,vs.geo.stream(t,Xa);var e=Ua,i=qa,n=Va,r=e*e+i*i+n*n;return Ks>r&&(e=ja,i=Ya,n=$a,Zs>Na&&(e=Fa,i=Ba,n=Wa),r=e*e+i*i+n*n,Ks>r)?[NaN,NaN]:[Math.atan2(i,e)*ta,F(n/Math.sqrt(r))*ta]};var Ha,Na,Fa,Ba,Wa,ja,Ya,$a,Ua,qa,Va,Xa={sphere:l,point:Bt,lineStart:jt,lineEnd:Yt,polygonStart:function(){Xa.lineStart=$t},polygonEnd:function(){Xa.lineStart=jt}},Ga=Xt(Ut,Jt,ee,[-Xs,-Xs/2]),Qa=1e9;vs.geo.clipExtent=function(){var t,e,i,n,r,s,a={stream:function(t){return r&&(r.valid=!1),r=s(t),r.valid=!0,r},extent:function(o){return arguments.length?(s=ne(t=+o[0][0],e=+o[0][1],i=+o[1][0],n=+o[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[i,n]]}};return a.extent([[0,0],[960,500]])},(vs.geo.conicEqualArea=function(){return ae(oe)}).raw=oe,vs.geo.albers=function(){return vs.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},vs.geo.albersUsa=function(){function t(t){var s=t[0],a=t[1];return e=null,i(s,a),e||(n(s,a),e)||r(s,a),e}var e,i,n,r,s=vs.geo.albers(),a=vs.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=vs.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=s.scale(),i=s.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&.234>r&&n>=-.425&&-.214>n?a:r>=.166&&.234>r&&n>=-.214&&-.115>n?o:s).invert(t)},t.stream=function(t){var e=s.stream(t),i=a.stream(t),n=o.stream(t);return{point:function(t,r){e.point(t,r),i.point(t,r),n.point(t,r)},sphere:function(){e.sphere(),i.sphere(),n.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(s.precision(e),a.precision(e),o.precision(e),t):s.precision()},t.scale=function(e){return arguments.length?(s.scale(e),a.scale(.35*e),o.scale(e),t.translate(s.translate())):s.scale()},t.translate=function(e){if(!arguments.length)return s.translate();var h=s.scale(),c=+e[0],u=+e[1];return i=s.translate(e).clipExtent([[c-.455*h,u-.238*h],[c+.455*h,u+.238*h]]).stream(l).point,n=a.translate([c-.307*h,u+.201*h]).clipExtent([[c-.425*h+Zs,u+.12*h+Zs],[c-.214*h-Zs,u+.234*h-Zs]]).stream(l).point,r=o.translate([c-.205*h,u+.212*h]).clipExtent([[c-.214*h+Zs,u+.166*h+Zs],[c-.115*h-Zs,u+.234*h-Zs]]).stream(l).point,t},t.scale(1070)};var Za,Ka,Ja,to,eo,io,no={point:l,lineStart:l,lineEnd:l,polygonStart:function(){Ka=0,no.lineStart=le},polygonEnd:function(){no.lineStart=no.lineEnd=no.point=l,Za+=Math.abs(Ka/2)}},ro={point:he,lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l},so={point:de,lineStart:pe,lineEnd:fe,polygonStart:function(){so.lineStart=ge},polygonEnd:function(){so.point=de,so.lineStart=pe,so.lineEnd=fe}};vs.geo.transform=function(t){return{stream:function(e){var i=new ye(e);for(var n in t)i[n]=t[n];return i}}},ye.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},vs.geo.path=function(){function t(t){return t&&("function"==typeof o&&s.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(s)),vs.geo.stream(t,a)),s.result()}function e(){return a=null,t}var i,n,r,s,a,o=4.5;return t.area=function(t){return Za=0,vs.geo.stream(t,r(no)),Za},t.centroid=function(t){return Fa=Ba=Wa=ja=Ya=$a=Ua=qa=Va=0,vs.geo.stream(t,r(so)),Va?[Ua/Va,qa/Va]:$a?[ja/$a,Ya/$a]:Wa?[Fa/Wa,Ba/Wa]:[NaN,NaN]},t.bounds=function(t){return eo=io=-(Ja=to=1/0),vs.geo.stream(t,r(ro)),[[Ja,to],[eo,io]]},t.projection=function(t){return arguments.length?(r=(i=t)?t.stream||be(t):gt,e()):i},t.context=function(t){return arguments.length?(s=null==(n=t)?new ce:new me(t),"function"!=typeof o&&s.pointRadius(o),e()):n},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(s.pointRadius(+e),+e),t):o},t.projection(vs.geo.albersUsa()).context(null)},vs.geo.projection=_e,vs.geo.projectionMutator=we,(vs.geo.equirectangular=function(){return _e(ke)}).raw=ke.invert=ke,vs.geo.rotation=function(t){function e(e){return e=t(e[0]*Js,e[1]*Js),e[0]*=ta,e[1]*=ta,e}return t=Se(t[0]%360*Js,t[1]*Js,t.length>2?t[2]*Js:0),e.invert=function(e){return e=t.invert(e[0]*Js,e[1]*Js),e[0]*=ta,e[1]*=ta,e},e},Ce.invert=ke,vs.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=Se(-t[0]*Js,-t[1]*Js,0).invert,r=[];return i(null,null,1,{point:function(t,i){r.push(t=e(t,i)),t[0]*=ta,t[1]*=ta}}),{type:"Polygon",coordinates:[r]}}var e,i,n=[0,0],r=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(i=Ee((e=+n)*Js,r*Js),t):e},t.precision=function(n){return arguments.length?(i=Ee(e*Js,(r=+n)*Js),t):r},t.angle(90)},vs.geo.distance=function(t,e){var i,n=(e[0]-t[0])*Js,r=t[1]*Js,s=e[1]*Js,a=Math.sin(n),o=Math.cos(n),l=Math.sin(r),h=Math.cos(r),c=Math.sin(s),u=Math.cos(s);return Math.atan2(Math.sqrt((i=u*a)*i+(i=h*c-l*u*o)*i),l*c+h*u*o)},vs.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return vs.range(Math.ceil(s/m)*m,r,m).map(d).concat(vs.range(Math.ceil(h/v)*v,l,v).map(p)).concat(vs.range(Math.ceil(n/f)*f,i,f).filter(function(t){return Math.abs(t%m)>Zs}).map(c)).concat(vs.range(Math.ceil(o/g)*g,a,g).filter(function(t){return Math.abs(t%v)>Zs}).map(u))}var i,n,r,s,a,o,l,h,c,u,d,p,f=10,g=f,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(s).concat(p(l).slice(1),d(r).reverse().slice(1),p(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(s=+e[0][0],r=+e[1][0],h=+e[0][1],l=+e[1][1],s>r&&(e=s,s=r,r=e),h>l&&(e=h,h=l,l=e),t.precision(y)):[[s,h],[r,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],o=+e[0][1],a=+e[1][1],n>i&&(e=n,n=i,i=e),o>a&&(e=o,o=a,a=e),t.precision(y)):[[n,o],[i,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(y=+e,c=Re(o,a,90),u=Ie(n,i,y),d=Re(h,l,90),p=Ie(s,r,y),t):y},t.majorExtent([[-180,-90+Zs],[180,90-Zs]]).minorExtent([[-180,-80-Zs],[180,80+Zs]])},vs.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}var e,i,n=Ae,r=ze;return t.distance=function(){return vs.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))},t.source=function(i){return arguments.length?(n=i,e="function"==typeof i?null:i,t):n},t.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},vs.geo.interpolate=function(t,e){return Oe(t[0]*Js,t[1]*Js,e[0]*Js,e[1]*Js)},vs.geo.length=function(t){return ao=0,vs.geo.stream(t,oo),ao};var ao,oo={sphere:l,point:l,lineStart:Le,lineEnd:l,polygonStart:l,polygonEnd:l},lo=He(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(vs.geo.azimuthalEqualArea=function(){return _e(lo)}).raw=lo;var ho=He(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},gt);(vs.geo.azimuthalEquidistant=function(){return _e(ho)}).raw=ho,(vs.geo.conicConformal=function(){return ae(Ne)}).raw=Ne,(vs.geo.conicEquidistant=function(){return ae(Fe)}).raw=Fe;var co=He(function(t){return 1/t},Math.atan);(vs.geo.gnomonic=function(){return _e(co)}).raw=co,Be.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Qs]},(vs.geo.mercator=function(){return We(Be)}).raw=Be;var uo=He(function(){return 1},Math.asin);(vs.geo.orthographic=function(){return _e(uo)}).raw=uo;var po=He(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(vs.geo.stereographic=function(){return _e(po)}).raw=po,je.invert=function(t,e){return[Math.atan2(B(t),Math.cos(e)),F(Math.sin(e)/W(t))]},(vs.geo.transverseMercator=function(){return We(je)}).raw=je,vs.geom={},vs.svg={},vs.svg.line=function(){return Ye(gt)};var fo=vs.map({linear:qe,"linear-closed":Ve,step:Xe,"step-before":Ge,"step-after":Qe,basis:ii,"basis-open":ni,"basis-closed":ri,bundle:si,cardinal:Je,"cardinal-open":Ze,"cardinal-closed":Ke,monotone:ui});fo.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var go=[0,2/3,1/3,0],mo=[0,1/3,2/3,0],vo=[0,1/6,2/3,1/6];vs.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r,s,a,o,l,h,c,u,d,p,f,g=ft(i),m=ft(n),v=t.length,y=v-1,b=[],_=[],w=0;if(g===$e&&n===Ue)e=t;else for(s=0,e=[];v>s;++s)e.push([+g.call(this,r=t[s],s),+m.call(this,r,s)]);for(s=1;v>s;++s)(e[s][1]<e[w][1]||e[s][1]==e[w][1]&&e[s][0]<e[w][0])&&(w=s);for(s=0;v>s;++s)s!==w&&(l=e[s][1]-e[w][1],o=e[s][0]-e[w][0],b.push({angle:Math.atan2(l,o),index:s}));for(b.sort(function(t,e){return t.angle-e.angle}),p=b[0].angle,d=b[0].index,u=0,s=1;y>s;++s){if(a=b[s].index,p==b[s].angle){if(o=e[d][0]-e[w][0],l=e[d][1]-e[w][1],h=e[a][0]-e[w][0],c=e[a][1]-e[w][1],o*o+l*l>=h*h+c*c){b[s].index=-1;continue}b[u].index=-1}p=b[s].angle,u=s,d=a}for(_.push(w),s=0,a=0;2>s;++a)b[a].index>-1&&(_.push(b[a].index),s++);for(f=_.length;y>a;++a)if(!(b[a].index<0)){for(;!di(_[f-2],_[f-1],b[a].index,e);)--f;_[f++]=b[a].index}var x=[];for(s=f-1;s>=0;--s)x.push(t[_[s]]);return x}var i=$e,n=Ue;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e)},vs.geom.polygon=function(t){return Os(t,yo),t};var yo=vs.geom.polygon.prototype=[];yo.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],r=0;++e<i;)t=n,n=this[e],r+=t[1]*n[0]-t[0]*n[1];return.5*r},yo.centroid=function(t){var e,i,n=-1,r=this.length,s=0,a=0,o=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++n<r;)e=o,o=this[n],i=e[0]*o[1]-o[0]*e[1],s+=(e[0]+o[0])*i,a+=(e[1]+o[1])*i;return[s*t,a*t]},yo.clip=function(t){for(var e,i,n,r,s,a,o=gi(t),l=-1,h=this.length-gi(this),c=this[h-1];++l<h;){for(e=t.slice(),t.length=0,r=this[l],s=e[(n=e.length-o)-1],i=-1;++i<n;)a=e[i],pi(a,c,r)?(pi(s,c,r)||t.push(fi(s,a,c,r)),t.push(a)):pi(s,c,r)&&t.push(fi(s,a,c,r)),s=a;o&&t.push(t[0]),c=r}return t},vs.geom.delaunay=function(t){var e=t.map(function(){return[]}),i=[];return mi(t,function(i){e[i.region.l.index].push(t[i.region.r.index])}),e.forEach(function(e,n){var r=t[n],s=r[0],a=r[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-s,t[1]-a)}),e.sort(function(t,e){return t.angle-e.angle});for(var o=0,l=e.length-1;l>o;o++)i.push([r,e[o],e[o+1]]);
}),i},vs.geom.voronoi=function(t){function e(t){var e,s,a,o=t.map(function(){return[]}),l=ft(i),h=ft(n),c=t.length,u=1e6;if(l===$e&&h===Ue)e=t;else for(e=new Array(c),a=0;c>a;++a)e[a]=[+l.call(this,s=t[a],a),+h.call(this,s,a)];if(mi(e,function(t){var e,i,n,r,s,a;1===t.a&&t.b>=0?(e=t.ep.r,i=t.ep.l):(e=t.ep.l,i=t.ep.r),1===t.a?(s=e?e.y:-u,n=t.c-t.b*s,a=i?i.y:u,r=t.c-t.b*a):(n=e?e.x:-u,s=t.c-t.a*n,r=i?i.x:u,a=t.c-t.a*r);var l=[n,s],h=[r,a];o[t.region.l.index].push(l,h),o[t.region.r.index].push(l,h)}),o=o.map(function(t,i){var n=e[i][0],r=e[i][1],s=t.map(function(t){return Math.atan2(t[0]-n,t[1]-r)}),a=vs.range(t.length).sort(function(t,e){return s[t]-s[e]});return a.filter(function(t,e){return!e||s[t]-s[a[e-1]]>Zs}).map(function(e){return t[e]})}),o.forEach(function(t,i){var n=t.length;if(!n)return t.push([-u,-u],[-u,u],[u,u],[u,-u]);if(!(n>2)){var r=e[i],s=t[0],a=t[1],o=r[0],l=r[1],h=s[0],c=s[1],d=a[0],p=a[1],f=Math.abs(d-h),g=p-c;if(Math.abs(g)<Zs){var m=c>l?-u:u;t.push([-u,m],[u,m])}else if(Zs>f){var v=h>o?-u:u;t.push([v,-u],[v,u])}else{var m=(h-o)*(p-c)>(d-h)*(c-l)?u:-u,y=Math.abs(g)-f;Math.abs(y)<Zs?t.push([0>g?m:-m,m]):(y>0&&(m*=-1),t.push([-u,m],[u,m]))}}}),r)for(a=0;c>a;++a)r.clip(o[a]);for(a=0;c>a;++a)o[a].point=t[a];return o}var i=$e,n=Ue,r=null;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.clipExtent=function(t){if(!arguments.length)return r&&[r[0],r[2]];if(null==t)r=null;else{var i=+t[0][0],n=+t[0][1],s=+t[1][0],a=+t[1][1];r=vs.geom.polygon([[i,n],[i,a],[s,a],[s,n]])}return e},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):r&&r[2]},e.links=function(t){var e,r,s,a=t.map(function(){return[]}),o=[],l=ft(i),h=ft(n),c=t.length;if(l===$e&&h===Ue)e=t;else for(e=new Array(c),s=0;c>s;++s)e[s]=[+l.call(this,r=t[s],s),+h.call(this,r,s)];return mi(e,function(e){var i=e.region.l.index,n=e.region.r.index;a[i][n]||(a[i][n]=a[n][i]=!0,o.push({source:t[i],target:t[n]}))}),o},e.triangles=function(t){if(i===$e&&n===Ue)return vs.geom.delaunay(t);for(var e,r=new Array(l),s=ft(i),a=ft(n),o=-1,l=t.length;++o<l;)(r[o]=[+s.call(this,e=t[o],o),+a.call(this,e,o)]).data=e;return vs.geom.delaunay(r).map(function(t){return t.map(function(t){return t.data})})},e)};var bo={l:"r",r:"l"};vs.geom.quadtree=function(t,e,i,n,r){function s(t){function s(t,e,i,n,r,s,a,o){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(Math.abs(l-i)+Math.abs(c-n)<.01)h(t,e,i,n,r,s,a,o);else{var u=t.point;t.x=t.y=t.point=null,h(t,u,l,c,r,s,a,o),h(t,e,i,n,r,s,a,o)}else t.x=i,t.y=n,t.point=e}else h(t,e,i,n,r,s,a,o)}function h(t,e,i,n,r,a,o,l){var h=.5*(r+o),c=.5*(a+l),u=i>=h,d=n>=c,p=(d<<1)+u;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=bi()),u?r=h:o=h,d?a=c:l=c,s(t,e,i,n,r,a,o,l)}var c,u,d,p,f,g,m,v,y,b=ft(o),_=ft(l);if(null!=e)g=e,m=i,v=n,y=r;else if(v=y=-(g=m=1/0),u=[],d=[],f=t.length,a)for(p=0;f>p;++p)c=t[p],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),u.push(c.x),d.push(c.y);else for(p=0;f>p;++p){var w=+b(c=t[p],p),x=+_(c,p);g>w&&(g=w),m>x&&(m=x),w>v&&(v=w),x>y&&(y=x),u.push(w),d.push(x)}var k=v-g,C=y-m;k>C?y=m+k:v=g+C;var S=bi();if(S.add=function(t){s(S,t,+b(t,++p),+_(t,p),g,m,v,y)},S.visit=function(t){_i(t,S,g,m,v,y)},p=-1,null==e){for(;++p<f;)s(S,t[p],u[p],d[p],g,m,v,y);--p}else t.forEach(S.add);return u=d=t=c=null,S}var a,o=$e,l=Ue;return(a=arguments.length)?(o=vi,l=yi,3===a&&(r=i,n=e,i=e=0),s(t)):(s.x=function(t){return arguments.length?(o=t,s):o},s.y=function(t){return arguments.length?(l=t,s):l},s.extent=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),s):null==e?null:[[e,i],[n,r]]},s.size=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=i=0,n=+t[0],r=+t[1]),s):null==e?null:[n-e,r-i]},s)},vs.interpolateRgb=wi,vs.interpolateObject=xi,vs.interpolateNumber=ki,vs.interpolateString=Ci;var _o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;vs.interpolate=Si,vs.interpolators=[function(t,e){var i=typeof e;return("string"===i?ga.has(e)||/^(#|rgb\(|hsl\()/.test(e)?wi:Ci:e instanceof $?wi:"object"===i?Array.isArray(e)?Mi:xi:ki)(t,e)}],vs.interpolateArray=Mi;var wo=function(){return gt},xo=vs.map({linear:wo,poly:Ai,quad:function(){return Di},cubic:function(){return Ri},sin:function(){return zi},exp:function(){return Oi},circle:function(){return Li},elastic:Hi,back:Ni,bounce:function(){return Fi}}),ko=vs.map({"in":gt,out:Pi,"in-out":Ei,"out-in":function(t){return Ei(Pi(t))}});vs.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.substring(0,e):t,n=e>=0?t.substring(e+1):"in";return i=xo.get(i)||wo,n=ko.get(n)||gt,Ti(n(i.apply(null,Array.prototype.slice.call(arguments,1))))},vs.interpolateHcl=Bi,vs.interpolateHsl=Wi,vs.interpolateLab=ji,vs.interpolateRound=Yi,vs.transform=function(t){var e=_s.createElementNS(vs.ns.prefix.svg,"g");return(vs.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new $i(i?i.matrix:Co)})(t)},$i.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Co={a:1,b:0,c:0,d:1,e:0,f:0};vs.interpolateTransform=Xi,vs.layout={},vs.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push(Zi(t[i]));return e}},vs.layout.chord=function(){function t(){var t,h,u,d,p,f={},g=[],m=vs.range(s),v=[];for(i=[],n=[],t=0,d=-1;++d<s;){for(h=0,p=-1;++p<s;)h+=r[d][p];g.push(h),v.push(vs.range(s)),t+=h}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),o&&v.forEach(function(t,e){t.sort(function(t,i){return o(r[e][t],r[e][i])})}),t=(Gs-c*s)/t,h=0,d=-1;++d<s;){for(u=h,p=-1;++p<s;){var y=m[d],b=v[y][p],_=r[y][b],w=h,x=h+=_*t;f[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:x,value:_}}n[y]={index:y,startAngle:u,endAngle:h,value:(h-u)/t},h+=c}for(d=-1;++d<s;)for(p=d-1;++p<s;){var k=f[d+"-"+p],C=f[p+"-"+d];(k.value||C.value)&&i.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,n,r,s,a,o,l,h={},c=0;return h.matrix=function(t){return arguments.length?(s=(r=t)&&r.length,i=n=null,h):r},h.padding=function(t){return arguments.length?(c=t,i=n=null,h):c},h.sortGroups=function(t){return arguments.length?(a=t,i=n=null,h):a},h.sortSubgroups=function(t){return arguments.length?(o=t,i=null,h):o},h.sortChords=function(t){return arguments.length?(l=t,i&&e(),h):l},h.chords=function(){return i||t(),i},h.groups=function(){return n||t(),n},h},vs.layout.force=function(){function t(t){return function(e,i,n,r){if(e.point!==t){var s=e.cx-t.x,a=e.cy-t.y,o=1/Math.sqrt(s*s+a*a);if(g>(r-i)*o){var l=e.charge*o*o;return t.px-=s*l,t.py-=a*l,!0}if(e.point&&isFinite(o)){var l=e.pointCharge*o*o;t.px-=s*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=vs.event.x,t.py=vs.event.y,o.resume()}var i,n,r,s,a,o={},l=vs.dispatch("start","tick","end"),h=[1,1],c=.9,u=So,d=Mo,p=-30,f=.1,g=.8,m=[],v=[];return o.tick=function(){if((n*=.99)<.005)return l.end({type:"end",alpha:n=0}),!0;var e,i,o,u,d,g,y,b,_,w=m.length,x=v.length;for(i=0;x>i;++i)o=v[i],u=o.source,d=o.target,b=d.x-u.x,_=d.y-u.y,(g=b*b+_*_)&&(g=n*s[i]*((g=Math.sqrt(g))-r[i])/g,b*=g,_*=g,d.x-=b*(y=u.weight/(d.weight+u.weight)),d.y-=_*y,u.x+=b*(y=1-y),u.y+=_*y);if((y=n*f)&&(b=h[0]/2,_=h[1]/2,i=-1,y))for(;++i<w;)o=m[i],o.x+=(b-o.x)*y,o.y+=(_-o.y)*y;if(p)for(sn(e=vs.geom.quadtree(m),n,a),i=-1;++i<w;)(o=m[i]).fixed||e.visit(t(o));for(i=-1;++i<w;)o=m[i],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*c,o.y-=(o.py-(o.py=o.y))*c);l.tick({type:"tick",alpha:n})},o.nodes=function(t){return arguments.length?(m=t,o):m},o.links=function(t){return arguments.length?(v=t,o):v},o.size=function(t){return arguments.length?(h=t,o):h},o.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,o):u},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,o):d},o.friction=function(t){return arguments.length?(c=+t,o):c},o.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,o):p},o.gravity=function(t){return arguments.length?(f=+t,o):f},o.theta=function(t){return arguments.length?(g=+t,o):g},o.alpha=function(t){return arguments.length?(t=+t,n?n=t>0?t:0:t>0&&(l.start({type:"start",alpha:n=t}),vs.timer(o.tick)),o):n},o.start=function(){function t(t,n){for(var r,s=e(i),a=-1,o=s.length;++a<o;)if(!isNaN(r=s[a][t]))return r;return Math.random()*n}function e(){if(!l){for(l=[],n=0;f>n;++n)l[n]=[];for(n=0;g>n;++n){var t=v[n];l[t.source.index].push(t.target),l[t.target.index].push(t.source)}}return l[i]}var i,n,l,c,f=m.length,g=v.length,y=h[0],b=h[1];for(i=0;f>i;++i)(c=m[i]).index=i,c.weight=0;for(i=0;g>i;++i)c=v[i],"number"==typeof c.source&&(c.source=m[c.source]),"number"==typeof c.target&&(c.target=m[c.target]),++c.source.weight,++c.target.weight;for(i=0;f>i;++i)c=m[i],isNaN(c.x)&&(c.x=t("x",y)),isNaN(c.y)&&(c.y=t("y",b)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y);if(r=[],"function"==typeof u)for(i=0;g>i;++i)r[i]=+u.call(this,v[i],i);else for(i=0;g>i;++i)r[i]=u;if(s=[],"function"==typeof d)for(i=0;g>i;++i)s[i]=+d.call(this,v[i],i);else for(i=0;g>i;++i)s[i]=d;if(a=[],"function"==typeof p)for(i=0;f>i;++i)a[i]=+p.call(this,m[i],i);else for(i=0;f>i;++i)a[i]=p;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return i||(i=vs.behavior.drag().origin(gt).on("dragstart.force",tn).on("drag.force",e).on("dragend.force",en)),arguments.length?void this.on("mouseover.force",nn).on("mouseout.force",rn).call(i):i},vs.rebind(o,l,"on")};var So=20,Mo=1;vs.layout.hierarchy=function(){function t(e,a,o){var l=r.call(i,e,a);if(e.depth=a,o.push(e),l&&(h=l.length)){for(var h,c,u=-1,d=e.children=[],p=0,f=a+1;++u<h;)c=t(l[u],f,o),c.parent=e,d.push(c),p+=c.value;n&&d.sort(n),s&&(e.value=p)}else s&&(e.value=+s.call(i,e,a)||0);return e}function e(t,n){var r=t.children,a=0;if(r&&(o=r.length))for(var o,l=-1,h=n+1;++l<o;)a+=e(r[l],h);else s&&(a=+s.call(i,t,n)||0);return s&&(t.value=a),a}function i(e){var i=[];return t(e,0,i),i}var n=hn,r=on,s=ln;return i.sort=function(t){return arguments.length?(n=t,i):n},i.children=function(t){return arguments.length?(r=t,i):r},i.value=function(t){return arguments.length?(s=t,i):s},i.revalue=function(t){return e(t,0),t},i},vs.layout.partition=function(){function t(e,i,n,r){var s=e.children;if(e.x=i,e.y=e.depth*r,e.dx=n,e.dy=r,s&&(a=s.length)){var a,o,l,h=-1;for(n=e.value?n/e.value:0;++h<a;)t(o=s[h],i,l=o.value*n,r),i+=l}}function e(t){var i=t.children,n=0;if(i&&(r=i.length))for(var r,s=-1;++s<r;)n=Math.max(n,e(i[s]));return 1+n}function i(i,s){var a=n.call(this,i,s);return t(a[0],0,r[0],r[1]/e(a[0])),a}var n=vs.layout.hierarchy(),r=[1,1];return i.size=function(t){return arguments.length?(r=t,i):r},an(i,n)},vs.layout.pie=function(){function t(s){var a=s.map(function(i,n){return+e.call(t,i,n)}),o=+("function"==typeof n?n.apply(this,arguments):n),l=(("function"==typeof r?r.apply(this,arguments):r)-o)/vs.sum(a),h=vs.range(s.length);null!=i&&h.sort(i===To?function(t,e){return a[e]-a[t]}:function(t,e){return i(s[t],s[e])});var c=[];return h.forEach(function(t){var e;c[t]={data:s[t],value:e=a[t],startAngle:o,endAngle:o+=e*l}}),c}var e=Number,i=To,n=0,r=Gs;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var To={};vs.layout.stack=function(){function t(o,l){var h=o.map(function(i,n){return e.call(t,i,n)}),c=h.map(function(e){return e.map(function(e,i){return[s.call(t,e,i),a.call(t,e,i)]})}),u=i.call(t,c,l);h=vs.permute(h,u),c=vs.permute(c,u);var d,p,f,g=n.call(t,c,l),m=h.length,v=h[0].length;for(p=0;v>p;++p)for(r.call(t,h[0][p],f=g[p],c[0][p][1]),d=1;m>d;++d)r.call(t,h[d][p],f+=c[d-1][p][1],c[d][p][1]);return o}var e=gt,i=fn,n=gn,r=pn,s=un,a=dn;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:Po.get(e)||fn,t):i},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:Eo.get(e)||gn,t):n},t.x=function(e){return arguments.length?(s=e,t):s},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var Po=vs.map({"inside-out":function(t){var e,i,n=t.length,r=t.map(mn),s=t.map(vn),a=vs.range(n).sort(function(t,e){return r[t]-r[e]}),o=0,l=0,h=[],c=[];for(e=0;n>e;++e)i=a[e],l>o?(o+=s[i],h.push(i)):(l+=s[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return vs.range(t.length).reverse()},"default":fn}),Eo=vs.map({silhouette:function(t){var e,i,n,r=t.length,s=t[0].length,a=[],o=0,l=[];for(i=0;s>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];n>o&&(o=n),a.push(n)}for(i=0;s>i;++i)l[i]=(o-a[i])/2;return l},wiggle:function(t){var e,i,n,r,s,a,o,l,h,c=t.length,u=t[0],d=u.length,p=[];for(p[0]=l=h=0,i=1;d>i;++i){for(e=0,r=0;c>e;++e)r+=t[e][i][1];for(e=0,s=0,o=u[i][0]-u[i-1][0];c>e;++e){for(n=0,a=(t[e][i][1]-t[e][i-1][1])/(2*o);e>n;++n)a+=(t[n][i][1]-t[n][i-1][1])/o;s+=a*t[e][i][1]}p[i]=l-=r?s/r*o:0,h>l&&(h=l)}for(i=0;d>i;++i)p[i]-=h;return p},expand:function(t){var e,i,n,r=t.length,s=t[0].length,a=1/r,o=[];for(i=0;s>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];if(n)for(e=0;r>e;e++)t[e][i][1]/=n;else for(e=0;r>e;e++)t[e][i][1]=a}for(i=0;s>i;++i)o[i]=0;return o},zero:gn});vs.layout.histogram=function(){function t(t,s){for(var a,o,l=[],h=t.map(i,this),c=n.call(this,h,s),u=r.call(this,c,h,s),s=-1,d=h.length,p=u.length-1,f=e?1:1/d;++s<p;)a=l[s]=[],a.dx=u[s+1]-(a.x=u[s]),a.y=0;if(p>0)for(s=-1;++s<d;)o=h[s],o>=c[0]&&o<=c[1]&&(a=l[vs.bisect(u,o,1,p)-1],a.y+=f,a.push(t[s]));return l}var e=!0,i=Number,n=wn,r=bn;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(n=ft(e),t):n},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return _n(t,e)}:ft(e),t):r},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},vs.layout.tree=function(){function t(t,s){function a(t,e){var n=t.children,r=t._tree;if(n&&(s=n.length)){for(var s,o,h,c=n[0],u=c,d=-1;++d<s;)h=n[d],a(h,o),u=l(h,o,u),o=h;Dn(t);var p=.5*(c._tree.prelim+h._tree.prelim);e?(r.prelim=e._tree.prelim+i(t,e),r.mod=r.prelim-p):r.prelim=p}else e&&(r.prelim=e._tree.prelim+i(t,e))}function o(t,e){t.x=t._tree.prelim+e;var i=t.children;if(i&&(n=i.length)){var n,r=-1;for(e+=t._tree.mod;++r<n;)o(i[r],e)}}function l(t,e,n){if(e){for(var r,s=t,a=t,o=e,l=t.parent.children[0],h=s._tree.mod,c=a._tree.mod,u=o._tree.mod,d=l._tree.mod;o=Cn(o),s=kn(s),o&&s;)l=kn(l),a=Cn(a),a._tree.ancestor=t,r=o._tree.prelim+u-s._tree.prelim-h+i(o,s),r>0&&(Rn(In(o,t,n),t,r),h+=r,c+=r),u+=o._tree.mod,h+=s._tree.mod,d+=l._tree.mod,c+=a._tree.mod;o&&!Cn(a)&&(a._tree.thread=o,a._tree.mod+=u-c),s&&!kn(l)&&(l._tree.thread=s,l._tree.mod+=h-d,n=t)}return n}var h=e.call(this,t,s),c=h[0];En(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(c),o(c,-c._tree.prelim);var u=Sn(c,Tn),d=Sn(c,Mn),p=Sn(c,Pn),f=u.x-i(u,d)/2,g=d.x+i(d,u)/2,m=p.depth||1;return En(c,r?function(t){t.x*=n[0],t.y=t.depth*n[1],delete t._tree}:function(t){t.x=(t.x-f)/(g-f)*n[0],t.y=t.depth/m*n[1],delete t._tree}),h}var e=vs.layout.hierarchy().sort(null).value(null),i=xn,n=[1,1],r=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=null==(n=e),t):r?null:n},t.nodeSize=function(e){return arguments.length?(r=null!=(n=e),t):r?n:null},an(t,e)},vs.layout.pack=function(){function t(t,s){var a=i.call(this,t,s),o=a[0],l=r[0],h=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(o.x=o.y=0,En(o,function(t){t.r=+c(t.value)}),En(o,Hn),n){var u=n*(e?1:Math.max(2*o.r/l,2*o.r/h))/2;En(o,function(t){t.r+=u}),En(o,Hn),En(o,function(t){t.r-=u})}return Bn(o,l/2,h/2,e?1:1/Math.max(2*o.r/l,2*o.r/h)),a}var e,i=vs.layout.hierarchy().sort(An),n=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},an(t,i)},vs.layout.cluster=function(){function t(t,s){var a,o=e.call(this,t,s),l=o[0],h=0;En(l,function(t){var e=t.children;e&&e.length?(t.x=Yn(e),t.y=jn(e)):(t.x=a?h+=i(t,a):0,t.y=0,a=t)});var c=$n(l),u=Un(l),d=c.x-i(c,u)/2,p=u.x+i(u,c)/2;return En(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),o}var e=vs.layout.hierarchy().sort(null).value(null),i=xn,n=[1,1],r=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=null==(n=e),t):r?null:n},t.nodeSize=function(e){return arguments.length?(r=null!=(n=e),t):r?n:null},an(t,e)},vs.layout.treemap=function(){function t(t,e){for(var i,n,r=-1,s=t.length;++r<s;)n=(i=t[r]).value*(0>e?0:e),i.area=isNaN(n)||0>=n?0:n}function e(i){var s=i.children;if(s&&s.length){var a,o,l,h=u(i),c=[],d=s.slice(),f=1/0,g="slice"===p?h.dx:"dice"===p?h.dy:"slice-dice"===p?1&i.depth?h.dy:h.dx:Math.min(h.dx,h.dy);for(t(d,h.dx*h.dy/i.value),c.area=0;(l=d.length)>0;)c.push(a=d[l-1]),c.area+=a.area,"squarify"!==p||(o=n(c,g))<=f?(d.pop(),f=o):(c.area-=c.pop().area,r(c,g,h,!1),g=Math.min(h.dx,h.dy),c.length=c.area=0,f=1/0);c.length&&(r(c,g,h,!0),c.length=c.area=0),s.forEach(e)}}function i(e){var n=e.children;if(n&&n.length){var s,a=u(e),o=n.slice(),l=[];for(t(o,a.dx*a.dy/e.value),l.area=0;s=o.pop();)l.push(s),l.area+=s.area,null!=s.z&&(r(l,s.z?a.dx:a.dy,a,!o.length),l.length=l.area=0);n.forEach(i)}}function n(t,e){for(var i,n=t.area,r=0,s=1/0,a=-1,o=t.length;++a<o;)(i=t[a].area)&&(s>i&&(s=i),i>r&&(r=i));return n*=n,e*=e,n?Math.max(e*r*f/n,n/(e*s*f)):1/0}function r(t,e,i,n){var r,s=-1,a=t.length,o=i.x,h=i.y,c=e?l(t.area/e):0;if(e==i.dx){for((n||c>i.dy)&&(c=i.dy);++s<a;)r=t[s],r.x=o,r.y=h,r.dy=c,o+=r.dx=Math.min(i.x+i.dx-o,c?l(r.area/c):0);r.z=!0,r.dx+=i.x+i.dx-o,i.y+=c,i.dy-=c}else{for((n||c>i.dx)&&(c=i.dx);++s<a;)r=t[s],r.x=o,r.y=h,r.dx=c,h+=r.dy=Math.min(i.y+i.dy-h,c?l(r.area/c):0);r.z=!1,r.dy+=i.y+i.dy-h,i.x+=c,i.dx-=c}}function s(n){var r=a||o(n),s=r[0];return s.x=0,s.y=0,s.dx=h[0],s.dy=h[1],a&&o.revalue(s),t([s],s.dx*s.dy/s.value),(a?i:e)(s),d&&(a=r),r}var a,o=vs.layout.hierarchy(),l=Math.round,h=[1,1],c=null,u=qn,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return s.size=function(t){return arguments.length?(h=t,s):h},s.padding=function(t){function e(e){var i=t.call(s,e,e.depth);return null==i?qn(e):Vn(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return Vn(e,t)}if(!arguments.length)return c;var n;return u=null==(c=t)?qn:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],i):i,s},s.round=function(t){return arguments.length?(l=t?Math.round:Number,s):l!=Number},s.sticky=function(t){return arguments.length?(d=t,a=null,s):d},s.ratio=function(t){return arguments.length?(f=t,s):f},s.mode=function(t){return arguments.length?(p=t+"",s):p},an(s,o)},vs.random={normal:function(t,e){var i=arguments.length;return 2>i&&(e=1),1>i&&(t=0),function(){var i,n,r;do i=2*Math.random()-1,n=2*Math.random()-1,r=i*i+n*n;while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=vs.random.normal.apply(vs,arguments);return function(){return Math.exp(t())}},irwinHall:function(t){return function(){for(var e=0,i=0;t>i;i++)e+=Math.random();return e/t}}},vs.scale={};var Do={floor:gt,ceil:gt};vs.scale.linear=function(){return tr([0,1],[0,1],Si,!1)},vs.scale.log=function(){return ar(vs.scale.linear().domain([0,1]),10,!0,[1,10])};var Ro=vs.format(".0e"),Io={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};vs.scale.pow=function(){return or(vs.scale.linear(),1,[0,1])},vs.scale.sqrt=function(){return vs.scale.pow().exponent(.5)},vs.scale.ordinal=function(){return hr([],{t:"range",a:[[]]})},vs.scale.category10=function(){return vs.scale.ordinal().range(Ao)},vs.scale.category20=function(){return vs.scale.ordinal().range(zo)},vs.scale.category20b=function(){return vs.scale.ordinal().range(Oo)},vs.scale.category20c=function(){return vs.scale.ordinal().range(Lo)};var Ao=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),zo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Oo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),Lo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);vs.scale.quantile=function(){return cr([],[])},vs.scale.quantize=function(){return ur(0,1,[0,1])},vs.scale.threshold=function(){return dr([.5],[0,1])},vs.scale.identity=function(){return pr([0,1])},vs.svg.arc=function(){function t(){var t=e.apply(this,arguments),s=i.apply(this,arguments),a=n.apply(this,arguments)+Ho,o=r.apply(this,arguments)+Ho,l=(a>o&&(l=a,a=o,o=l),o-a),h=Xs>l?"0":"1",c=Math.cos(a),u=Math.sin(a),d=Math.cos(o),p=Math.sin(o);return l>=No?t?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":t?"M"+s*c+","+s*u+"A"+s+","+s+" 0 "+h+",1 "+s*d+","+s*p+"L"+t*d+","+t*p+"A"+t+","+t+" 0 "+h+",0 "+t*c+","+t*u+"Z":"M"+s*c+","+s*u+"A"+s+","+s+" 0 "+h+",1 "+s*d+","+s*p+"L0,0Z"}var e=fr,i=gr,n=mr,r=vr;return t.innerRadius=function(i){return arguments.length?(e=ft(i),t):e},t.outerRadius=function(e){return arguments.length?(i=ft(e),t):i},t.startAngle=function(e){return arguments.length?(n=ft(e),t):n},t.endAngle=function(e){return arguments.length?(r=ft(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+i.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+Ho;return[Math.cos(s)*t,Math.sin(s)*t]},t};var Ho=-Qs,No=Gs-Zs;vs.svg.line.radial=function(){var t=Ye(yr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ge.reverse=Qe,Qe.reverse=Ge,vs.svg.area=function(){return br(gt)},vs.svg.area.radial=function(){var t=br(yr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},vs.svg.chord=function(){function t(t,o){var l=e(this,s,t,o),h=e(this,a,t,o);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,h)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,h.r,h.p0)+n(h.r,h.p1,h.a1-h.a0)+r(h.r,h.p1,l.r,l.p0))+"Z"}function e(t,e,i,n){var r=e.call(t,i,n),s=o.call(t,r,n),a=l.call(t,r,n)+Ho,c=h.call(t,r,n)+Ho;return{r:s,a0:a,a1:c,p0:[s*Math.cos(a),s*Math.sin(a)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,i){return"A"+t+","+t+" 0 "+ +(i>Xs)+",1 "+e}function r(t,e,i,n){return"Q 0,0 "+n}var s=Ae,a=ze,o=_r,l=mr,h=vr;return t.radius=function(e){return arguments.length?(o=ft(e),t):o},t.source=function(e){return arguments.length?(s=ft(e),t):s},t.target=function(e){return arguments.length?(a=ft(e),t):a},t.startAngle=function(e){return arguments.length?(l=ft(e),t):l},t.endAngle=function(e){return arguments.length?(h=ft(e),t):h},t},vs.svg.diagonal=function(){function t(t,r){var s=e.call(this,t,r),a=i.call(this,t,r),o=(s.y+a.y)/2,l=[s,{x:s.x,y:o},{x:a.x,y:o},a];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=Ae,i=ze,n=wr;return t.source=function(i){return arguments.length?(e=ft(i),t):e},t.target=function(e){return arguments.length?(i=ft(e),t):i},t.projection=function(e){return arguments.length?(n=e,t):n},t},vs.svg.diagonal.radial=function(){var t=vs.svg.diagonal(),e=wr,i=t.projection;return t.projection=function(t){return arguments.length?i(xr(e=t)):e},t},vs.svg.symbol=function(){function t(t,n){return(Fo.get(e.call(this,t,n))||Sr)(i.call(this,t,n))}var e=Cr,i=kr;return t.type=function(i){return arguments.length?(e=ft(i),t):e},t.size=function(e){return arguments.length?(i=ft(e),t):i},t};var Fo=vs.map({circle:Sr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Yo)),i=e*Yo;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/jo),i=e*jo/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/jo),i=e*jo/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});vs.svg.symbolTypes=Fo.keys();var Bo,Wo,jo=Math.sqrt(3),Yo=Math.tan(30*Js),$o=[],Uo=0;$o.call=Bs.call,$o.empty=Bs.empty,$o.node=Bs.node,$o.size=Bs.size,vs.transition=function(t){return arguments.length?Bo?t.transition():t:Ys.transition()},vs.transition.prototype=$o,$o.select=function(t){var e,i,n,r=this.id,s=[];t=g(t);for(var a=-1,o=this.length;++a<o;){s.push(e=[]);for(var l=this[a],h=-1,c=l.length;++h<c;)(n=l[h])&&(i=t.call(n,n.__data__,h,a))?("__data__"in n&&(i.__data__=n.__data__),Er(i,h,r,n.__transition__[r]),e.push(i)):e.push(null)}return Mr(s,r)},$o.selectAll=function(t){var e,i,n,r,s,a=this.id,o=[];t=m(t);for(var l=-1,h=this.length;++l<h;)for(var c=this[l],u=-1,d=c.length;++u<d;)if(n=c[u]){s=n.__transition__[a],i=t.call(n,n.__data__,u,l),o.push(e=[]);for(var p=-1,f=i.length;++p<f;)(r=i[p])&&Er(r,p,a,s),e.push(r)}return Mr(o,a)},$o.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=M(t));for(var s=0,a=this.length;a>s;s++){r.push(e=[]);for(var i=this[s],o=0,l=i.length;l>o;o++)(n=i[o])&&t.call(n,n.__data__,o)&&e.push(n)}return Mr(r,this.id)},$o.tween=function(t,e){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(t):P(this,null==e?function(e){e.__transition__[i].tween.remove(t)}:function(n){n.__transition__[i].tween.set(t,e)})},$o.attr=function(t,e){function i(){this.removeAttribute(o)}function n(){this.removeAttributeNS(o.space,o.local)}function r(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(o);return i!==t&&(e=a(i,t),function(t){this.setAttribute(o,e(t))})})}function s(t){return null==t?n:(t+="",function(){var e,i=this.getAttributeNS(o.space,o.local);return i!==t&&(e=a(i,t),function(t){this.setAttributeNS(o.space,o.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Xi:Si,o=vs.ns.qualify(t);return Tr(this,"attr."+t,e,o.local?s:r)},$o.attrTween=function(t,e){function i(t,i){var n=e.call(this,t,i,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,i){var n=e.call(this,t,i,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=vs.ns.qualify(t);return this.tween("attr."+t,r.local?n:i)},$o.style=function(t,e,i){function n(){this.style.removeProperty(t)}function r(e){return null==e?n:(e+="",function(){var n,r=xs.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(n=Si(r,e),function(e){this.style.setProperty(t,n(e),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(e="");for(i in t)this.style(i,t[i],e);return this}i=""}return Tr(this,"style."+t,e,r)},$o.styleTween=function(t,e,i){function n(n,r){var s=e.call(this,n,r,xs.getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,n)},$o.text=function(t){return Tr(this,"text",t,Pr)},$o.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},$o.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=vs.ease.apply(vs,arguments)),P(this,function(i){i.__transition__[e].ease=t}))},$o.delay=function(t){var e=this.id;return P(this,"function"==typeof t?function(i,n,r){i.__transition__[e].delay=+t.call(i,i.__data__,n,r)}:(t=+t,function(i){i.__transition__[e].delay=t}))},$o.duration=function(t){var e=this.id;return P(this,"function"==typeof t?function(i,n,r){i.__transition__[e].duration=Math.max(1,t.call(i,i.__data__,n,r))}:(t=Math.max(1,t),function(i){i.__transition__[e].duration=t}))},$o.each=function(t,e){var i=this.id;if(arguments.length<2){var n=Wo,r=Bo;Bo=i,P(this,function(e,n,r){Wo=e.__transition__[i],t.call(e,e.__data__,n,r)}),Wo=n,Bo=r}else P(this,function(n){var r=n.__transition__[i];(r.event||(r.event=vs.dispatch("start","end"))).on(t,e)});return this},$o.transition=function(){for(var t,e,i,n,r=this.id,s=++Uo,a=[],o=0,l=this.length;l>o;o++){a.push(t=[]);for(var e=this[o],h=0,c=e.length;c>h;h++)(i=e[h])&&(n=Object.create(i.__transition__[r]),n.delay+=n.duration,Er(i,h,s,n)),t.push(i)}return Mr(a,s)},vs.svg.axis=function(){function t(t){t.each(function(){var t,h=vs.select(this),c=this.__chart__||i,u=this.__chart__=i.copy(),d=null==l?u.ticks?u.ticks.apply(u,o):u.domain():l,p=null==e?u.tickFormat?u.tickFormat.apply(u,o):gt:e,f=h.selectAll(".tick").data(d,u),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Zs),m=vs.transition(f.exit()).style("opacity",Zs).remove(),v=vs.transition(f).style("opacity",1),y=Gn(u),b=h.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),vs.transition(b));g.append("line"),g.append("text");var w=g.select("line"),x=v.select("line"),k=f.select("text").text(p),C=g.select("text"),S=v.select("text");switch(n){case"bottom":t=Dr,w.attr("y2",r),C.attr("y",Math.max(r,0)+a),x.attr("x2",0).attr("y2",r),S.attr("x",0).attr("y",Math.max(r,0)+a),k.attr("dy",".71em").style("text-anchor","middle"),_.attr("d","M"+y[0]+","+s+"V0H"+y[1]+"V"+s);break;case"top":t=Dr,w.attr("y2",-r),C.attr("y",-(Math.max(r,0)+a)),x.attr("x2",0).attr("y2",-r),S.attr("x",0).attr("y",-(Math.max(r,0)+a)),k.attr("dy","0em").style("text-anchor","middle"),_.attr("d","M"+y[0]+","+-s+"V0H"+y[1]+"V"+-s);break;case"left":t=Rr,w.attr("x2",-r),C.attr("x",-(Math.max(r,0)+a)),x.attr("x2",-r).attr("y2",0),S.attr("x",-(Math.max(r,0)+a)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),_.attr("d","M"+-s+","+y[0]+"H0V"+y[1]+"H"+-s);break;case"right":t=Rr,w.attr("x2",r),C.attr("x",Math.max(r,0)+a),x.attr("x2",r).attr("y2",0),S.attr("x",Math.max(r,0)+a).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),_.attr("d","M"+s+","+y[0]+"H0V"+y[1]+"H"+s)}if(u.rangeBand){var M=u.rangeBand()/2,T=function(t){return u(t)+M};g.call(t,T),v.call(t,T)}else g.call(t,c),v.call(t,u),m.call(t,u)})}var e,i=vs.scale.linear(),n=qo,r=6,s=6,a=3,o=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(n=e in Vo?e+"":qo,t):n},t.ticks=function(){return arguments.length?(o=arguments,t):o},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(r=+e,s=+arguments[i-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(s=+e,t):s},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var qo="bottom",Vo={top:1,right:1,bottom:1,left:1};vs.svg.brush=function(){function t(s){s.each(function(){var s=vs.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=s.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");
var o=s.selectAll(".resize").data(m,gt);o.exit().remove(),o.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Xo[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",t.empty()?"none":null);var c,u=vs.transition(s),d=vs.transition(a);l&&(c=Gn(l),d.attr("x",c[0]).attr("width",c[1]-c[0]),i(u)),h&&(c=Gn(h),d.attr("y",c[0]).attr("height",c[1]-c[0]),n(u)),e(u)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function n(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==vs.event.keyCode&&(P||(b=null,D[0]-=c[1],D[1]-=d[1],P=2),u())}function p(){32==vs.event.keyCode&&2==P&&(D[0]+=c[1],D[1]+=d[1],P=0,u())}function m(){var t=vs.mouse(w),r=!1;_&&(t[0]+=_[0],t[1]+=_[1]),P||(vs.event.altKey?(b||(b=[(c[0]+c[1])/2,(d[0]+d[1])/2]),D[0]=c[+(t[0]<b[0])],D[1]=d[+(t[1]<b[1])]):b=null),M&&v(t,l,0)&&(i(C),r=!0),T&&v(t,h,1)&&(n(C),r=!0),r&&(e(C),k({type:"brush",mode:P?"move":"resize"}))}function v(t,e,i){var n,r,o=Gn(e),l=o[0],h=o[1],u=D[i],p=i?d:c,m=p[1]-p[0];return P&&(l-=u,h-=m+u),n=(i?g:f)?Math.max(l,Math.min(h,t[i])):t[i],P?r=(n+=u)+m:(b&&(u=Math.max(l,Math.min(h,2*b[i]-n))),n>u?(r=n,n=u):r=u),p[0]!=n||p[1]!=r?(i?a=null:s=null,p[0]=n,p[1]=r,!0):void 0}function y(){m(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),vs.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),k({type:"brushend"})}var b,_,w=this,x=vs.select(vs.event.target),k=o.of(w,arguments),C=vs.select(w),S=x.datum(),M=!/^(n|s)$/.test(S)&&l,T=!/^(e|w)$/.test(S)&&h,P=x.classed("extent"),E=O(),D=vs.mouse(w),R=vs.select(xs).on("keydown.brush",r).on("keyup.brush",p);if(vs.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",y):R.on("mousemove.brush",m).on("mouseup.brush",y),C.interrupt().selectAll("*").interrupt(),P)D[0]=c[0]-D[0],D[1]=d[0]-D[1];else if(S){var I=+/w$/.test(S),A=+/^n/.test(S);_=[c[1-I]-D[0],d[1-A]-D[1]],D[0]=c[I],D[1]=d[A]}else vs.event.altKey&&(b=D.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),vs.select("body").style("cursor",x.style("cursor")),k({type:"brushstart"}),m()}var s,a,o=p(t,"brushstart","brush","brushend"),l=null,h=null,c=[0,0],d=[0,0],f=!0,g=!0,m=Go[0];return t.event=function(t){t.each(function(){var t=o.of(this,arguments),e={x:c,y:d,i:s,j:a},i=this.__chart__||e;this.__chart__=e,Bo?vs.select(this).transition().each("start.brush",function(){s=i.i,a=i.j,c=i.x,d=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=Mi(c,e.x),n=Mi(d,e.y);return s=a=null,function(r){c=e.x=i(r),d=e.y=n(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,m=Go[!l<<1|!h],t):l},t.y=function(e){return arguments.length?(h=e,m=Go[!l<<1|!h],t):h},t.clamp=function(e){return arguments.length?(l&&h?(f=!!e[0],g=!!e[1]):l?f=!!e:h&&(g=!!e),t):l&&h?[f,g]:l?f:h?g:null},t.extent=function(e){var i,n,r,o,u;return arguments.length?(l&&(i=e[0],n=e[1],h&&(i=i[0],n=n[0]),s=[i,n],l.invert&&(i=l(i),n=l(n)),i>n&&(u=i,i=n,n=u),(i!=c[0]||n!=c[1])&&(c=[i,n])),h&&(r=e[0],o=e[1],l&&(r=r[1],o=o[1]),a=[r,o],h.invert&&(r=h(r),o=h(o)),r>o&&(u=r,r=o,o=u),(r!=d[0]||o!=d[1])&&(d=[r,o])),t):(l&&(s?(i=s[0],n=s[1]):(i=c[0],n=c[1],l.invert&&(i=l.invert(i),n=l.invert(n)),i>n&&(u=i,i=n,n=u))),h&&(a?(r=a[0],o=a[1]):(r=d[0],o=d[1],h.invert&&(r=h.invert(r),o=h.invert(o)),r>o&&(u=r,r=o,o=u))),l&&h?[[i,r],[n,o]]:l?[i,n]:h&&[r,o])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!h&&d[0]==d[1]},vs.rebind(t,o,"on")};var Xo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Go=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qo=vs.time={},Zo=Date,Ko=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Ir.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Jo.setUTCDate.apply(this._,arguments)},setDay:function(){Jo.setUTCDay.apply(this._,arguments)},setFullYear:function(){Jo.setUTCFullYear.apply(this._,arguments)},setHours:function(){Jo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Jo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Jo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Jo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Jo.setUTCSeconds.apply(this._,arguments)},setTime:function(){Jo.setTime.apply(this._,arguments)}};var Jo=Date.prototype,tl="%a %b %e %X %Y",el="%m/%d/%Y",il="%H:%M:%S",nl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],sl=["January","February","March","April","May","June","July","August","September","October","November","December"],al=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Qo.year=Ar(function(t){return t=Qo.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Qo.years=Qo.year.range,Qo.years.utc=Qo.year.utc.range,Qo.day=Ar(function(t){var e=new Zo(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Qo.days=Qo.day.range,Qo.days.utc=Qo.day.utc.range,Qo.dayOfYear=function(t){var e=Qo.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Ko.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var i=Qo[t]=Ar(function(t){return(t=Qo.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=Qo.year(t).getDay();return Math.floor((Qo.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});Qo[t+"s"]=i.range,Qo[t+"s"].utc=i.utc.range,Qo[t+"OfYear"]=function(t){var i=Qo.year(t).getDay();return Math.floor((Qo.dayOfYear(t)+(i+e)%7)/7)}}),Qo.week=Qo.sunday,Qo.weeks=Qo.sunday.range,Qo.weeks.utc=Qo.sunday.utc.range,Qo.weekOfYear=Qo.sundayOfYear,Qo.format=Or;var ol=Hr(nl),ll=Nr(nl),hl=Hr(rl),cl=Nr(rl),ul=Hr(sl),dl=Nr(sl),pl=Hr(al),fl=Nr(al),gl=/^%/,ml={"-":"",_:" ",0:"0"},vl={a:function(t){return rl[t.getDay()]},A:function(t){return nl[t.getDay()]},b:function(t){return al[t.getMonth()]},B:function(t){return sl[t.getMonth()]},c:Or(tl),d:function(t,e){return Fr(t.getDate(),e,2)},e:function(t,e){return Fr(t.getDate(),e,2)},H:function(t,e){return Fr(t.getHours(),e,2)},I:function(t,e){return Fr(t.getHours()%12||12,e,2)},j:function(t,e){return Fr(1+Qo.dayOfYear(t),e,3)},L:function(t,e){return Fr(t.getMilliseconds(),e,3)},m:function(t,e){return Fr(t.getMonth()+1,e,2)},M:function(t,e){return Fr(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return Fr(t.getSeconds(),e,2)},U:function(t,e){return Fr(Qo.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Fr(Qo.mondayOfYear(t),e,2)},x:Or(el),X:Or(il),y:function(t,e){return Fr(t.getFullYear()%100,e,2)},Y:function(t,e){return Fr(t.getFullYear()%1e4,e,4)},Z:ls,"%":function(){return"%"}},yl={a:Br,A:Wr,b:Ur,B:qr,c:Vr,d:es,e:es,H:ns,I:ns,j:is,L:as,m:ts,M:rs,p:os,S:ss,U:Yr,w:jr,W:$r,x:Xr,X:Gr,y:Zr,Y:Qr,Z:Kr,"%":hs},bl=/^\s*\d+/,_l=vs.map({am:0,pm:1});Or.utc=cs;var wl=cs("%Y-%m-%dT%H:%M:%S.%LZ");Or.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?us:wl,us.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},us.toString=wl.toString,Qo.second=Ar(function(t){return new Zo(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Qo.seconds=Qo.second.range,Qo.seconds.utc=Qo.second.utc.range,Qo.minute=Ar(function(t){return new Zo(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Qo.minutes=Qo.minute.range,Qo.minutes.utc=Qo.minute.utc.range,Qo.hour=Ar(function(t){var e=t.getTimezoneOffset()/60;return new Zo(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Qo.hours=Qo.hour.range,Qo.hours.utc=Qo.hour.utc.range,Qo.month=Ar(function(t){return t=Qo.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Qo.months=Qo.month.range,Qo.months.utc=Qo.month.utc.range;var xl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],kl=[[Qo.second,1],[Qo.second,5],[Qo.second,15],[Qo.second,30],[Qo.minute,1],[Qo.minute,5],[Qo.minute,15],[Qo.minute,30],[Qo.hour,1],[Qo.hour,3],[Qo.hour,6],[Qo.hour,12],[Qo.day,1],[Qo.day,2],[Qo.week,1],[Qo.month,1],[Qo.month,3],[Qo.year,1]],Cl=[[Or("%Y"),Ut],[Or("%B"),function(t){return t.getMonth()}],[Or("%b %d"),function(t){return 1!=t.getDate()}],[Or("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[Or("%I %p"),function(t){return t.getHours()}],[Or("%I:%M"),function(t){return t.getMinutes()}],[Or(":%S"),function(t){return t.getSeconds()}],[Or(".%L"),function(t){return t.getMilliseconds()}]],Sl=fs(Cl);kl.year=Qo.year,Qo.scale=function(){return ds(vs.scale.linear(),kl,Sl)};var Ml={range:function(t,e,i){return vs.range(+t,+e,i).map(ps)}},Tl=kl.map(function(t){return[t[0].utc,t[1]]}),Pl=[[cs("%Y"),Ut],[cs("%B"),function(t){return t.getUTCMonth()}],[cs("%b %d"),function(t){return 1!=t.getUTCDate()}],[cs("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[cs("%I %p"),function(t){return t.getUTCHours()}],[cs("%I:%M"),function(t){return t.getUTCMinutes()}],[cs(":%S"),function(t){return t.getUTCSeconds()}],[cs(".%L"),function(t){return t.getUTCMilliseconds()}]],El=fs(Pl);return Tl.year=Qo.year.utc,Qo.scale.utc=function(){return ds(vs.scale.linear(),Tl,El)},vs.text=mt(function(t){return t.responseText}),vs.json=function(t,e){return vt(t,"application/json",gs,e)},vs.html=function(t,e){return vt(t,"text/html",ms,e)},vs.xml=mt(function(t){return t.responseXML}),vs}();var Rickshaw={namespace:function(t,e){for(var i=t.split("."),n=Rickshaw,r=1,s=i.length;s>r;r++){var a=i[r];n[a]=n[a]||{},n=n[a]}return n},keys:function(t){var e=[];for(var i in t)e.push(i);return e},extend:function(t,e){for(var i in e)t[i]=e[i];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};if("undefined"!=typeof module&&module.exports){var d3=require("d3");module.exports=Rickshaw}!function(t){function e(t){return u.call(t)===y}function i(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function n(t){if(r(t)!==v)throw new TypeError;var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function r(t){switch(t){case null:return d;case void 0:return p}var e=typeof t;switch(e){case"boolean":return f;case"number":return g;case"string":return m}return v}function s(t){return"undefined"==typeof t}function a(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function o(t,e){var i=t;return function(){var t=l([c(i,this)],arguments);return e.apply(this,t)}}function l(t,e){for(var i=t.length,n=e.length;n--;)t[i+n]=e[n];return t}function h(t,e){return t=b.call(t,0),l(t,e)}function c(t,e){if(arguments.length<2&&s(arguments[0]))return this;var i=t,n=b.call(arguments,2);return function(){var t=h(n,arguments);return i.apply(e,t)}}var u=Object.prototype.toString,d="Null",p="Undefined",f="Boolean",g="Number",m="String",v="Object",y="[object Function]",b=Array.prototype.slice,_=function(){},w=function(){function t(){}function r(){function n(){this.initialize.apply(this,arguments)}var r=null,s=[].slice.apply(arguments);if(e(s[0])&&(r=s.shift()),i(n,w.Methods),n.superclass=r,n.subclasses=[],r){t.prototype=r.prototype,n.prototype=new t;try{r.subclasses.push(n)}catch(a){}}for(var o=0,l=s.length;l>o;o++)n.addMethods(s[o]);return n.prototype.initialize||(n.prototype.initialize=_),n.prototype.constructor=n,n}function s(t){var i=this.superclass&&this.superclass.prototype,r=n(t);l&&(t.toString!=Object.prototype.toString&&r.push("toString"),t.valueOf!=Object.prototype.valueOf&&r.push("valueOf"));for(var s=0,h=r.length;h>s;s++){var u=r[s],d=t[u];if(i&&e(d)&&"$super"==a(d)[0]){var p=d;d=o(function(t){return function(){return i[t].apply(this,arguments)}}(u),p),d.valueOf=c(p.valueOf,p),d.toString=c(p.toString,p)}this.prototype[u]=d}return this}var l=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:r,Methods:{addMethods:s}}}();t.exports?t.exports.Class=w:t.Class=w}(Rickshaw),Rickshaw.namespace("Rickshaw.Compat.ClassList"),Rickshaw.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";var e="classList",i="prototype",n=(t.HTMLElement||t.Element)[i],r=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(t,e)},h=function(t){for(var e=s.call(t.className),i=e?e.split(/\s+/):[],n=0,r=i.length;r>n;n++)this.push(i[n]);this._updateClassName=function(){t.className=this.toString()}},c=h[i]=[],u=function(){return new h(this)};if(o[i]=Error[i],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",-1!==l(this,t)},c.add=function(t){t+="",-1===l(this,t)&&(this.push(t),this._updateClassName())},c.remove=function(t){t+="";var e=l(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},c.toggle=function(t){t+="",-1===l(this,t)?this.add(t):this.remove(t)},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,d)}catch(p){-2146823252===p.number&&(d.enumerable=!1,r.defineProperty(n,e,d))}}else r[i].__defineGetter__&&n.__defineGetter__(e,u)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new Rickshaw.Compat.ClassList,Rickshaw.namespace("Rickshaw.Graph"),Rickshaw.Graph=function(t){var e=this;this.initialize=function(t){if(!t.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==t.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=t.element,this.series=t.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0},this._loadRenderers(),this.configure(t),this.validateSeries(t.series),this.series.active=function(){return e.series.filter(function(t){return!t.disabled})},this.setSize({width:t.width,height:t.height}),this.element.classList.add("rickshaw_graph"),this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in Rickshaw.Graph.Renderer)if(t&&Rickshaw.Graph.Renderer.hasOwnProperty(t)){var i=Rickshaw.Graph.Renderer[t];i&&i.prototype&&i.prototype.render&&e.registerRenderer(new i({graph:e}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof Rickshaw.Series)){var e=Object.prototype.toString.apply(t);throw"series is not an array: "+e}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);var e=t.data[0].x,i=t.data[0].y;if("number"!=typeof e||"number"!=typeof i&&null!==i)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof i;if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var t=this.series.map(function(t){return t.data}),e=d3.min(t.map(function(t){return t[0].x})),i=d3.max(t.map(function(t){return t[t.length-1].x}));return[e,i]},this.discoverRange=function(){var t=this.renderer.domain();this.x=(this.xScale||d3.scale.linear()).domain(t.x).range([0,this.width]),this.y=(this.yScale||d3.scale.linear()).domain(t.y).range([this.height,0]),this.y.magnitude=d3.scale.linear().domain([t.y[0]-t.y[0],t.y[1]-t.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var t=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),i=this.preserve;i||this.series.forEach(function(t){t.scale&&(i=!0)}),t=i?Rickshaw.clone(t):t,this.series.active().forEach(function(e,i){if(e.scale){var n=t[i];n&&n.forEach(function(t){t.y=e.scale(t.y)})}}),this.stackData.hooks.data.forEach(function(i){t=i.f.apply(e,[t])});var n;if(!this.renderer.unstack){this._validateStackable();var r=d3.layout.stack();r.offset(e.offset),n=r(t)}n=n||t,this.renderer.unstack&&n.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(i){n=i.f.apply(e,[t])});var s=0;return this.series.forEach(function(t){t.disabled||(t.stack=n[s++])}),this.stackedData=n,n},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if(t=t||e.data.length,t&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),Rickshaw.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),Rickshaw.keys(this.config).forEach(function(t){this[t]=this.config[t]},this);var e=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(e,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,i){if("function"==typeof t)this.renderer=new t({graph:e}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof i&&this.renderer.configure(i)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),i=parseInt(e.getPropertyValue("width"),10),n=parseInt(e.getPropertyValue("height"),10);this.width=t.width||i||400,this.height=t.height||n||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(t)},Rickshaw.namespace("Rickshaw.Fixtures.Color"),Rickshaw.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},Rickshaw.namespace("Rickshaw.Fixtures.RandomData"),Rickshaw.Fixtures.RandomData=function(t){t=t||1;var e=200,i=Math.floor((new Date).getTime()/1e3);this.addData=function(n){var r=100*Math.random()+15+e,s=n[0].length,a=1;n.forEach(function(e){var n=20*Math.random(),o=r/25+a++ +15*(Math.cos(s*a*11/960)+2)+7*(Math.cos(s/7)+2)+1*(Math.cos(s/17)+2);e.push({x:s*t+i,y:o+n})}),e=.85*r},this.removeData=function(e){e.forEach(function(t){t.shift()}),i+=t}},Rickshaw.namespace("Rickshaw.Fixtures.Time"),Rickshaw.Fixtures.Time=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(t){return d3.time.format("%b %e")(t)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var i,n,r;if("month"==e.name){if(i=new Date(1e3*t),n=Date.UTC(i.getUTCFullYear(),i.getUTCMonth())/1e3,n==t)return t;r=i.getUTCFullYear();var s=i.getUTCMonth();return 11==s?(s=0,r+=1):s+=1,Date.UTC(r,s)/1e3}return"year"==e.name?(i=new Date(1e3*t),n=Date.UTC(i.getUTCFullYear(),0)/1e3,n==t?t:(r=i.getUTCFullYear()+1,Date.UTC(r,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},Rickshaw.namespace("Rickshaw.Fixtures.Time.Local"),Rickshaw.Fixtures.Time.Local=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(t){return d3.time.format("%b %e")(t)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var i,n,r;if("day"==e.name){var s=new Date(1e3*(t+e.seconds-1)),a=new Date(0);return a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.setDate(s.getDate()),a.setMonth(s.getMonth()),a.setFullYear(s.getFullYear()),a.getTime()/1e3}if("month"==e.name){if(i=new Date(1e3*t),n=new Date(i.getFullYear(),i.getMonth()).getTime()/1e3,n==t)return t;r=i.getFullYear();var o=i.getMonth();return 11==o?(o=0,r+=1):o+=1,new Date(r,o).getTime()/1e3}return"year"==e.name?(i=new Date(1e3*t),n=new Date(i.getUTCFullYear(),0).getTime()/1e3,n==t?t:(r=i.getFullYear()+1,new Date(r,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},Rickshaw.namespace("Rickshaw.Fixtures.Number"),Rickshaw.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":1>e&&t>0?t.toFixed(2):0===e?"":t},Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":1>e&&t>0?t.toFixed(2):0===e?"":t},Rickshaw.namespace("Rickshaw.Color.Palette"),Rickshaw.Color.Palette=function(t){var e=new Rickshaw.Fixtures.Color;if(t=t||{},this.schemes={},this.scheme=e.schemes[t.scheme]||t.scheme||e.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,t.interpolatedStopCount){var i,n,r=this.scheme.length-1,s=[];for(i=0;r>i;i++){s.push(this.scheme[i]);var a=d3.interpolateHsl(this.scheme[i],this.scheme[i+1]);for(n=1;n<t.interpolatedStopCount;n++)s.push(a(1/t.interpolatedStopCount*n))}s.push(this.scheme[this.scheme.length-1]),this.scheme=s}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var t;return this.generatorIndex==2*this.rotateCount-1?(t=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(t=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(t),t}}},Rickshaw.namespace("Rickshaw.Graph.Ajax"),Rickshaw.Graph.Ajax=Rickshaw.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){$.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,e){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new Rickshaw.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,i=t.series;return t.series?(i.forEach(function(t){var i=t.key||t.name;if(!i)throw"series needs a key or a name";e.forEach(function(e){var n=e.key||e.name;if(!n)throw"data needs a key or a name";if(i==n){var r=["color","name","data"];r.forEach(function(i){e[i]&&(t[i]=e[i])})}})}),i):e}}),Rickshaw.namespace("Rickshaw.Graph.Annotate"),Rickshaw.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var e=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,i,n){e.data[t]=e.data[t]||{boxes:[]},e.data[t].boxes.push({content:i,end:n})},this.update=function(){Rickshaw.keys(e.data).forEach(function(t){var i=e.data[t],n=e.graph.x(t);if(0>n||n>e.graph.x.range()[1])return i.element&&(i.line.classList.add("offscreen"),i.element.style.display="none"),void i.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!i.element){var r=i.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(t){r.classList.toggle("active"),i.line.classList.toggle("active"),i.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}i.element.style.left=n+"px",i.element.style.display="block",i.boxes.forEach(function(t){var r=t.element;if(r||(r=t.element=document.createElement("div"),r.classList.add("content"),r.innerHTML=t.content,i.element.appendChild(r),i.line=document.createElement("div"),i.line.classList.add("annotation_line"),e.graph.element.appendChild(i.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),e.graph.element.appendChild(t.rangeElement))),t.end){var s=n,a=Math.min(e.graph.x(t.end),e.graph.x.range()[1]);s>a&&(a=n,s=Math.max(e.graph.x(t.end),e.graph.x.range()[0]));var o=a-s;t.rangeElement.style.left=s+"px",t.rangeElement.style.width=o+"px",t.rangeElement.classList.remove("offscreen")}i.line.classList.remove("offscreen"),i.line.style.left=n+"px"})},this)},this.graph.onUpdate(function(){e.update()})},Rickshaw.namespace("Rickshaw.Graph.Axis.Time"),Rickshaw.Graph.Axis.Time=function(t){var e=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var i=t.timeFixture||new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=i.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){Math.floor(r/e.seconds)>=2&&(t=t||e)}),t||i.units[i.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),r=t[0],s=[],a=0;n>a;a++){var o=i.ceil(r,e);r=o+e.seconds/2,s.push({value:o,unit:e})}return s},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[];var t=this.tickOffsets();t.forEach(function(t){if(!(e.graph.x(t.value)>e.graph.x.range()[1])){var i=document.createElement("div");i.style.left=e.graph.x(t.value)+"px",i.classList.add("x_tick"),i.classList.add(e.ticksTreatment);var n=document.createElement("div");n.classList.add("title"),n.innerHTML=t.unit.formatter(new Date(1e3*t.value)),
i.appendChild(n),e.graph.element.appendChild(i),e.elements.push(i)}})},this.graph.onUpdate(function(){e.render()})},Rickshaw.namespace("Rickshaw.Graph.Axis.X"),Rickshaw.Graph.Axis.X=function(t){var e=this,i=.1;this.initialize=function(t){this.graph=t.graph,this.orientation=t.orientation||"top",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",t.element?(this.element=t.element,this._discoverSize(t.element,t),this.vis=d3.select(t.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){e.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+i));var e=Math.floor(this.width*i/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var e=d3.svg.axis().scale(this.graph.x).orient(this.orientation);e.tickFormat(t.tickFormat||function(t){return t}),this.tickValues&&e.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var n,r=Math.floor(this.width*i/2)||0;if("top"==this.orientation){var s=this.height||this.graph.height;n="translate("+r+","+s+")"}else n="translate("+r+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",n).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var a=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(e.ticks(this.ticks).tickSubdivide(0).tickSize(a)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var s=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||s||this.graph.width)*(1+i),this.height=e.height||r||40},this.initialize(t)},Rickshaw.namespace("Rickshaw.Graph.Axis.Y"),Rickshaw.Graph.Axis.Y=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.orientation=t.orientation||"right",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",this.tickFormat=t.tickFormat||function(t){return t},this.berthRate=.1,t.element?(this.element=t.element,this.vis=d3.select(t.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis;var e=this;this.graph.onUpdate(function(){e.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),i=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var n=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||i||this.graph.width*this.berthRate,this.height=t.height||n||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(t){var e=d3.svg.axis().scale(t).orient(this.orientation);if(e.tickFormat(this.tickFormat),this.tickValues&&e.tickValues(this.tickValues),"left"==this.orientation)var i=this.height*this.berthRate,n="translate("+this.width+", "+i+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",n).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),e},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),Rickshaw.namespace("Rickshaw.Graph.Axis.Y.Scaled"),Rickshaw.Graph.Axis.Y.Scaled=Rickshaw.Class.create(Rickshaw.Graph.Axis.Y,{initialize:function(t,e){if("undefined"==typeof e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,"undefined"==typeof e.grid?this.grid=!0:this.grid=e.grid,t(e)},_drawAxis:function(t,e){var i=this.scale.domain(),n=this.graph.renderer.domain().y,r=[Math.min.apply(Math,i),Math.max.apply(Math,i)],s=d3.scale.linear().domain([0,1]).range(r),a=[s(n[0]),s(n[1])],o=d3.scale.linear().domain(r).range(a),l=this.scale.copy().domain(i.map(o)).range(e.range());return t(l)},_drawGrid:function(t,e){this.grid&&t(e)}}),Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),Rickshaw.Graph.Behavior.Series.Highlight=function(t){this.graph=t.graph,this.legend=t.legend;var e=this,i={},n=null,r=t.disabledColor||function(t){return d3.interpolateRgb(t,d3.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(s){n||(n=t,e.legend.lines.forEach(function(n){if(t!==n)i[n.series.name]=i[n.series.name]||n.series.color,n.series.color=r(n.series.color);else if(e.graph.renderer.unstack&&(n.series.renderer?n.series.renderer.unstack:!0)){var s=e.graph.series.indexOf(n.series);n.originalIndex=s;var a=e.graph.series.splice(s,1)[0];e.graph.series.push(a)}}),e.graph.update())},!1),t.element.addEventListener("mouseout",function(r){n&&(n=null,e.legend.lines.forEach(function(n){if(t===n&&n.hasOwnProperty("originalIndex")){var r=e.graph.series.pop();e.graph.series.splice(n.originalIndex,0,r),delete n.originalIndex}i[n.series.name]&&(n.series.color=i[n.series.name])}),e.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){e.addHighlightEvents(t)})},Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order"),Rickshaw.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if("undefined"==typeof window.$)throw"couldn't find jQuery at window.$";if("undefined"==typeof window.$.ui)throw"couldn't find jQuery UI at window.$.ui";$(function(){$(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,i){var n=[];$(e.legend.list).find("li").each(function(t,e){e.series&&n.push(e.series)});for(var r=e.graph.series.length-1;r>=0;r--)e.graph.series[r]=n.shift();e.graph.update()}}),$(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),Rickshaw.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;this.addAnchor=function(t){var i=document.createElement("a");i.innerHTML="&#10004;",i.classList.add("action"),t.element.insertBefore(i,t.element.firstChild),i.onclick=function(e){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}}.bind(this);var n=t.element.getElementsByTagName("span")[0];n.onclick=function(i){var n=t.series.disabled;if(!n)for(var r=0;r<e.legend.lines.length;r++){var s=e.legend.lines[r];if(t.series===s.series);else if(!s.series.disabled){n=!0;break}}n?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")})}},this.legend&&("undefined"!=typeof $&&$(this.legend.list).sortable&&$(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})),this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0,e.graph.update()},t.enable=function(){t.disabled=!1,e.graph.update()}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},Rickshaw.namespace("Rickshaw.Graph.HoverDetail"),Rickshaw.Graph.HoverDetail=Rickshaw.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var i=this.element=document.createElement("div");i.className="detail",this.visible=!0,e.element.appendChild(i),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,i,n,r,s){return t.name+":&nbsp;"+r},update:function(t){if(t=t||this.lastEvent,t&&(this.lastEvent=t,t.target.nodeName.match(/^(path|svg|rect|circle)$/))){var e,i=this.graph,n=t.offsetX||t.layerX,r=t.offsetY||t.layerY,s=0,a=[];if(this.graph.series.active().forEach(function(t){var o=this.graph.stackedData[s++];if(o.length){var l=i.x.invert(n),h=d3.scale.linear().domain([o[0].x,o.slice(-1)[0].x]).range([0,o.length-1]),c=Math.round(h(l));c==o.length-1&&c--;for(var u=Math.min(c||0,o.length-1),d=c;d<o.length-1&&(o[d]&&o[d+1]);){if(o[d].x<=l&&o[d+1].x>l){u=Math.abs(l-o[d].x)<Math.abs(l-o[d+1].x)?d:d+1;break}o[d+1].x<=l?d++:d--}0>u&&(u=0);var p=o[u],f=Math.sqrt(Math.pow(Math.abs(i.x(p.x)-n),2)+Math.pow(Math.abs(i.y(p.y+p.y0)-r),2)),g=t.xFormatter||this.xFormatter,m=t.yFormatter||this.yFormatter,v={formattedXValue:g(p.x),formattedYValue:m(t.scale?t.scale.invert(p.y):p.y),series:t,value:p,distance:f,order:s,name:t.name};(!e||f<e.distance)&&(e=v),a.push(v)}},this),e){e.active=!0;var o=e.value.x,l=e.formattedXValue;this.element.innerHTML="",this.element.style.left=i.x(o)+"px",this.visible&&this.render({points:a,detail:a,mouseX:n,mouseY:r,formattedXValue:l,domainX:o})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,i=t.points,n=i.filter(function(t){return t.active}).shift();if(null!==n.value.y){var r=n.formattedXValue,s=n.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(n.value.x)+"px";var a=document.createElement("div");a.className="x_label",a.innerHTML=r,this.element.appendChild(a);var o=document.createElement("div");o.className="item";var l=n.series,h=l.scale?l.scale.invert(n.value.y):n.value.y;o.innerHTML=this.formatter(l,n.value.x,h,r,s,n),o.style.top=this.graph.y(n.value.y0+n.value.y)+"px",this.element.appendChild(o);var c=document.createElement("div");c.className="dot",c.style.top=o.style.top,c.style.borderColor=l.color,this.element.appendChild(c),n.active&&(o.classList.add("active"),c.classList.add("active"));var u=[a,o];u.forEach(function(t){t.classList.add("left")}),this.show();var d=this._calcLayoutError(u);if(d>0){u.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});var p=this._calcLayoutError(u);p>d&&u.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),i=0;t.forEach(function(t){var n=t.getBoundingClientRect();n.width&&(n.right>e.right&&(i+=n.right-e.right),n.left<e.left&&(i+=e.left-n.left))});return i},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),Rickshaw.namespace("Rickshaw.Graph.JSONP"),Rickshaw.Graph.JSONP=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){$.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),Rickshaw.namespace("Rickshaw.Graph.Legend"),Rickshaw.Graph.Legend=Rickshaw.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(t){var e=document.createElement("li");e.className="line",t.disabled&&(e.className+=" disabled"),t.className&&d3.select(e).classed(t.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=t.color,e.appendChild(i);var n=document.createElement("span");n.className="label",n.innerHTML=t.name,e.appendChild(n),this.list.appendChild(e),e.series=t,t.noLegend&&(e.style.display="none");var r={element:e,series:t};return this.shelving&&(this.shelving.addAnchor(r),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(r),this.lines.push(r),e}}),Rickshaw.namespace("Rickshaw.Graph.RangeSlider"),Rickshaw.Graph.RangeSlider=Rickshaw.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,i=e.dataDomain();$(function(){$(t).slider({range:!0,min:i[0],max:i[1],values:[i[0],i[1]],slide:function(t,i){if(!(i.values[1]<=i.values[0])){e.window.xMin=i.values[0],e.window.xMax=i.values[1],e.update();var n=e.dataDomain();n[0]==i.values[0]&&(e.window.xMin=void 0),n[1]==i.values[1]&&(e.window.xMax=void 0)}}})}),$(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,i=$(t).slider("option","values"),n=e.dataDomain();$(t).slider("option","min",n[0]),$(t).slider("option","max",n[1]),null==e.window.xMin&&(i[0]=n[0]),null==e.window.xMax&&(i[1]=n[1]),$(t).slider("option","values",i)}}),Rickshaw.namespace("Rickshaw.Graph.RangeSlider.Preview"),Rickshaw.Graph.RangeSlider.Preview=Rickshaw.Class.create({initialize:function(t){if(!t.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!t.graph&&!t.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=t.element,this.graphs=t.graph?[t.graph]:t.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0},this.defaults.gripperColor=d3.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.previews=[],t.width=t.width||this.graphs[0].width||this.defaults.width,t.height=t.height||this.graphs[0].height/5||this.defaults.height,this.configure(t),this.render()},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config={},this.configureCallbacks.forEach(function(e){e(t)}),Rickshaw.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),t.width&&this.previews.forEach(function(e){var i=t.width-2*this.config.frameHandleThickness;e.setSize({width:i})},this),t.height&&this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length;t.setSize({height:e})},this)},render:function(){var t=this;this.svg=d3.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var e=function(e,i){var n=Rickshaw.extend({},e.config),r=t.previewHeight/t.graphs.length;Rickshaw.extend(n,{element:this.appendChild(document.createElement("div")),height:r,width:t.previewWidth,series:e.series});var s=new Rickshaw.Graph(n);t.previews.push(s),e.onUpdate(function(){s.render(),t.render()}),e.onConfigure(function(t){delete t.height,s.configure(t),s.render()}),s.render()},i=d3.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),n="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";i.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",n).style("-moz-transform",n).style("-ms-transform",n).style("transform",n).each(e),i.exit().remove();var r=this.graphs[0],s=d3.scale.linear().domain([0,this.previewWidth]).range(r.dataDomain()),a=[r.window.xMin,r.window.xMax];this.currentFrame[0]=void 0===a[0]?0:Math.round(s.invert(a[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===a[1]?this.previewWidth:s.invert(a[1]),this.currentFrame[1]-this.currentFrame[0]<t.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+t.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","relative").style("top",-this.previewHeight+"px"),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).attr("height",this.config.height).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).attr("height",this.config.height).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").attr("height",this.config.height).style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness)},_registerMouseEvents:function(){function t(t,e){o.stop=l._getClientXFromEvent(d3.event,o);var i=o.stop-o.start,n=l.frameBeforeDrag.slice(0),r=l.config.minimumFrameWidth;o.rigid&&(r=l.frameBeforeDrag[1]-l.frameBeforeDrag[0]),o.left&&(n[0]=Math.max(n[0]+i,0)),o.right&&(n[1]=Math.min(n[1]+i,l.previewWidth));var s=n[1]-n[0];r>=s&&(o.left&&(n[0]=n[1]-r),o.right&&(n[1]=n[0]+r),n[0]<=0&&(n[1]-=n[0],n[0]=0),n[1]>=l.previewWidth&&(n[0]-=n[1]-l.previewWidth,n[1]=l.previewWidth)),l.graphs.forEach(function(t){var e=d3.scale.linear().interpolate(d3.interpolateRound).domain([0,l.previewWidth]).range(t.dataDomain()),i=[e(n[0]),e(n[1])];0===n[0]&&(i[0]=void 0),n[1]===l.previewWidth&&(i[1]=void 0),t.window.xMin=i[0],t.window.xMax=i[1],t.update()})}function e(){o.target=d3.event.target,o.start=l._getClientXFromEvent(d3.event,o),l.frameBeforeDrag=l.currentFrame.slice(),d3.event.preventDefault?d3.event.preventDefault():d3.event.returnValue=!1,d3.select(document).on("mousemove.rickshaw_range_slider_preview",t),d3.select(document).on("mouseup.rickshaw_range_slider_preview",s),d3.select(document).on("touchmove.rickshaw_range_slider_preview",t),d3.select(document).on("touchend.rickshaw_range_slider_preview",s),d3.select(document).on("touchcancel.rickshaw_range_slider_preview",s)}function i(t,i){o.left=!0,e()}function n(t,i){o.right=!0,e()}function r(t,i){o.left=!0,o.right=!0,o.rigid=!0,e()}function s(t,e){d3.select(document).on("mousemove.rickshaw_range_slider_preview",null),d3.select(document).on("mouseup.rickshaw_range_slider_preview",null),d3.select(document).on("touchmove.rickshaw_range_slider_preview",null),d3.select(document).on("touchend.rickshaw_range_slider_preview",null),d3.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete l.frameBeforeDrag,o.left=!1,o.right=!1,o.rigid=!1}var a=d3.select(this.element),o={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},l=this;a.select("rect.left_handle").on("mousedown",i),a.select("rect.right_handle").on("mousedown",n),a.select("rect.middle_handle").on("mousedown",r),a.select("rect.left_handle").on("touchstart",i),a.select("rect.right_handle").on("touchstart",n),a.select("rect.middle_handle").on("touchstart",r)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var i=t.changedTouches,n=null,r=0;r<i.length;r++)if(i[r].target===e.target){n=i[r];break}return null!==n?n.clientX:void 0;default:return t.clientX}}}),Rickshaw.namespace("Rickshaw.Graph.Renderer"),Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),i=e[0][0];if(void 0===i)return{x:[null,null],y:[null,null]};var n=i.x,r=i.x,s=i.y+i.y0,a=i.y+i.y0;return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;s>e&&(s=e),e>a&&(a=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>r&&(r=t[t.length-1].x))}),n-=(r-n)*this.padding.left,r+=(r-n)*this.padding.right,s="auto"===this.graph.min?s:this.graph.min||0,a=void 0===this.graph.max?a:this.graph.max,("auto"===this.graph.min||0>s)&&(s-=(a-s)*this.padding.bottom),void 0===this.graph.max&&(a+=(a-s)*this.padding.top),{x:[n,r],y:[s,a]}},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,n=t.vis||e.vis;n.selectAll("*").remove();var r=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=n.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var a=n.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var o=0;i.forEach(function(t){t.disabled||(t.path=s[0][o],this.stroke&&(t.stroke=a[0][o]),this._styleSeries(t),o++)},this)},_styleSeries:function(t){var e=this.fill?t.color:"none",i=this.stroke?t.color:"none";t.path.setAttribute("fill",e),t.path.setAttribute("stroke",i),t.path.setAttribute("stroke-width",this.strokeWidth),t.className&&d3.select(t.path).classed(t.className,!0),t.className&&this.stroke&&d3.select(t.stroke).classed(t.className,!0)},configure:function(t){t=t||{},Rickshaw.keys(this.defaults()).forEach(function(e){return t.hasOwnProperty(e)?void("object"==typeof this.defaults()[e]?Rickshaw.keys(this.defaults()[e]).forEach(function(i){this[e][i]=void 0!==t[e][i]?t[e][i]:void 0!==this[e][i]?this[e][i]:this.defaults()[e][i]},this):this[e]=void 0!==t[e]?t[e]:void 0!==this[e]?this[e]:void 0!==this.graph[e]?this.graph[e]:this.defaults()[e]):void(this[e]=this[e]||this.graph[e]||this.defaults()[e])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.Line"),Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",defaults:function(t){return Rickshaw.extend(t(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var t=this.graph,e=d3.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(t){return null!==t.y}),e}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack"),Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",defaults:function(t){return Rickshaw.extend(t(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var t=this.graph,e=d3.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(t){return null!==t.y}),e}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar"),Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",defaults:function(t){var e=Rickshaw.extend(t(),{gapSize:.05,unstack:!1});return delete e.tension,e},initialize:function(t,e){e=e||{},this.gapSize=e.gapSize||this.gapSize,t(e)},domain:function(t){var e=t(),i=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return e.x[1]+=Number(i.magnitude),e},barWidth:function(t){var e=this._frequentInterval(t.stack),i=this.graph.x(t.stack[0].x+e.magnitude*(1-this.gapSize));return i},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,n=t.vis||e.vis;n.selectAll("*").remove();var r=this.barWidth(i.active()[0]),s=0,a=i.filter(function(t){return!t.disabled}).length,o=this.unstack?r/a:r,l=function(t){var i=[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0];return"matrix("+i.join(",")+")"};i.forEach(function(t){if(!t.disabled){var i=(this.barWidth(t),n.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+s}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",o).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("transform",l));Array.prototype.forEach.call(i[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(s+=o)}},this)},_frequentInterval:function(t){for(var e={},i=0;i<t.length-1;i++){var n=t[i+1].x-t[i].x;e[n]=e[n]||0,e[n]++}var r={count:0,magnitude:1};return Rickshaw.keys(e).forEach(function(t){r.count<e[t]&&(r={count:e[t],magnitude:t})}),r}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.Area"),Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",defaults:function(t){return Rickshaw.extend(t(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var t=this.graph,e=d3.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return e.defined&&e.defined(function(t){return null!==t.y}),e},seriesStrokeFactory:function(){var t=this.graph,e=d3.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return e.defined&&e.defined(function(t){return null!==t.y}),e},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,n=t.vis||e.vis;n.selectAll("*").remove();var r=this.unstack?"append":"insert",s=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=n.selectAll("path").data(s).enter()[r]("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var o=0;i.forEach(function(t){t.disabled||(t.path=a[0][o++],this._styleSeries(t))},this)},_styleSeries:function(t){t.path&&(d3.select(t.path).select(".area").attr("fill",t.color),this.stroke&&d3.select(t.path).select(".line").attr("fill","none").attr("stroke",t.stroke||d3.interpolateRgb(t.color,"black")(.125)).attr("stroke-width",this.strokeWidth),t.className&&t.path.setAttribute("class",t.className))}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",defaults:function(t){return Rickshaw.extend(t(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(t,e){t(e)},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,n=t.vis||e.vis,r=this.dotSize;n.selectAll("*").remove(),i.forEach(function(t){if(!t.disabled){var i=n.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});t.className&&i.classed(t.className,!0),Array.prototype.forEach.call(i[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.Multi"),Rickshaw.Graph.Renderer.Multi=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"multi",initialize:function(t,e){t(e)},defaults:function(t){return Rickshaw.extend(t(),{unstack:!0,fill:!1,stroke:!0})},configure:function(t,e){e=e||{},this.config=e,t(e)},domain:function(t){this.graph.stackData();var e=[],i=this._groups();this._stack(i),i.forEach(function(i){var n=i.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(n.length){var r=t(n);e.push(r)}});var n=d3.min(e.map(function(t){return t.x[0]})),r=d3.max(e.map(function(t){return t.x[1]})),s=d3.min(e.map(function(t){return t.y[0];
})),a=d3.max(e.map(function(t){return t.y[1]}));return{x:[n,r],y:[s,a]}},_groups:function(){var t=this.graph,e={};t.series.forEach(function(i){if(!i.disabled){if(!e[i.renderer]){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"g");t.vis[0][0].appendChild(r);var s=t._renderers[i.renderer],a={},o=[this.defaults(),s.defaults(),this.config,this.graph];o.forEach(function(t){Rickshaw.extend(a,t)}),s.configure(a),e[i.renderer]={renderer:s,series:[],vis:d3.select(r)}}e[i.renderer].series.push(i)}},this);var i=[];return Object.keys(e).forEach(function(t){var n=e[t];i.push(n)}),i},_stack:function(t){return t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled}),i=e.map(function(t){return t.stack});if(!t.renderer.unstack){var n=d3.layout.stack(),r=Rickshaw.clone(n(i));e.forEach(function(t,e){t._stack=Rickshaw.clone(r[e])})}},this),t},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),Rickshaw.namespace("Rickshaw.Graph.Renderer.LinePlot"),Rickshaw.Graph.Renderer.LinePlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"lineplot",defaults:function(t){return Rickshaw.extend(t(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},initialize:function(t,e){t(e)},seriesPathFactory:function(){var t=this.graph,e=d3.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return e.defined&&e.defined(function(t){return null!==t.y}),e},_renderDots:function(){var t=this.graph;t.series.forEach(function(e){if(!e.disabled){var i=t.vis.selectAll("x").data(e.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(e){return t.x(e.x)}).attr("cy",function(e){return t.y(e.y)}).attr("r",function(e){return"r"in e?e.r:t.renderer.dotSize});Array.prototype.forEach.call(i[0],function(t){t&&(t.setAttribute("data-color",e.color),t.setAttribute("fill","white"),t.setAttribute("stroke",e.color),t.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)},_renderLines:function(){var t=this.graph,e=t.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",this.seriesPathFactory()),i=0;t.series.forEach(function(t){t.disabled||(t.path=e[0][i++],this._styleSeries(t))},this)},render:function(){var t=this.graph;t.vis.selectAll("*").remove(),this._renderLines(),this._renderDots()}}),Rickshaw.namespace("Rickshaw.Graph.Smoother"),Rickshaw.Graph.Smoother=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this;this.element&&$(function(){$(t.element).slider({min:1,max:100,slide:function(e,i){t.setScale(i.value),t.graph.update()}})})},setScale:function(t){if(1>t)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var i=[];t.length;){var n=0,r=0,s=t.splice(0,this.aggregationScale);s.forEach(function(t){n+=t.x/s.length,r+=t.y/s.length}),i.push({x:n,y:r})}e.push(i)}.bind(this)),e}}),Rickshaw.namespace("Rickshaw.Graph.Socketio"),Rickshaw.Graph.Socketio=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),Rickshaw.namespace("Rickshaw.Series"),Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(t,e,i){i=i||{},this.palette=new Rickshaw.Color.Palette(e),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase;var n="undefined"==typeof i.timeInterval?1e3:i.timeInterval;this.setTimeInterval(n),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if("undefined"==typeof t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,e){var i=this.getIndex();Rickshaw.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(n){n.data.push({x:e||(i*this.timeInterval||1)+this.timeBase,y:t[n.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var i={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){i.data.push({x:t.x,y:t.y})}),t.items.push(i)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),Rickshaw.Series.zeroFill=function(t){Rickshaw.Series.fill(t,0)},Rickshaw.Series.fill=function(t,e){for(var i,n=0,r=t.map(function(t){return t.data});n<Math.max.apply(null,r.map(function(t){return t.length}));)i=Math.min.apply(null,r.filter(function(t){return t[n]}).map(function(t){return t[n].x})),r.forEach(function(t){t[n]&&t[n].x==i||t.splice(n,0,{x:i,y:e})}),n++},Rickshaw.namespace("Rickshaw.Series.FixedDuration"),Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(t,e,i){if(i=i||{},"undefined"==typeof i.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof i.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new Rickshaw.Color.Palette(e),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase,this.setTimeInterval(i.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=i.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var n=this.maxDataPoints-this.currentSize-1;n>1;n--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((n-1)*this.timeInterval||1)+this.timeBase,y:0,i:n})},this)},addData:function(t,e,i){if(t(e,i),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),!function(t){var e,i,n="0.4.2",r="hasOwnProperty",s=/[\.\/]/,a="*",o=function(){},l=function(t,e){return t-e},h={n:{}},c=function(t,n){t=String(t);var r,s=i,a=Array.prototype.slice.call(arguments,2),o=c.listeners(t),h=0,u=[],d={},p=[],f=e;e=t,i=0;for(var g=0,m=o.length;m>g;g++)"zIndex"in o[g]&&(u.push(o[g].zIndex),o[g].zIndex<0&&(d[o[g].zIndex]=o[g]));for(u.sort(l);u[h]<0;)if(r=d[u[h++]],p.push(r.apply(n,a)),i)return i=s,p;for(g=0;m>g;g++)if(r=o[g],"zIndex"in r)if(r.zIndex==u[h]){if(p.push(r.apply(n,a)),i)break;do if(h++,r=d[u[h]],r&&p.push(r.apply(n,a)),i)break;while(r)}else d[r.zIndex]=r;else if(p.push(r.apply(n,a)),i)break;return i=s,e=f,p.length?p:null};c._events=h,c.listeners=function(t){var e,i,n,r,o,l,c,u,d=t.split(s),p=h,f=[p],g=[];for(r=0,o=d.length;o>r;r++){for(u=[],l=0,c=f.length;c>l;l++)for(p=f[l].n,i=[p[d[r]],p[a]],n=2;n--;)e=i[n],e&&(u.push(e),g=g.concat(e.f||[]));f=u}return g},c.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),n=h,r=0,a=i.length;a>r;r++)n=n.n,n=n.hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,a=n.f.length;a>r;r++)if(n.f[r]==e)return o;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(s)},c.off=c.unbind=function(t,e){if(!t)return void(c._events=h={n:{}});var i,n,o,l,u,d,p,f=t.split(s),g=[h];for(l=0,u=f.length;u>l;l++)for(d=0;d<g.length;d+=o.length-2){if(o=[d,1],i=g[d].n,f[l]!=a)i[f[l]]&&o.push(i[f[l]]);else for(n in i)i[r](n)&&o.push(i[n]);g.splice.apply(g,o)}for(l=0,u=g.length;u>l;l++)for(i=g[l];i.n;){if(e){if(i.f){for(d=0,p=i.f.length;p>d;d++)if(i.f[d]==e){i.f.splice(d,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[r](n)&&i.n[n].f){var m=i.n[n].f;for(d=0,p=m.length;p>d;d++)if(m[d]==e){m.splice(d,1);break}!m.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[r](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){function i(t){if(i.is(t,"function"))return _?t():e.on("raphael.DOMload",t);if(i.is(t,V))return i._engine.create[E](i,t.splice(0,3+i.is(t[0],U))).add(t);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var r=n.pop();return _?r.call(i._engine.create[E](i,n)):e.on("raphael.DOMload",function(){r.call(i._engine.create[E](i,n))})}return i._engine.create[E](i,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[S](i)&&(e[i]=n(t[i]));return e}function r(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function s(t,e,i){function n(){var s=Array.prototype.slice.call(arguments,0),a=s.join(""),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[S](a)?(r(l,a),i?i(o[a]):o[a]):(l.length>=1e3&&delete o[l.shift()],l.push(a),o[a]=t[E](e,s),i?i(o[a]):o[a])}return n}function a(){return this.hex}function o(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function l(t,e,i,n,r){var s=-3*e+9*i-9*n+3*r,a=t*s+6*e-12*i+6*n;return t*a-3*e+3*i}function h(t,e,i,n,r,s,a,o,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var c=h/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;u>g;g++){var m=c*d[g]+c,v=l(m,t,i,r,a),y=l(m,e,n,s,o),b=v*v+y*y;f+=p[g]*F.sqrt(b)}return c*f}function c(t,e,i,n,r,s,a,o,l){if(!(0>l||h(t,e,i,n,r,s,a,o)<l)){var c,u=1,d=u/2,p=u-d,f=.01;for(c=h(t,e,i,n,r,s,a,o,p);j(c-l)>f;)d/=2,p+=(l>c?1:-1)*d,c=h(t,e,i,n,r,s,a,o,p);return p}}function u(t,e,i,n,r,s,a,o){if(!(B(t,i)<W(r,a)||W(t,i)>B(r,a)||B(e,n)<W(s,o)||W(e,n)>B(s,o))){var l=(t*n-e*i)*(r-a)-(t-i)*(r*o-s*a),h=(t*n-e*i)*(s-o)-(e-n)*(r*o-s*a),c=(t-i)*(s-o)-(e-n)*(r-a);if(c){var u=l/c,d=h/c,p=+u.toFixed(2),f=+d.toFixed(2);if(!(p<+W(t,i).toFixed(2)||p>+B(t,i).toFixed(2)||p<+W(r,a).toFixed(2)||p>+B(r,a).toFixed(2)||f<+W(e,n).toFixed(2)||f>+B(e,n).toFixed(2)||f<+W(s,o).toFixed(2)||f>+B(s,o).toFixed(2)))return{x:u,y:d}}}}function d(t,e,n){var r=i.bezierBBox(t),s=i.bezierBBox(e);if(!i.isBBoxIntersect(r,s))return n?0:[];for(var a=h.apply(0,t),o=h.apply(0,e),l=B(~~(a/5),1),c=B(~~(o/5),1),d=[],p=[],f={},g=n?0:[],m=0;l+1>m;m++){var v=i.findDotsAtSegment.apply(i,t.concat(m/l));d.push({x:v.x,y:v.y,t:m/l})}for(m=0;c+1>m;m++)v=i.findDotsAtSegment.apply(i,e.concat(m/c)),p.push({x:v.x,y:v.y,t:m/c});for(m=0;l>m;m++)for(var y=0;c>y;y++){var b=d[m],_=d[m+1],w=p[y],x=p[y+1],k=j(_.x-b.x)<.001?"y":"x",C=j(x.x-w.x)<.001?"y":"x",S=u(b.x,b.y,_.x,_.y,w.x,w.y,x.x,x.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var M=b.t+j((S[k]-b[k])/(_[k]-b[k]))*(_.t-b.t),T=w.t+j((S[C]-w[C])/(x[C]-w[C]))*(x.t-w.t);M>=0&&1.001>=M&&T>=0&&1.001>=T&&(n?g++:g.push({x:S.x,y:S.y,t1:W(M,1),t2:W(T,1)}))}}return g}function p(t,e,n){t=i._path2curve(t),e=i._path2curve(e);for(var r,s,a,o,l,h,c,u,p,f,g=n?0:[],m=0,v=t.length;v>m;m++){var y=t[m];if("M"==y[0])r=l=y[1],s=h=y[2];else{"C"==y[0]?(p=[r,s].concat(y.slice(1)),r=p[6],s=p[7]):(p=[r,s,r,s,l,h,l,h],r=l,s=h);for(var b=0,_=e.length;_>b;b++){var w=e[b];if("M"==w[0])a=c=w[1],o=u=w[2];else{"C"==w[0]?(f=[a,o].concat(w.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,c,u,c,u],a=c,o=u);var x=d(p,f,n);if(n)g+=x;else{for(var k=0,C=x.length;C>k;k++)x[k].segment1=m,x[k].segment2=b,x[k].bez1=p,x[k].bez2=f;g=g.concat(x)}}}}}return g}function f(t,e,i,n,r,s){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+A+this.y+A+this.width+"  "+this.height}function m(t,e,i,n,r,s){function a(t){return((u*t+c)*t+h)*t}function o(t,e){var i=l(t,e);return((f*i+p)*i+d)*i}function l(t,e){var i,n,r,s,o,l;for(r=t,l=0;8>l;l++){if(s=a(r)-t,j(s)<e)return r;if(o=(3*u*r+2*c)*r+h,j(o)<1e-6)break;r-=s/o}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(s=a(r),j(s-t)<e)return r;t>s?i=r:n=r,r=(n-i)/2+i}return r}var h=3*e,c=3*(n-e)-h,u=1-h-c,d=3*i,p=3*(r-i)-d,f=1-d-p;return o(t,1/(200*s))}function v(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[S](r)&&(n[J(r)]=t[r],i.push(J(r)));i.sort(ut)}this.anim=n,this.top=i[i.length-1],this.percents=i}function y(t,n,r,s,a,o){r=J(r);var l,h,c,u,d,p,g=t.ms,v={},y={},b={};if(s)for(w=0,k=le.length;k>w;w++){var _=le[w];if(_.el.id==n.id&&_.anim==t){_.percent!=r?(le.splice(w,1),c=1):h=_,n.attr(_.totalOrigin);break}}else s=+y;for(var w=0,k=t.percents.length;k>w;w++){if(t.percents[w]==r||t.percents[w]>s*t.top){r=t.percents[w],d=t.percents[w-1]||0,g=g/t.top*(r-d),u=t.percents[w+1],l=t.anim[r];break}s&&n.attr(t.anim[t.percents[w]])}if(l){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var C in l)if(l[S](C)&&(nt[S](C)||n.paper.customAttributes[S](C)))switch(v[C]=n.attr(C),null==v[C]&&(v[C]=it[C]),y[C]=l[C],nt[C]){case U:b[C]=(y[C]-v[C])/g;break;case"colour":v[C]=i.getRGB(v[C]);var M=i.getRGB(y[C]);b[C]={r:(M.r-v[C].r)/g,g:(M.g-v[C].g)/g,b:(M.b-v[C].b)/g};break;case"path":var T=Lt(v[C],y[C]),P=T[1];for(v[C]=T[0],b[C]=[],w=0,k=v[C].length;k>w;w++){b[C][w]=[0];for(var E=1,R=v[C][w].length;R>E;E++)b[C][w][E]=(P[w][E]-v[C][w][E])/g}break;case"transform":var I=n._,A=Wt(I[C],y[C]);if(A)for(v[C]=A.from,y[C]=A.to,b[C]=[],b[C].real=!0,w=0,k=v[C].length;k>w;w++)for(b[C][w]=[v[C][w][0]],E=1,R=v[C][w].length;R>E;E++)b[C][w][E]=(y[C][w][E]-v[C][w][E])/g;else{var L=n.matrix||new f,H={_:{transform:I.transform},getBBox:function(){return n.getBBox(1)}};v[C]=[L.a,L.b,L.c,L.d,L.e,L.f],Ft(H,y[C]),y[C]=H._.transform,b[C]=[(H.matrix.a-L.a)/g,(H.matrix.b-L.b)/g,(H.matrix.c-L.c)/g,(H.matrix.d-L.d)/g,(H.matrix.e-L.e)/g,(H.matrix.f-L.f)/g]}break;case"csv":var N=z(l[C])[O](x),F=z(v[C])[O](x);if("clip-rect"==C)for(v[C]=F,b[C]=[],w=F.length;w--;)b[C][w]=(N[w]-v[C][w])/g;y[C]=N;break;default:for(N=[][D](l[C]),F=[][D](v[C]),b[C]=[],w=n.paper.customAttributes[C].length;w--;)b[C][w]=((N[w]||0)-(F[w]||0))/g}var B=l.easing,W=i.easing_formulas[B];if(!W)if(W=z(B).match(Z),W&&5==W.length){var j=W;W=function(t){return m(t,+j[1],+j[2],+j[3],+j[4],g)}}else W=pt;if(p=l.start||t.start||+new Date,_={anim:t,percent:r,timestamp:p,start:p+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:W,from:v,diff:b,to:y,el:n,callback:l.callback,prev:d,next:u,repeat:o||t.times,origin:n.attr(),totalOrigin:a},le.push(_),s&&!h&&!c&&(_.stop=!0,_.start=new Date-g*s,1==le.length))return ce();c&&(_.start=new Date-_.ms*s),1==le.length&&he(ce)}e("raphael.anim.start."+n.id,n,t)}}function b(t){for(var e=0;e<le.length;e++)le[e].el.paper==t&&le.splice(e--,1)}i.version="2.1.2",i.eve=e;var _,w,x=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="hasOwnProperty",M={doc:document,win:t},T={was:Object.prototype[S].call(M.win,"Raphael"),is:M.win.Raphael},P=function(){this.ca=this.customAttributes={}},E="apply",D="concat",R="ontouchstart"in M.win||M.win.DocumentTouch&&M.doc instanceof DocumentTouch,I="",A=" ",z=String,O="split",L="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[O](A),H={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},N=z.prototype.toLowerCase,F=Math,B=F.max,W=F.min,j=F.abs,Y=F.pow,$=F.PI,U="number",q="string",V="array",X=Object.prototype.toString,G=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Q={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=F.round,J=parseFloat,tt=parseInt,et=z.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:U,"clip-rect":"csv",cx:U,cy:U,fill:"colour","fill-opacity":U,"font-size":U,height:U,opacity:U,path:"path",r:U,rx:U,ry:U,stroke:"colour","stroke-opacity":U,"stroke-width":U,transform:"transform",width:U,x:U,y:U},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,st={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ct=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},dt=function(){},pt=function(t){return t},ft=i._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},gt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},mt=i._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},vt=i.mapPath=function(t,e){if(!e)return t;var i,n,r,s,a,o,l;for(t=Lt(t),r=0,a=t.length;a>r;r++)for(l=t[r],s=1,o=l.length;o>s;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n;return t};if(i._g=M,i.type=M.win.SVGAngle||M.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var yt,bt=M.doc.createElement("div");if(bt.innerHTML='<v:shape adj="1"/>',yt=bt.firstChild,yt.style.behavior="url(#default#VML)",!yt||"object"!=typeof yt.adj)return i.type=I;bt=null}i.svg=!(i.vml="VML"==i.type),i._Paper=P,i.fn=w=P.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(t,e){return e=N.call(e),"finite"==e?!Q[S](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||X.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,r,s,a){if(null==s){var o=t-n,l=e-r;return o||l?(180+180*F.atan2(-l,-o)/$+360)%360:0}return i.angle(t,e,s,a)-i.angle(n,r,s,a)},i.rad=function(t){return t%360*$/180},i.deg=function(t){return 180*t/$%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,V)){for(var r=t.length;r--;)if(j(t[r]-e)<=n)return t[r]}else{t=+t;var s=e%t;if(n>s)return e-s;if(s>t-n)return e-s+t}return e},i.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*F.random(),i="x"==t?e:8|3&e;return i.toString(16)}),i.setWindow=function(t){e("raphael.setWindow",i,M.win,t),M.win=t,M.doc=M.win.document,i._engine.initWin&&i._engine.initWin(M.win)};var _t=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),e=r.body}catch(a){e=createPopup().document.body}var o=e.createTextRange();_t=s(function(t){try{e.style.color=z(t).replace(n,I);var i=o.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=M.doc.createElement("i");l.title="Raphal Colour Picker",l.style.display="none",M.doc.body.appendChild(l),_t=s(function(t){return l.style.color=t,M.doc.defaultView.getComputedStyle(l,I).getPropertyValue("color")})}return _t(t)},wt=function(){return"hsb("+[this.h,this.s,this.b]+")"},xt=function(){return"hsl("+[this.h,this.s,this.l]+")"},kt=function(){return this.hex},Ct=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,q)){var r=i.getRGB(t);t=r.r,e=r.g,n=r.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},St=function(t,e,n,r){t*=255,e*=255,n*=255;var s={r:t,g:e,b:n,hex:i.rgb(t,e,n),toString:kt};return i.is(r,"finite")&&(s.opacity=r),s};i.color=function(t){var e;return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(i.is(t,"string")&&(t=i.getRGB(t)),i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=kt,t},i.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,s,a,o,l;return t=t%360/60,l=i*e,o=l*(1-j(t%2-1)),r=s=a=i-l,t=~~t,r+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],St(r,s,a,n)},i.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,s,a,o,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),o=l*(1-j(t%2-1)),r=s=a=i-l/2,t=~~t,r+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],St(r,s,a,n)},i.rgb2hsb=function(t,e,i){i=Ct(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,a;return s=B(t,e,i),a=s-W(t,e,i),n=0==a?null:s==t?(e-i)/a:s==e?(i-t)/a+2:(t-e)/a+4,n=60*((n+360)%6)/360,r=0==a?0:a/s,{h:n,s:r,b:s,toString:wt}},i.rgb2hsl=function(t,e,i){i=Ct(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,a,o,l;return a=B(t,e,i),o=W(t,e,i),l=a-o,n=0==l?null:a==t?(e-i)/l:a==e?(i-t)/l+2:(t-e)/l+4,n=60*((n+360)%6)/360,s=(a+o)/2,r=0==l?0:.5>s?l/(2*s):l/(2-2*s),{h:n,s:r,l:s,toString:xt}},i._path2string=function(){return this.join(",").replace(at,"$1")},i._preload=function(t,e){var i=M.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,M.doc.body.removeChild(this)},i.onerror=function(){M.doc.body.removeChild(this)},M.doc.body.appendChild(i),i.src=t},i.getRGB=s(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(st[S](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=_t(t));var e,n,r,s,o,l,h=t.match(G);return h?(h[2]&&(r=tt(h[2].substring(5),16),n=tt(h[2].substring(3,5),16),e=tt(h[2].substring(1,3),16)),h[3]&&(r=tt((o=h[3].charAt(3))+o,16),n=tt((o=h[3].charAt(2))+o,16),e=tt((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][O](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][O](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||""==l[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(e,n,r,s)):h[6]?(l=h[6][O](rt),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||""==l[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(e,n,r,s)):(h={r:e,g:n,b:r,toString:a},h.hex="#"+(16777216|r|n<<8|e<<16).toString(16).slice(1),i.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},i),i.hsb=s(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=s(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=s(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(t){if(!t)return null;var e=Mt(t);if(e.arr)return Pt(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return i.is(t,V)&&i.is(t[0],V)&&(r=Pt(t)),r.length||z(t).replace(ot,function(t,e,i){var s=[],a=e.toLowerCase();if(i.replace(ht,function(t,e){e&&s.push(+e)}),"m"==a&&s.length>2&&(r.push([e][D](s.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)r.push([e][D](s));else for(;s.length>=n[a]&&(r.push([e][D](s.splice(0,n[a]))),n[a]););}),r.toString=i._path2string,e.arr=Pt(r),r},i.parseTransformString=s(function(t){if(!t)return null;var e=[];return i.is(t,V)&&i.is(t[0],V)&&(e=Pt(t)),e.length||z(t).replace(lt,function(t,i,n){var r=[];N.call(i),n.replace(ht,function(t,e){e&&r.push(+e)}),e.push([i][D](r))}),e.toString=i._path2string,e});var Mt=function(t){var e=Mt.ps=Mt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[S](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};i.findDotsAtSegment=function(t,e,i,n,r,s,a,o,l){var h=1-l,c=Y(h,3),u=Y(h,2),d=l*l,p=d*l,f=c*t+3*u*l*i+3*h*l*l*r+p*a,g=c*e+3*u*l*n+3*h*l*l*s+p*o,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(s-2*n+e),y=i+2*l*(r-i)+d*(a-2*r+i),b=n+2*l*(s-n)+d*(o-2*s+n),_=h*t+l*i,w=h*e+l*n,x=h*r+l*a,k=h*s+l*o,C=90-180*F.atan2(m-y,v-b)/$;return(m>y||b>v)&&(C+=180),{x:f,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:_,y:w},end:{x:x,y:k},alpha:C}},i.bezierBBox=function(t,e,n,r,s,a,o,l){i.is(t,"array")||(t=[t,e,n,r,s,a,o,l]);var h=Ot.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},i.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},i.isBBoxIntersect=function(t,e){var n=i.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},i.pathIntersection=function(t,e){return p(t,e)},i.pathIntersectionNumber=function(t,e){return p(t,e,1)},i.isPointInsidePath=function(t,e,n){var r=i.pathBBox(t);return i.isPointInsideBBox(r,e,n)&&1==p(t,[["M",e,n],["H",r.x2+10]],1)%2},i._removedFactory=function(t){return function(){e("raphael.log",null,"Raphal: you are calling to method "+t+" of removed object",t)}};var Tt=i.pathBBox=function(t){var e=Mt(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Lt(t);for(var i,r=0,s=0,a=[],o=[],l=0,h=t.length;h>l;l++)if(i=t[l],"M"==i[0])r=i[1],s=i[2],a.push(r),o.push(s);else{var c=Ot(r,s,i[1],i[2],i[3],i[4],i[5],i[6]);a=a[D](c.min.x,c.max.x),o=o[D](c.min.y,c.max.y),r=i[5],s=i[6]}var u=W[E](0,a),d=W[E](0,o),p=B[E](0,a),f=B[E](0,o),g=p-u,m=f-d,v={x:u,y:d,x2:p,y2:f,width:g,height:m,cx:u+g/2,cy:d+m/2};return e.bbox=n(v),v},Pt=function(t){var e=n(t);return e.toString=i._path2string,e},Et=i._pathToRelative=function(t){var e=Mt(t);if(e.rel)return Pt(e.rel);i.is(t,V)&&i.is(t&&t[0],V)||(t=i.parsePathString(t));var n=[],r=0,s=0,a=0,o=0,l=0;"M"==t[0][0]&&(r=t[0][1],s=t[0][2],a=r,o=s,l++,n.push(["M",r,s]));for(var h=l,c=t.length;c>h;h++){var u=n[h]=[],d=t[h];if(d[0]!=N.call(d[0]))switch(u[0]=N.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-r).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":a=d[1],o=d[2];default:for(var p=1,f=d.length;f>p;p++)u[p]=+(d[p]-(p%2?r:s)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(a=d[1]+r,o=d[2]+s);for(var g=0,m=d.length;m>g;g++)n[h][g]=d[g]}var v=n[h].length;switch(n[h][0]){case"z":r=a,s=o;break;case"h":r+=+n[h][v-1];break;case"v":s+=+n[h][v-1];break;default:r+=+n[h][v-2],s+=+n[h][v-1]}}return n.toString=i._path2string,
e.rel=Pt(n),n},Dt=i._pathToAbsolute=function(t){var e=Mt(t);if(e.abs)return Pt(e.abs);if(i.is(t,V)&&i.is(t&&t[0],V)||(t=i.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,s=0,a=0,l=0,h=0;"M"==t[0][0]&&(r=+t[0][1],s=+t[0][2],a=r,l=s,h++,n[0]=["M",r,s]);for(var c,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,f=t.length;f>p;p++){if(n.push(c=[]),u=t[p],u[0]!=et.call(u[0]))switch(c[0]=et.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+r),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+r;break;case"R":for(var g=[r,s][D](u.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+r,g[++m]=+g[m]+s;n.pop(),n=n[D](o(g,d));break;case"M":a=+u[1]+r,l=+u[2]+s;default:for(m=1,v=u.length;v>m;m++)c[m]=+u[m]+(m%2?r:s)}else if("R"==u[0])g=[r,s][D](u.slice(1)),n.pop(),n=n[D](o(g,d)),c=["R"][D](u.slice(-2));else for(var y=0,b=u.length;b>y;y++)c[y]=u[y];switch(c[0]){case"Z":r=a,s=l;break;case"H":r=c[1];break;case"V":s=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],s=c[c.length-1]}}return n.toString=i._path2string,e.abs=Pt(n),n},Rt=function(t,e,i,n){return[t,e,i,n,i,n]},It=function(t,e,i,n,r,s){var a=1/3,o=2/3;return[a*t+o*i,a*e+o*n,a*r+o*i,a*s+o*n,r,s]},At=function(t,e,i,n,r,a,o,l,h,c){var u,d=120*$/180,p=$/180*(+r||0),f=[],g=s(function(t,e,i){var n=t*F.cos(i)-e*F.sin(i),r=t*F.sin(i)+e*F.cos(i);return{x:n,y:r}});if(c)C=c[0],S=c[1],x=c[2],k=c[3];else{u=g(t,e,-p),t=u.x,e=u.y,u=g(l,h,-p),l=u.x,h=u.y;var m=(F.cos($/180*r),F.sin($/180*r),(t-l)/2),v=(e-h)/2,y=m*m/(i*i)+v*v/(n*n);y>1&&(y=F.sqrt(y),i=y*i,n=y*n);var b=i*i,_=n*n,w=(a==o?-1:1)*F.sqrt(j((b*_-b*v*v-_*m*m)/(b*v*v+_*m*m))),x=w*i*v/n+(t+l)/2,k=w*-n*m/i+(e+h)/2,C=F.asin(((e-k)/n).toFixed(9)),S=F.asin(((h-k)/n).toFixed(9));C=x>t?$-C:C,S=x>l?$-S:S,0>C&&(C=2*$+C),0>S&&(S=2*$+S),o&&C>S&&(C-=2*$),!o&&S>C&&(S-=2*$)}var M=S-C;if(j(M)>d){var T=S,P=l,E=h;S=C+d*(o&&S>C?1:-1),l=x+i*F.cos(S),h=k+n*F.sin(S),f=At(l,h,i,n,r,0,o,P,E,[S,T,x,k])}M=S-C;var R=F.cos(C),I=F.sin(C),A=F.cos(S),z=F.sin(S),L=F.tan(M/4),H=4/3*i*L,N=4/3*n*L,B=[t,e],W=[t+H*I,e-N*R],Y=[l+H*z,h-N*A],U=[l,h];if(W[0]=2*B[0]-W[0],W[1]=2*B[1]-W[1],c)return[W,Y,U][D](f);f=[W,Y,U][D](f).join()[O](",");for(var q=[],V=0,X=f.length;X>V;V++)q[V]=V%2?g(f[V-1],f[V],p).y:g(f[V],f[V+1],p).x;return q},zt=function(t,e,i,n,r,s,a,o,l){var h=1-l;return{x:Y(h,3)*t+3*Y(h,2)*l*i+3*h*l*l*r+Y(l,3)*a,y:Y(h,3)*e+3*Y(h,2)*l*n+3*h*l*l*s+Y(l,3)*o}},Ot=s(function(t,e,i,n,r,s,a,o){var l,h=r-2*i+t-(a-2*r+i),c=2*(i-t)-2*(r-i),u=t-i,d=(-c+F.sqrt(c*c-4*h*u))/2/h,p=(-c-F.sqrt(c*c-4*h*u))/2/h,f=[e,o],g=[t,a];return j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=zt(t,e,i,n,r,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=zt(t,e,i,n,r,s,a,o,p),g.push(l.x),f.push(l.y)),h=s-2*n+e-(o-2*s+n),c=2*(n-e)-2*(s-n),u=e-n,d=(-c+F.sqrt(c*c-4*h*u))/2/h,p=(-c-F.sqrt(c*c-4*h*u))/2/h,j(d)>"1e12"&&(d=.5),j(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=zt(t,e,i,n,r,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=zt(t,e,i,n,r,s,a,o,p),g.push(l.x),f.push(l.y)),{min:{x:W[E](0,g),y:W[E](0,f)},max:{x:B[E](0,g),y:B[E](0,f)}}}),Lt=i._path2curve=s(function(t,e){var i=!e&&Mt(t);if(!e&&i.curve)return Pt(i.curve);for(var n=Dt(t),r=e&&Dt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][D](At[E](0,[e.x,e.y][D](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][D](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][D](It(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][D](It(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][D](Rt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][D](Rt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][D](Rt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][D](Rt(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][D](i.splice(0,6)));t.splice(e,1),u=B(n.length,r&&r.length||0)}},h=function(t,e,i,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],u=B(n.length,r&&r.length||0))},c=0,u=B(n.length,r&&r.length||0);u>c;c++){n[c]=o(n[c],s),l(n,c),r&&(r[c]=o(r[c],a)),r&&l(r,c),h(n,r,s,a,c),h(r,n,a,s,c);var d=n[c],p=r&&r[c],f=d.length,g=r&&p.length;s.x=d[f-2],s.y=d[f-1],s.bx=J(d[f-4])||s.x,s.by=J(d[f-3])||s.y,a.bx=r&&(J(p[g-4])||a.x),a.by=r&&(J(p[g-3])||a.y),a.x=r&&p[g-2],a.y=r&&p[g-1]}return r||(i.curve=Pt(n)),r?[n,r]:n},null,Pt),Ht=(i._parseDots=s(function(t){for(var e=[],n=0,r=t.length;r>n;n++){var s={},a=t[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=i.getRGB(a[1]),s.color.error)return null;s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),e.push(s)}for(n=1,r=e.length-1;r>n;n++)if(!e[n].offset){for(var o=J(e[n-1].offset||0),l=0,h=n+1;r>h;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=r),l=J(l);for(var c=(l-o)/(h-n+1);h>n;n++)o+=c,e[n].offset=o+"%"}return e}),i._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Nt=(i._tofront=function(t,e){e.top!==t&&(Ht(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},i._toback=function(t,e){e.bottom!==t&&(Ht(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},i._insertafter=function(t,e,i){Ht(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},i._insertbefore=function(t,e,i){Ht(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},i.toMatrix=function(t,e){var i=Tt(t),n={_:{transform:I},getBBox:function(){return i}};return Ft(n,e),n.matrix}),Ft=(i.transformPath=function(t,e){return vt(t,Nt(t,e))},i._extractTransform=function(t,e){if(null==e)return t._.transform;e=z(e).replace(/\.{3}|\u2026/g,t._.transform||I);var n=i.parseTransformString(e),r=0,s=0,a=0,o=1,l=1,h=t._,c=new f;if(h.transform=n||[],n)for(var u=0,d=n.length;d>u;u++){var p,g,m,v,y,b=n[u],_=b.length,w=z(b[0]).toLowerCase(),x=b[0]!=w,k=x?c.invert():0;"t"==w&&3==_?x?(p=k.x(0,0),g=k.y(0,0),m=k.x(b[1],b[2]),v=k.y(b[1],b[2]),c.translate(m-p,v-g)):c.translate(b[1],b[2]):"r"==w?2==_?(y=y||t.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),r+=b[1]):4==_&&(x?(m=k.x(b[2],b[3]),v=k.y(b[2],b[3]),c.rotate(b[1],m,v)):c.rotate(b[1],b[2],b[3]),r+=b[1]):"s"==w?2==_||3==_?(y=y||t.getBBox(1),c.scale(b[1],b[_-1],y.x+y.width/2,y.y+y.height/2),o*=b[1],l*=b[_-1]):5==_&&(x?(m=k.x(b[3],b[4]),v=k.y(b[3],b[4]),c.scale(b[1],b[2],m,v)):c.scale(b[1],b[2],b[3],b[4]),o*=b[1],l*=b[2]):"m"==w&&7==_&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=o,h.sy=l,h.deg=r,h.dx=s=c.e,h.dy=a=c.f,1==o&&1==l&&!r&&h.bbox?(h.bbox.x+=+s,h.bbox.y+=+a):h.dirtyT=1}),Bt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Wt=i._equaliseTransform=function(t,e){e=z(e).replace(/\.{3}|\u2026/g,t),t=i.parseTransformString(t)||[],e=i.parseTransformString(e)||[];for(var n,r,s,a,o=B(t.length,e.length),l=[],h=[],c=0;o>c;c++){if(s=t[c]||Bt(e[c]),a=e[c]||Bt(s),s[0]!=a[0]||"r"==s[0].toLowerCase()&&(s[2]!=a[2]||s[3]!=a[3])||"s"==s[0].toLowerCase()&&(s[3]!=a[3]||s[4]!=a[4]))return;for(l[c]=[],h[c]=[],n=0,r=B(s.length,a.length);r>n;n++)n in s&&(l[c][n]=s[n]),n in a&&(h[c][n]=a[n])}return{from:l,to:h}};i._getContainer=function(t,e,n,r){var s;return s=null!=r||i.is(t,"object")?t:M.doc.getElementById(t),null!=s?s.tagName?null==e?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:e,height:n}:{container:1,x:t,y:e,width:n,height:r}:void 0},i.pathToRelative=Et,i._engine={},i.path2curve=Lt,i.matrix=function(t,e,i,n,r,s){return new f(t,e,i,n,r,s)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var i=F.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,r,s){var a,o,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,r],[e,n,s],[0,0,1]];for(t&&t instanceof f&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(o=0;3>o;o++){for(h=0,l=0;3>l;l++)h+=u[a][l]*d[l][o];c[a][o]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,n){t=i.rad(t),e=e||0,n=n||0;var r=+F.cos(t).toFixed(9),s=+F.sin(t).toFixed(9);this.add(r,s,-s,r,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=F.sqrt(e(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=F.sqrt(e(r[1])),n(r[1]),t.shear/=t.scaley;var s=-r[0][1],a=r[1][1];return 0>a?(t.rotate=i.deg(F.acos(a)),0>s&&(t.rotate=360-t.rotate)):t.rotate=i.deg(F.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[O]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:I)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:I)+(e.rotate?"r"+[e.rotate,0,0]:I)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var jt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);w.safari="Apple Computer, Inc."==navigator.vendor&&(jt&&jt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&jt&&jt[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:dt;for(var Yt=function(){this.returnValue=!1},$t=function(){return this.originalEvent.preventDefault()},Ut=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},Vt=function(t){var e=M.doc.documentElement.scrollTop||M.doc.body.scrollTop,i=M.doc.documentElement.scrollLeft||M.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Xt=function(){return M.doc.addEventListener?function(t,e,i,n){var r=function(t){var e=Vt(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,r,!1),R&&H[e]){var s=function(e){for(var r=Vt(e),s=e,a=0,o=e.targetTouches&&e.targetTouches.length;o>a;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=s,e.preventDefault=$t,e.stopPropagation=qt;break}return i.call(n,e,r.x,r.y)};t.addEventListener(H[e],s,!1)}return function(){return t.removeEventListener(e,r,!1),R&&H[e]&&t.removeEventListener(H[e],r,!1),!0}}:M.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||M.win.event;var e=M.doc.documentElement.scrollTop||M.doc.body.scrollTop,r=M.doc.documentElement.scrollLeft||M.doc.body.scrollLeft,s=t.clientX+r,a=t.clientY+e;return t.preventDefault=t.preventDefault||Yt,t.stopPropagation=t.stopPropagation||Ut,i.call(n,t,s,a)};t.attachEvent("on"+e,r);var s=function(){return t.detachEvent("on"+e,r),!0};return s}:void 0}(),Gt=[],Qt=function(t){for(var i,n=t.clientX,r=t.clientY,s=M.doc.documentElement.scrollTop||M.doc.body.scrollTop,a=M.doc.documentElement.scrollLeft||M.doc.body.scrollLeft,o=Gt.length;o--;){if(i=Gt[o],R&&t.touches){for(var l,h=t.touches.length;h--;)if(l=t.touches[h],l.identifier==i.el._drag.id){n=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,u=i.el.node,d=u.nextSibling,p=u.parentNode,f=u.style.display;M.win.opera&&p.removeChild(u),u.style.display="none",c=i.el.paper.getElementByPoint(n,r),u.style.display=f,M.win.opera&&(d?p.insertBefore(u,d):p.appendChild(u)),c&&e("raphael.drag.over."+i.el.id,i.el,c),n+=a,r+=s,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,t)}},Zt=function(t){i.unmousemove(Qt).unmouseup(Zt);for(var n,r=Gt.length;r--;)n=Gt[r],n.el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,t);Gt=[]},Kt=i.el={},Jt=L.length;Jt--;)!function(t){i[t]=Kt[t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Xt(this.shape||this.node||M.doc,t,e,n||this)})),this},i["un"+t]=Kt["un"+t]=function(e){for(var n=this.events||[],r=n.length;r--;)n[r].name!=t||!i.is(e,"undefined")&&n[r].f!=e||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(L[Jt]);Kt.data=function(t,n){var r=ct[this.id]=ct[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(i.is(t,"object")){for(var s in t)t[S](s)&&this.data(s,t[s]);return this}return e("raphael.data.get."+this.id,this,r[t],t),r[t]}return r[t]=n,e("raphael.data.set."+this.id,this,n,t),this},Kt.removeData=function(t){return null==t?ct[this.id]={}:ct[this.id]&&delete ct[this.id][t],this},Kt.getData=function(){return n(ct[this.id]||{})},Kt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Kt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var te=[];Kt.drag=function(t,n,r,s,a,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=M.doc.documentElement.scrollTop||M.doc.body.scrollTop,d=M.doc.documentElement.scrollLeft||M.doc.body.scrollLeft;if(this._drag.id=l.identifier,R&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Gt.length&&i.mousemove(Qt).mouseup(Zt),Gt.push({el:this,move_scope:s,start_scope:a,end_scope:o}),n&&e.on("raphael.drag.start."+this.id,n),t&&e.on("raphael.drag.move."+this.id,t),r&&e.on("raphael.drag.end."+this.id,r),e("raphael.drag.start."+this.id,a||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},te.push({el:this,start:l}),this.mousedown(l),this},Kt.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Kt.undrag=function(){for(var t=te.length;t--;)te[t].el==this&&(this.unmousedown(te[t].start),te.splice(t,1),e.unbind("raphael.drag.*."+this.id));!te.length&&i.unmousemove(Qt).unmouseup(Zt),Gt=[]},w.circle=function(t,e,n){var r=i._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(r),r},w.rect=function(t,e,n,r,s){var a=i._engine.rect(this,t||0,e||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(a),a},w.ellipse=function(t,e,n,r){var s=i._engine.ellipse(this,t||0,e||0,n||0,r||0);return this.__set__&&this.__set__.push(s),s},w.path=function(t){t&&!i.is(t,q)&&!i.is(t[0],V)&&(t+=I);var e=i._engine.path(i.format[E](i,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,n,r,s){var a=i._engine.image(this,t||"about:blank",e||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(a),a},w.text=function(t,e,n){var r=i._engine.text(this,t||0,e||0,z(n));return this.__set__&&this.__set__.push(r),r},w.set=function(t){!i.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new de(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.setSize=function(t,e){return i._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,n,r,s){return i._engine.setViewBox.call(this,t,e,n,r,s)},w.top=w.bottom=null,w.raphael=i;var ee=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,s=r.clientTop||n.clientTop||0,a=r.clientLeft||n.clientLeft||0,o=e.top+(M.win.pageYOffset||r.scrollTop||n.scrollTop)-s,l=e.left+(M.win.pageXOffset||r.scrollLeft||n.scrollLeft)-a;return{y:o,x:l}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=M.doc.elementFromPoint(t,e);if(M.win.opera&&"svg"==r.tagName){var s=ee(n),a=n.createSVGRect();a.x=t-s.x,a.y=e-s.y,a.width=a.height=1;var o=n.getIntersectionList(a,null);o.length&&(r=o[o.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},w.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),t)&&e.push(n)}),e},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},w.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Kt.isPointInside=function(t,e){var n=this.realPath=mt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,t,e)},Kt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=mt[this.type](this),e.bboxwt=Tt(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=mt[this.type](this)),e.bbox=Tt(vt(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Kt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Kt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),s=this.realPath||mt[this.type](this);s=this.matrix?vt(s,this.matrix):s;for(var a=1;i+1>a;a++)r.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*a).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var ie=function(t,e,n,r,s,a,o,l,u){return null==u?h(t,e,n,r,s,a,o,l):i.findDotsAtSegment(t,e,n,r,s,a,o,l,c(t,e,n,r,s,a,o,l,u))},ne=function(t,e){return function(n,r,s){n=Lt(n);for(var a,o,l,h,c,u="",d={},p=0,f=0,g=n.length;g>f;f++){if(l=n[f],"M"==l[0])a=+l[1],o=+l[2];else{if(h=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>r){if(e&&!d.start){if(c=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),u+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],s)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,a=+l[5],o=+l[6];continue}if(!t&&!e)return c=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=h,a=+l[5],o=+l[6]}u+=l.shift()+l}return d.end=u,c=t?p:e?d:i.findDotsAtSegment(a,o,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},re=ne(1),se=ne(),ae=ne(0,1);i.getTotalLength=re,i.getPointAtLength=se,i.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return ae(t,e).end;var n=ae(t,i,1);return e?ae(n,e).end:n},Kt.getTotalLength=function(){var t=this.getPath();return t?this.node.getTotalLength?this.node.getTotalLength():re(t):void 0},Kt.getPointAtLength=function(t){var e=this.getPath();return e?se(e,t):void 0},Kt.getPath=function(){var t,e=i._getPath[this.type];return"text"!=this.type&&"set"!=this.type?(e&&(t=e(this)),t):void 0},Kt.getSubpath=function(t,e){var n=this.getPath();return n?i.getSubpath(n,t,e):void 0};var oe=i.easing_formulas={linear:function(t){return t},"<":function(t){return Y(t,1.7)},">":function(t){return Y(t,.48)},"<>":function(t){var e=.48-t/1.04,i=F.sqrt(.1734+e*e),n=i-e,r=Y(j(n),1/3)*(0>n?-1:1),s=-i-e,a=Y(j(s),1/3)*(0>s?-1:1),o=r+a+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:Y(2,-10*t)*F.sin(2*(t-.075)*$/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};oe.easeIn=oe["ease-in"]=oe["<"],oe.easeOut=oe["ease-out"]=oe[">"],oe.easeInOut=oe["ease-in-out"]=oe["<>"],oe["back-in"]=oe.backIn,oe["back-out"]=oe.backOut;var le=[],he=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ce=function(){for(var t=+new Date,n=0;n<le.length;n++){var r=le[n];if(!r.el.removed&&!r.paused){var s,a,o=t-r.start,l=r.ms,h=r.easing,c=r.from,u=r.diff,d=r.to,p=(r.t,r.el),f={},g={};if(r.initstatus?(o=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&le.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(o/l))/r.anim.top,!(0>o))if(l>o){var m=h(o/l);for(var v in c)if(c[S](v)){switch(nt[v]){case U:s=+c[v]+m*l*u[v];break;case"colour":s="rgb("+[ue(K(c[v].r+m*l*u[v].r)),ue(K(c[v].g+m*l*u[v].g)),ue(K(c[v].b+m*l*u[v].b))].join(",")+")";break;case"path":s=[];for(var b=0,_=c[v].length;_>b;b++){s[b]=[c[v][b][0]];for(var w=1,x=c[v][b].length;x>w;w++)s[b][w]=+c[v][b][w]+m*l*u[v][b][w];s[b]=s[b].join(A)}s=s.join(A);break;case"transform":if(u[v].real)for(s=[],b=0,_=c[v].length;_>b;b++)for(s[b]=[c[v][b][0]],w=1,x=c[v][b].length;x>w;w++)s[b][w]=c[v][b][w]+m*l*u[v][b][w];else{var k=function(t){return+c[v][t]+m*l*u[v][t]};s=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(s=[],b=4;b--;)s[b]=+c[v][b]+m*l*u[v][b];break;default:var C=[][D](c[v]);for(s=[],b=p.paper.customAttributes[v].length;b--;)s[b]=+C[b]+m*l*u[v][b]}f[v]=s}p.attr(f),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(p.id,p,r.anim)}else{if(function(t,n,r){setTimeout(function(){e("raphael.anim.frame."+n.id,n,r),e("raphael.anim.finish."+n.id,n,r),i.is(t,"function")&&t.call(n)})}(r.callback,p,r.anim),p.attr(d),le.splice(n--,1),r.repeat>1&&!r.next){for(a in d)d[S](a)&&(g[a]=r.totalOrigin[a]);r.el.attr(g),y(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&y(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),le.length&&he(ce)},ue=function(t){return t>255?255:0>t?0:t};Kt.animateWith=function(t,e,n,r,s,a){var o=this;if(o.removed)return a&&a.call(o),o;var l=n instanceof v?n:i.animation(n,r,s,a);y(l,o,l.percents[0],null,o.attr());for(var h=0,c=le.length;c>h;h++)if(le[h].anim==e&&le[h].el==t){le[c-1].start=le[h].start;break}return o},Kt.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=F.floor(B(t,0))||1,e},i.animation=function(t,e,n,r){if(t instanceof v)return t;(i.is(n,"function")||!n)&&(r=r||n||null,n=null),t=Object(t),e=+e||0;var s,a,o={};for(a in t)t[S](a)&&J(a)!=a&&J(a)+"%"!=a&&(s=!0,o[a]=t[a]);return s?(n&&(o.easing=n),r&&(o.callback=r),new v({100:o},e)):new v(t,e)},Kt.animate=function(t,e,n,r){var s=this;if(s.removed)return r&&r.call(s),s;var a=t instanceof v?t:i.animation(t,e,n,r);return y(a,s,a.percents[0],null,s.attr()),s},Kt.setTime=function(t,e){return t&&null!=e&&this.status(t,W(e,t.ms)/t.ms),this},Kt.status=function(t,e){var i,n,r=[],s=0;if(null!=e)return y(t,this,-1,W(e,1)),this;for(i=le.length;i>s;s++)if(n=le[s],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Kt.pause=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||e("raphael.anim.pause."+this.id,this,le[i].anim)!==!1&&(le[i].paused=!0);return this},Kt.resume=function(t){for(var i=0;i<le.length;i++)if(le[i].el.id==this.id&&(!t||le[i].anim==t)){var n=le[i];e("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Kt.stop=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||e("raphael.anim.stop."+this.id,this,le[i].anim)!==!1&&le.splice(i--,1);return this},e.on("raphael.remove",b),e.on("raphael.clear",b),Kt.toString=function(){return"Raphals object"};var de=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Kt.constructor&&t[e].constructor!=de||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pe=de.prototype;pe.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],!t||t.constructor!=Kt.constructor&&t.constructor!=de||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pe.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var fe in Kt)Kt[S](fe)&&(pe[fe]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][E](i,e)})}}(fe));return pe.attr=function(t,e){if(t&&i.is(t,V)&&i.is(t[0],"object"))for(var n=0,r=t.length;r>n;n++)this.items[n].attr(t[n]);else for(var s=0,a=this.items.length;a>s;s++)this.items[s].attr(t,e);return this},pe.clear=function(){for(;this.length;)this.pop()},pe.splice=function(t,e){t=0>t?B(this.length+t,0):t,e=B(0,W(this.length-t,e));var i,n=[],r=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;e>i;i++)r.push(this[t+i]);for(;i<this.length-t;i++)n.push(this[t+i]);var a=s.length;for(i=0;i<a+n.length;i++)this.items[t+i]=this[t+i]=a>i?s[i]:n[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new de(r)},pe.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},pe.animate=function(t,e,n,r){(i.is(n,"function")||!n)&&(r=n||null);var s,a,o=this.items.length,l=o,h=this;if(!o)return this;r&&(a=function(){!--o&&r.call(h)}),n=i.is(n,q)?n:a;var c=i.animation(t,e,n,a);for(s=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,c,c),this.items[l]&&!this.items[l].removed||o--;return this},pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pe.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}return t=W[E](0,t),e=W[E](0,e),i=B[E](0,i),n=B[E](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},pe.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},pe.toString=function(){return"Raphals set"},pe.glow=function(t){var e=this.paper.set();return this.forEach(function(i){var n=i.glow(t);null!=n&&n.forEach(function(t){e.push(t)})}),e},pe.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){return n.isPointInside(t,e)?(console.log("runned"),i=!0,!1):void 0}),i},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[S](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=tt(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[S](r)){var s=t.glyphs[r];if(e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var a in s.k)s[S](a)&&(e.glyphs[r].k[a]=s.k[a])}}return t},w.getFont=function(t,e,n,r){if(r=r||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var s=i.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,I)+"(\\s|$)","i");for(var o in i.fonts)if(i.fonts[S](o)&&a.test(o)){s=i.fonts[o];break}}var l;if(s)for(var h=0,c=s.length;c>h&&(l=s[h],l.face["font-weight"]!=e||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=r);h++);return l}},w.print=function(t,e,n,r,s,a,o,l){a=a||"middle",o=B(W(o||0,1),-1),l=B(W(l||1,3),1);var h,c=z(n)[O](I),u=0,d=0,p=I;if(i.is(r,"string")&&(r=this.getFont(r)),r){h=(s||16)/r.face["units-per-em"];for(var f=r.face.bbox[O](x),g=+f[0],m=f[3]-f[1],v=0,y=+f[1]+("baseline"==a?m+ +r.face.descent:m/2),b=0,_=c.length;_>b;b++){if("\n"==c[b])u=0,k=0,d=0,v+=m*l;else{var w=d&&r.glyphs[c[b-1]]||{},k=r.glyphs[c[b]];u+=d?(w.w||r.w)+(w.k&&w.k[c[b]]||0)+r.w*o:0,d=1}k&&k.d&&(p+=i.transformPath(k.d,["t",u*h,v*h,"s",h,h,g,y,"t",(t-g)/h,(e-y)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(i.is(t,"array"))for(var e,n=this.set(),r=0,s=t.length;s>r;r++)e=t[r]||{},k[S](e.type)&&n.push(this[e.type]().attr(e));return n},i.format=function(t,e){var n=i.is(e,V)?[0][D](e):arguments;return t&&i.is(t,q)&&n.length-1&&(t=t.replace(C,function(t,e){return null==n[++e]?I:n[e]})),t||I},i.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,s){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&s&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),i.ninja=function(){return T.was?M.win.Raphael=T.is:delete Raphael,i},i.st=pe,function(t,e,n){function r(){/in/.test(t.readyState)?setTimeout(r,9):i.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){_=!0}),function(){if(i.svg){var t="hasOwnProperty",e=String,n=parseFloat,r=parseInt,s=Math,a=s.max,o=s.abs,l=s.pow,h=/[, ]+/,c=i.eve,u="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var m=function(n,r){if(r){"string"==typeof n&&(n=m(n));for(var s in r)r[t](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(p,s.substring(6),e(r[s])):n.setAttribute(s,e(r[s])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(t,r){var h="linear",c=t.id+r,d=.5,p=.5,f=t.node,g=t.paper,v=f.style,y=i._g.doc.getElementById(c);if(!y){if(r=e(r).replace(i._radial_gradient,function(t,e,i){if(h="radial",e&&i){d=n(e),p=n(i);var r=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return u}),r=r.split(/\s*\-\s*/),"linear"==h){var b=r.shift();if(b=-n(b),isNaN(b))return null;var _=[0,0,s.cos(i.rad(b)),s.sin(i.rad(b))],w=1/(a(o(_[2]),o(_[3]))||1);_[2]*=w,
_[3]*=w,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var x=i._parseDots(r);if(!x)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=m(h+"Gradient",{id:c}),t.gradient=y,m(y,"radial"==h?{fx:d,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(y);for(var k=0,C=x.length;C>k;k++)y.appendChild(m("stop",{offset:x[k].offset?x[k].offset:k?"100%":"0%","stop-color":x[k].color||"#fff"}))}}return m(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,r,s){if("path"==n.type){for(var a,o,l,h,c,d=e(r).toLowerCase().split("-"),p=n.paper,v=s?"end":"start",y=n.node,b=n.attrs,_=b["stroke-width"],w=d.length,x="classic",k=3,C=3,S=5;w--;)switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":x=d[w];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==x?(k+=2,C+=2,S+=2,l=1,h=s?4:1,c={fill:"none",stroke:b.stroke}):(h=l=k/2,c={fill:b.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=x){var M="raphael-marker-"+x,T="raphael-marker-"+v+x+k+C;i._g.doc.getElementById(M)?g[M]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[x],id:M})),g[M]=1);var P,E=i._g.doc.getElementById(T);E?(g[T]++,P=E.getElementsByTagName("use")[0]):(E=m(m("marker"),{id:T,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),P=m(m("use"),{"xlink:href":"#"+M,transform:(s?"rotate(180 "+k/2+" "+C/2+") ":u)+"scale("+k/S+","+C/S+")","stroke-width":(1/((k/S+C/S)/2)).toFixed(4)}),E.appendChild(P),p.defs.appendChild(E),g[T]=1),m(P,c);var D=l*("diamond"!=x&&"oval"!=x);s?(a=n._.arrows.startdx*_||0,o=i.getTotalLength(b.path)-D*_):(a=D*_,o=i.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),c={},c["marker-"+v]="url(#"+T+")",(o||a)&&(c.d=i.getSubpath(b.path,a,o)),m(y,c),n._.arrows[v+"Path"]=M,n._.arrows[v+"Marker"]=T,n._.arrows[v+"dx"]=D,n._.arrows[v+"Type"]=x,n._.arrows[v+"String"]=r}else s?(a=n._.arrows.startdx*_||0,o=i.getTotalLength(b.path)-a):(a=0,o=i.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),n._.arrows[v+"Path"]&&m(y,{d:i.getSubpath(b.path,a,o)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in g)if(g[t](c)&&!g[c]){var R=i._g.doc.getElementById(c);R&&R.parentNode.removeChild(R)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,i,n){if(i=_[e(i).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=i.length;o--;)a[o]=i[o]*r+(o%2?1:-1)*s;m(t.node,{"stroke-dasharray":a.join(",")})}},x=function(n,s){var l=n.node,c=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in s)if(s[t](f)){if(!i._availableAttrs[t](f))continue;var g=s[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"href":case"title":var _=m("title"),x=i._g.doc.createTextNode(g);_.appendChild(x),l.appendChild(_);break;case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){var _=m("a");k.insertBefore(_,l),_.appendChild(l),k=_}"target"==f?k.setAttributeNS(p,"show","blank"==g?"new":g):k.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var S=e(g).split(h);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var M=m("clipPath"),T=m("rect");M.id=i.createUUID(),m(T,{x:S[0],y:S[1],width:S[2],height:S[3]}),M.appendChild(T),n.paper.defs.appendChild(M),m(l,{"clip-path":"url(#"+M.id+")"}),n.clip=T}if(!g){var P=l.getAttribute("clip-path");if(P){var E=i._g.doc.getElementById(P.replace(/(^url\(#|\)$)/g,u));E&&E.parentNode.removeChild(E),m(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=i._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=a(o(n._.sx),o(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(f,g),c["stroke-dasharray"]&&w(n,c["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,g,s);break;case"fill":var D=e(g).match(i._ISURL);if(D){M=m("pattern");var R=m("image");M.id=i.createUUID(),m(M,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(R,{x:0,y:0,"xlink:href":D[1]}),M.appendChild(R),function(t){i._preload(D[1],function(){var e=this.offsetWidth,i=this.offsetHeight;m(t,{width:e,height:i}),m(R,{width:e,height:i}),n.paper.safari()})}(M),n.paper.defs.appendChild(M),m(l,{fill:"url(#"+M.id+")"}),n.pattern=M,n.pattern&&y(n);break}var I=i.getRGB(g);if(I.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=e(g).charAt())&&v(n,g)){if("opacity"in c||"fill-opacity"in c){var A=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(A){var z=A.getElementsByTagName("stop");m(z[z.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete s.gradient,delete c.gradient,!i.is(c.opacity,"undefined")&&i.is(s.opacity,"undefined")&&m(l,{opacity:c.opacity}),!i.is(c["fill-opacity"],"undefined")&&i.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});I[t]("opacity")&&m(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=i.getRGB(g),l.setAttribute(f,I.hex),"stroke"==f&&I[t]("opacity")&&m(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=e(g).charAt())&&v(n,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){A=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),A&&(z=A.getElementsByTagName("stop"),m(z[z.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=r(g,10)+"px");var O=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[O]=g,n._.dirty=1,l.setAttribute(f,g)}}C(n,s),l.style.visibility=d},k=1.2,C=function(n,s){if("text"==n.type&&(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y"))){var a=n.attrs,o=n.node,l=o.firstChild?r(i._g.doc.defaultView.getComputedStyle(o.firstChild,u).getPropertyValue("font-size"),10):10;if(s[t]("text")){for(a.text=s.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,c=e(s.text).split("\n"),d=[],p=0,f=c.length;f>p;p++)h=m("tspan"),p&&m(h,{dy:l*k,x:a.x}),h.appendChild(i._g.doc.createTextNode(c[p])),o.appendChild(h),d[p]=h}else for(d=o.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?m(d[p],{dy:l*k,x:a.x}):m(d[0],{dy:0});m(o,{x:a.x,y:a.y}),n._.dirty=1;var g=n._getBBox(),v=a.y-(g.y+g.height/2);v&&i.is(v,"finite")&&m(d[0],{dy:v})}},S=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},M=i.el;S.prototype=M,M.constructor=S,i._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new S(i,e);return n.type="path",x(n,{fill:"none",stroke:"#000",path:t}),n},M.rotate=function(t,i,r){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(i=r),null==i||null==r){var s=this.getBBox(1);i=s.x+s.width/2,r=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,i,r]])),this},M.scale=function(t,i,r,s){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),r=n(t[2]),s=n(t[3])),t=n(t[0]),null==i&&(i=t),null==s&&(r=s),null==r||null==s)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,i,r,s]])),this},M.translate=function(t,i){return this.removed?this:(t=e(t).split(h),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",t,i]])),this)},M.transform=function(e){var n=this._;if(null==e)return n.transform;if(i._extractTransform(this,e),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},M.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},M.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},M.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},M._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},M.attr=function(e,n){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[t](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var a=e.split(h),o={},l=0,u=a.length;u>l;l++)e=a[l],o[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return u-1?o:o[a[0]]}if(null==n&&i.is(e,"array")){for(o={},l=0,u=e.length;u>l;l++)o[e[l]]=this.attr(e[l]);return o}if(null!=n){var d={};d[e]=n}else null!=e&&i.is(e,"object")&&(d=e);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var g in f)f[t](g)&&(d[g]=f[g])}return x(this,d),this},M.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},M.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this},M.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this},M.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),i._insertbefore(this,t,this.paper),this},M.blur=function(t){var e=this;if(0!==+t){var n=m("filter"),r=m("feGaussianBlur");e.attrs.blur=t,n.id=i.createUUID(),m(r,{stdDeviation:+t||1.5}),n.appendChild(r),e.paper.defs.appendChild(n),e._blur=n,m(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},i._engine.circle=function(t,e,i,n){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var s=new S(r,t);return s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",m(r,s.attrs),s},i._engine.rect=function(t,e,i,n,r,s){var a=m("rect");t.canvas&&t.canvas.appendChild(a);var o=new S(a,t);return o.attrs={x:e,y:i,width:n,height:r,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",m(a,o.attrs),o},i._engine.ellipse=function(t,e,i,n,r){var s=m("ellipse");t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",m(s,a.attrs),a},i._engine.image=function(t,e,i,n,r,s){var a=m("image");m(a,{x:i,y:n,width:r,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var o=new S(a,t);return o.attrs={x:i,y:n,width:r,height:s,src:e},o.type="image",o},i._engine.text=function(t,e,n,r){var s=m("text");t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={x:e,y:n,"text-anchor":"middle",text:r,font:i._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",x(a,a.attrs),a},i._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,r=t.y,s=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var o,l=m("svg"),h="overflow:hidden;";return n=n||0,r=r||0,s=s||512,a=a||342,m(l,{height:a,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+r+"px",i._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new i._Paper,e.width=s,e.height=a,e.canvas=l,e.clear(),e._left=e._top=0,o&&(e.renderfix=function(){}),e.renderfix(),e},i._engine.setViewBox=function(t,e,i,n,r){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s,o,l=a(i/this.width,n/this.height),h=this.top,u=r?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=t+d+e+d+i+d+n),m(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&h;)o="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":o}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!r],this},i.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,s=-t.f%1;(r||s)&&(r&&(this._left=(this._left+r)%1,i.left=this._left+"px"),s&&(this._top=(this._top+s)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(i._g.doc.createTextNode("Created with Raphal "+i.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},i.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null};var T=i.st;for(var P in M)M[t](P)&&!T[t](P)&&(T[P]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(P))}}(),function(){if(i.vml){var t="hasOwnProperty",e=String,n=parseFloat,r=Math,s=r.round,a=r.max,o=r.min,l=r.abs,h="fill",c=/[, ]+/,u=i.eve,d=" progid:DXImageTransform.Microsoft",p=" ",f="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",_=21600,w={path:1,rect:1,image:1},x={circle:1,ellipse:1},k=function(t){var n=/[ahqstv]/gi,r=i._pathToAbsolute;if(e(t).match(n)&&(r=i._path2curve),n=/[clmz]/g,r==i._pathToAbsolute&&!e(t).match(n)){var a=e(t).replace(m,function(t,e,i){var n=[],r="m"==e.toLowerCase(),a=g[e];return i.replace(y,function(t){r&&2==n.length&&(a+=n+g["m"==e?"l":"L"],n=[]),n.push(s(t*_))}),a+n});return a}var o,l,h=r(t);a=[];for(var c=0,u=h.length;u>c;c++){o=h[c],l=h[c][0].toLowerCase(),"z"==l&&(l="x");for(var d=1,v=o.length;v>d;d++)l+=s(o[d]*_)+(d!=v-1?",":f);a.push(l)}return a.join(p)},C=function(t,e,n){var r=i.matrix();return r.rotate(-t,.5,.5),{dx:r.x(e,n),dy:r.y(e,n)}},S=function(t,e,i,n,r,s){var a=t._,o=t.matrix,c=a.fillpos,u=t.node,d=u.style,f=1,g="",m=_/e,v=_/i;if(d.visibility="hidden",e&&i){if(u.coordsize=l(m)+p+l(v),d.rotation=s*(0>e*i?-1:1),s){var y=C(s,n,r);n=y.dx,r=y.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(f=-1),d.flip=g,u.coordorigin=n*-m+p+r*-v,c||a.fillsize){var b=u.getElementsByTagName(h);b=b&&b[0],u.removeChild(b),c&&(y=C(s,o.x(c[0],c[1]),o.y(c[0],c[1])),b.position=y.dx*f+p+y.dy*f),a.fillsize&&(b.size=a.fillsize[0]*l(e)+p+a.fillsize[1]*l(i)),u.appendChild(b)}d.visibility="visible"}};i.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var M=function(t,i,n){for(var r=e(i).toLowerCase().split("-"),s=n?"end":"start",a=r.length,o="classic",l="medium",h="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=r[a];break;case"wide":case"narrow":h=r[a];break;case"long":case"short":l=r[a]}var c=t.node.getElementsByTagName("stroke")[0];c[s+"arrow"]=o,c[s+"arrowlength"]=l,c[s+"arrowwidth"]=h},T=function(r,l){r.attrs=r.attrs||{};var u=r.node,d=r.attrs,g=u.style,m=w[r.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),v=x[r.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),y=r;for(var b in l)l[t](b)&&(d[b]=l[b]);if(m&&(d.path=i._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(u.path=k(~e(d.path).toLowerCase().indexOf("r")?i._pathToAbsolute(d.path):d.path),"image"==r.type&&(r._.fillpos=[d.x,d.y],r._.fillsize=[d.width,d.height],S(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var C=+d.cx,T=+d.cy,E=+d.rx||+d.r||0,D=+d.ry||+d.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((C-E)*_),s((T-D)*_),s((C+E)*_),s((T+D)*_),s(C*_)),r._.dirty=1}if("clip-rect"in l){var I=e(l["clip-rect"]).split(c);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var A=u.clipRect||i._g.doc.createElement("div"),z=A.style;z.clip=i.format("rect({1}px {2}px {3}px {0}px)",I),u.clipRect||(z.position="absolute",z.top=0,z.left=0,z.width=r.paper.width+"px",z.height=r.paper.height+"px",u.parentNode.insertBefore(A,u),A.appendChild(u),u.clipRect=A)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var O=r.textpath.style;l.font&&(O.font=l.font),l["font-family"]&&(O.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(O.fontSize=l["font-size"]),l["font-weight"]&&(O.fontWeight=l["font-weight"]),l["font-style"]&&(O.fontStyle=l["font-style"])}if("arrow-start"in l&&M(y,l["arrow-start"]),"arrow-end"in l&&M(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=u.getElementsByTagName(h),H=!1;if(L=L&&L[0],!L&&(H=L=R(h)),"image"==r.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),(null==L.on||"none"==l.fill||null===l.fill)&&(L.on=!1),L.on&&l.fill){var N=e(l.fill).match(i._ISURL);if(N){L.parentNode==u&&u.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var F=r.getBBox(1);L.position=F.x+p+F.y,r._.fillpos=[F.x,F.y],i._preload(N[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=i.getRGB(l.fill).hex,L.src=f,L.type="solid",i.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&P(y,l.fill,L)&&(d.fill="none",d.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var B=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);B=o(a(B,0),1),L.opacity=B,L.src&&(L.color="none")}u.appendChild(L);var W=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],j=!1;!W&&(j=W=R("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(W.on=!0),("none"==l.stroke||null===l.stroke||null==W.on||0==l.stroke||0==l["stroke-width"])&&(W.on=!1);var Y=i.getRGB(l.stroke);W.on&&l.stroke&&(W.color=Y.hex),B=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+Y.o+1||2)-1);var $=.75*(n(l["stroke-width"])||1);if(B=o(a(B,0),1),null==l["stroke-width"]&&($=d["stroke-width"]),l["stroke-width"]&&(W.weight=$),$&&1>$&&(B*=$)&&(W.weight=1),W.opacity=B,l["stroke-linejoin"]&&(W.joinstyle=l["stroke-linejoin"]||"miter"),W.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(W.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};W.dashstyle=U[t](l["stroke-dasharray"])?U[l["stroke-dasharray"]]:f}j&&u.appendChild(W)}if("text"==y.type){y.paper.canvas.style.display=f;var q=y.paper.span,V=100,X=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);g=q.style,d.font&&(g.font=d.font),d["font-family"]&&(g.fontFamily=d["font-family"]),d["font-weight"]&&(g.fontWeight=d["font-weight"]),d["font-style"]&&(g.fontStyle=d["font-style"]),X=n(d["font-size"]||X&&X[0])||10,g.fontSize=X*V+"px",y.textpath.string&&(q.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=q.getBoundingClientRect();y.W=d.w=(G.right-G.left)/V,y.H=d.h=(G.bottom-G.top)/V,y.X=d.x,y.Y=d.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=i.format("m{0},{1}l{2},{1}",s(d.x*_),s(d.y*_),s(d.x*_)+1));for(var Q=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,K=Q.length;K>Z;Z++)if(Q[Z]in l){y._.dirty=1;break}switch(d["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},P=function(t,s,a){t.attrs=t.attrs||{};var o=(t.attrs,Math.pow),l="linear",h=".5 .5";if(t.attrs.gradient=s,s=e(s).replace(i._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),o(e-.5,2)+o(i-.5,2)>.25&&(i=r.sqrt(.25-o(e-.5,2))*(2*(i>.5)-1)+.5),h=e+p+i),f}),s=s.split(/\s*\-\s*/),"linear"==l){var c=s.shift();if(c=-n(c),isNaN(c))return null}var u=i._parseDots(s);if(!u)return null;if(t=t.shape||t.node,u.length){t.removeChild(a),a.on=!0,a.method="none",a.color=u[0].color,a.color2=u[u.length-1].color;for(var d=[],g=0,m=u.length;m>g;g++)u[g].offset&&d.push(u[g].offset+p+u[g].color);a.colors=d.length?d.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),t.appendChild(a)}return 1},E=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},D=i.el;E.prototype=D,D.constructor=E,D.transform=function(t){if(null==t)return this._.transform;var n,r=this.paper._viewBoxShift,s=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(n=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,s+t);var a,o=this.matrix.clone(),l=this.skew,h=this.node,c=~e(this.attrs.fill).indexOf("-"),u=!e(this.attrs.fill).indexOf("url(");if(o.translate(1,1),u||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=o.split(),c&&a.noRotation||!a.isSimple){h.style.filter=o.toFilter();var d=this.getBBox(),g=this.getBBox(1),m=d.x-g.x,v=d.y-g.y;h.coordorigin=m*-_+p+v*-_,S(this,1,1,m,v,0)}else h.style.filter=f,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else h.style.filter=f,l.matrix=e(o),l.offset=o.offset();return n&&(this._.transform=n),this},D.rotate=function(t,i,r){if(this.removed)return this;if(null!=t){if(t=e(t).split(c),t.length-1&&(i=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(i=r),null==i||null==r){var s=this.getBBox(1);i=s.x+s.width/2,r=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,i,r]])),this}},D.translate=function(t,i){return this.removed?this:(t=e(t).split(c),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",t,i]])),this)},D.scale=function(t,i,r,s){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(i=n(t[1]),r=n(t[2]),s=n(t[3]),isNaN(r)&&(r=null),isNaN(s)&&(s=null)),t=n(t[0]),null==i&&(i=t),null==s&&(r=s),null==r||null==s)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,i,r,s]])),this._.dirtyT=1,this},D.hide=function(){return!this.removed&&(this.node.style.display="none"),this},D.show=function(){return!this.removed&&(this.node.style.display=f),this},D._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},D.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},D.attr=function(e,n){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[t](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(e,"string")){if(e==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=e.split(c),o={},l=0,d=a.length;d>l;l++)e=a[l],o[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return d-1?o:o[a[0]]}if(this.attrs&&null==n&&i.is(e,"array")){for(o={},l=0,d=e.length;d>l;l++)o[e[l]]=this.attr(e[l]);return o}var p;null!=n&&(p={},p[e]=n),null==n&&i.is(e,"object")&&(p=e);for(var f in p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&i.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[t](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),T(this,p)}return this},D.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},D.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},D.insertAfter=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this)},D.insertBefore=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),i._insertbefore(this,t,this.paper),this)},D.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(v,f),0!==+t?(this.attrs.blur=t,e.filter=n+p+d+".Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},i._engine.path=function(t,e){var i=R("shape");i.style.cssText=b,i.coordsize=_+p+_,i.coordorigin=e.coordorigin;var n=new E(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=f,T(n,r),e.canvas.appendChild(i);var s=R("skew");return s.on=!0,i.appendChild(s),n.skew=s,n.transform(f),n},i._engine.rect=function(t,e,n,r,s,a){var o=i._rectPath(e,n,r,s,a),l=t.path(o),h=l.attrs;return l.X=h.x=e,l.Y=h.y=n,l.W=h.width=r,l.H=h.height=s,h.r=a,h.path=o,l.type="rect",l},i._engine.ellipse=function(t,e,i,n,r){var s=t.path();return s.attrs,s.X=e-n,s.Y=i-r,s.W=2*n,s.H=2*r,s.type="ellipse",T(s,{cx:e,cy:i,rx:n,ry:r}),s},i._engine.circle=function(t,e,i,n){var r=t.path();return r.attrs,r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",T(r,{cx:e,cy:i,r:n}),r},i._engine.image=function(t,e,n,r,s,a){var o=i._rectPath(n,r,s,a),l=t.path(o).attr({stroke:"none"}),c=l.attrs,u=l.node,d=u.getElementsByTagName(h)[0];return c.src=e,l.X=c.x=n,l.Y=c.y=r,l.W=c.width=s,l.H=c.height=a,c.path=o,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=e,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[s,a],u.appendChild(d),S(l,1,1,0,0,0),l},i._engine.text=function(t,n,r,a){var o=R("shape"),l=R("path"),h=R("textpath");n=n||0,r=r||0,a=a||"",l.v=i.format("m{0},{1}l{2},{1}",s(n*_),s(r*_),s(n*_)+1),l.textpathok=!0,h.string=e(a),h.on=!0,o.style.cssText=b,o.coordsize=_+p+_,o.coordorigin="0 0";var c=new E(o,t),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:a};c.shape=o,c.path=l,c.textpath=h,c.type="text",c.attrs.text=e(a),c.attrs.x=n,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,T(c,u),o.appendChild(h),o.appendChild(l),t.canvas.appendChild(o);var d=R("skew");return d.on=!0,o.appendChild(d),c.skew=d,c.transform(f),c},i._engine.setSize=function(t,e){var n=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(t,e,n,r,s){i.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,r,s]);var o,l,h=this.width,c=this.height,u=1/a(n/h,r/c);return s&&(o=c/r,l=h/n,h>n*o&&(t-=(h-n*o)/2/o),c>r*l&&(e-=(c-r*l)/2/l)),this._viewBox=[t,e,n,r,!!s],this._viewBoxShift={dx:-t,dy:-e,scale:u},this.forEach(function(t){t.transform("...")}),this};var R;i._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),R=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){
R=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t.container,n=t.height,r=t.width,s=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var o=new i._Paper,l=o.canvas=i._g.doc.createElement("div"),h=l.style;return s=s||0,a=a||0,r=r||512,n=n||342,o.width=r,o.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),o.coordsize=1e3*_+p+1e3*_,o.coordorigin="0 0",o.span=i._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==e?(i._g.doc.body.appendChild(l),h.left=s+"px",h.top=a+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),o.renderfix=function(){},o},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;return!0};var I=i.st;for(var A in D)D[t](A)&&!I[t](A)&&(I[A]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(A))}}(),T.was?M.win.Raphael=i:Raphael=i,i}),function(){var t,e,i,n,r=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=window.Morris={},t=jQuery,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,i,n,s,a,o;if(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(a=this.handlers[i],o=[],n=0,s=a.length;s>n;n++)e=a[n],o.push(e.apply(null,t));return o}},t}(),e.commas=function(t){var e,i,n,r;return null!=t?(n=0>t?"-":"",e=Math.abs(t),i=Math.floor(e).toFixed(0),n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,","),r=e.toString(),r.length>i.length&&(n+=r.slice(i.length)),n):"-"},e.pad2=function(t){return(10>t?"0":"")+t},e.Grid=function(i){function n(e){this.resizeHandler=s(this.resizeHandler,this);var i=this;if("string"==typeof e.element?this.el=t(document.getElementById(e.element)):this.el=t(e.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},e),"string"==typeof this.options.units&&(this.options.postUnits=e.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,r,s,a;return n=i.el.offset(),a=t.pageX-n.left,i.selectFrom?(e=i.data[i.hitTest(Math.min(a,i.selectFrom))]._x,r=i.data[i.hitTest(Math.max(a,i.selectFrom))]._x,s=r-e,i.selectionRect.attr({x:e,width:s})):i.fire("hovermove",a,t.pageY-n.top)}),this.el.bind("mouseleave",function(t){return i.selectFrom&&(i.selectionRect.hide(),i.selectFrom=null),i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=i.el.offset(),i.fire("hover",n.pageX-e.left,n.pageY-e.top),n}),this.el.bind("click",function(t){var e;return e=i.el.offset(),i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=i.el.offset(),i.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=i.el.offset(),i.endRange(t.pageX-e.left),i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&t(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.postInit&&this.postInit()}return o(n,i),n.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},n.prototype.setData=function(t,i){var n,r,s,a,o,l,h,c,u,d,p,f,g,m,v;return null==i&&(i=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(f=this.cumulative?0:null,g=this.cumulative?0:null,this.options.goals.length>0&&(o=Math.min.apply(Math,this.options.goals),a=Math.max.apply(Math,this.options.goals),g=null!=g?Math.min(g,o):o,f=null!=f?Math.max(f,a):a),this.data=function(){var i,n,a;for(a=[],s=i=0,n=t.length;n>i;s=++i)h=t[s],l={src:h},l.label=h[this.options.xkey],this.options.parseTime?(l.x=e.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=s,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),u=0,l.y=function(){var t,e,i,n;for(i=this.options.ykeys,n=[],r=t=0,e=i.length;e>t;r=++t)p=i[r],m=h[p],"string"==typeof m&&(m=parseFloat(m)),null!=m&&"number"!=typeof m&&(m=null),null!=m&&(this.cumulative?u+=m:null!=f?(f=Math.max(m,f),g=Math.min(m,g)):f=g=m),this.cumulative&&null!=u&&(f=Math.max(u,f),g=Math.min(u,g)),n.push(m);return n}.call(this),a.push(l);return a}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var t,i,r,s;for(r=this.options.events,s=[],t=0,i=r.length;i>t;t++)n=r[t],s.push(e.parseDate(n));return s}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",g),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(g&&(this.ymin-=1),this.ymax+=1),((v=this.options.axes)===!0||"both"===v||"y"===v||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(c=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,i,n;for(n=[],d=t=e=this.ymin,i=this.ymax;c>0?i>=t:t>=i;d=t+=c)n.push(d);return n}.call(this))),this.dirty=!0,i?this.redraw():void 0)},n.prototype.yboundary=function(t,e){var i,n;return i=this.options["y"+t],"string"==typeof i?"auto"===i.slice(0,4)?i.length>5?(n=parseInt(i.slice(5),10),null==e?n:Math[t](e,n)):null!=e?e:0:parseInt(i,10):i},n.prototype.autoGridLines=function(t,e,i){var n,r,s,a,o,l,h,c,u;return o=e-t,u=Math.floor(Math.log(o)/Math.log(10)),h=Math.pow(10,u),r=Math.floor(t/h)*h,n=Math.ceil(e/h)*h,l=(n-r)/(i-1),1===h&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=r+l*(i-1)),0>r&&n>0&&(r=Math.floor(t/l)*l,n=Math.ceil(e/l)*l),1>l?(a=Math.floor(Math.log(l)/Math.log(10)),s=function(){var t,e;for(e=[],c=t=r;l>0?n>=t:t>=n;c=t+=l)e.push(parseFloat(c.toFixed(1-a)));return e}()):s=function(){var t,e;for(e=[],c=t=r;l>0?n>=t:t>=n;c=t+=l)e.push(c);return e}(),s},n.prototype._calc=function(){var t,e,i,n,r,s,a,o;return r=this.el.width(),i=this.el.height(),(this.elementWidth!==r||this.elementHeight!==i||this.dirty)&&(this.elementWidth=r,this.elementHeight=i,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((a=this.options.axes)===!0||"both"===a||"y"===a)&&(s=function(){var t,i,n,r;for(n=this.grid,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(this.measureText(this.yAxisFormat(e)).width);return r}.call(this),this.left+=Math.max.apply(Math,s)),((o=this.options.axes)===!0||"both"===o||"x"===o)&&(t=function(){var t,e,i;for(i=[],n=t=0,e=this.data.length;e>=0?e>t:t>e;n=e>=0?++t:--t)i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return i}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},n.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},n.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},n.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},n.prototype.measureText=function(t,e){var i,n;return null==e&&(e=0),n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),i=n.getBBox(),n.remove(),i},n.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},n.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+e.commas(t)+this.options.postUnits},n.prototype.drawGrid=function(){var t,e,i,n,r,s,a,o;if(this.options.grid!==!1||(r=this.options.axes)===!0||"both"===r||"y"===r){for(s=this.grid,o=[],i=0,n=s.length;n>i;i++)t=s[i],e=this.transY(t),((a=this.options.axes)===!0||"both"===a||"y"===a)&&this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?o.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):o.push(void 0);return o}},n.prototype.drawGoals=function(){var t,e,i,n,r,s,a;for(s=this.options.goals,a=[],i=n=0,r=s.length;r>n;i=++n)e=s[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],a.push(this.drawGoal(e,t));return a},n.prototype.drawEvents=function(){var t,e,i,n,r,s,a;for(s=this.events,a=[],i=n=0,r=s.length;r>n;i=++n)e=s[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],a.push(this.drawEvent(e,t));return a},n.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},n.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},n.prototype.endRange=function(t){var e,i;return this.selectFrom?(i=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null):void 0},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(e.EventEmitter),e.parseDate=function(t){var e,i,n,r,s,a,o,l,h,c,u;return"number"==typeof t?t:(i=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),s=t.match(/^(\d+)-(\d+)-(\d+)$/),o=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():o?(c=new Date(parseInt(o[1],10),0,1),4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(o[2],10)):l?l[6]?(a=0,"Z"!==l[6]&&(a=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(a=0-a)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+a)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():h?(u=parseFloat(h[6]),e=Math.floor(u),n=Math.round(1e3*(u-e)),h[8]?(a=0,"Z"!==h[8]&&(a=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(a=0-a)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+a,e,n)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function i(i){null==i&&(i={}),this.options=t.extend({},e.Hover.defaults,i),this.el=t("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(t,e,i){return this.html(t),this.show(),this.moveTo(e,i)},i.prototype.html=function(t){return this.el.html(t)},i.prototype.moveTo=function(t,e){var i,n,r,s,a,o;return a=this.options.parent.innerWidth(),s=this.options.parent.innerHeight(),n=this.el.outerWidth(),i=this.el.outerHeight(),r=Math.min(Math.max(0,t-n/2),a-n),null!=e?(o=e-i-10,0>o&&(o=e+10,o+i>s&&(o=s/2-i/2))):o=s/2-i/2,this.el.css({left:r+"px",top:parseInt(o)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}(),e.Line=function(t){function i(t){return this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof e.Line?void i.__super__.constructor.call(this,t):new e.Line(t)}return o(i,t),i.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},i.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},i.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},i.prototype.calcPoints=function(){var t,e,i,n,r,s;for(r=this.data,s=[],i=0,n=r.length;n>i;i++)t=r[i],t._x=this.transX(t.x),t._y=function(){var i,n,r,s;for(r=t.y,s=[],i=0,n=r.length;n>i;i++)e=r[i],null!=e?s.push(this.transY(e)):s.push(e);return s}.call(this),s.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,n,r,s;for(r=t._y,s=[],i=0,n=r.length;n>i;i++)e=r[i],null!=e&&s.push(e);return s}())));return s},i.prototype.hitTest=function(t){var e,i,n,r,s;if(0===this.data.length)return null;for(s=this.data.slice(1),e=n=0,r=s.length;r>n&&(i=s[e],!(t<(i._x+this.data[e]._x)/2));e=++n);return e},i.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},i.prototype.onHoverMove=function(t,e){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},i.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},i.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},i.prototype.hoverContentForRow=function(t){var e,i,n,r,s,a,o;for(n=this.data[t],e="<div class='morris-hover-row-label'>"+n.label+"</div>",o=n.y,i=s=0,a=o.length;a>s;i=++s)r=o[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,n._x,n._ymax]},i.prototype.generatePaths=function(){var t,i,n,r,s;return this.paths=function(){var a,o,h,c;for(c=[],n=a=0,o=this.options.ykeys.length;o>=0?o>a:a>o;n=o>=0?++a:--a)s="boolean"==typeof this.options.smooth?this.options.smooth:(h=this.options.ykeys[n],l.call(this.options.smooth,h)>=0),i=function(){var t,e,i,s;for(i=this.data,s=[],t=0,e=i.length;e>t;t++)r=i[t],void 0!==r._y[n]&&s.push({x:r._x,y:r._y[n]});return s}.call(this),this.options.continuousLine&&(i=function(){var e,n,r;for(r=[],e=0,n=i.length;n>e;e++)t=i[e],null!==t.y&&r.push(t);return r}()),i.length>1?c.push(e.Line.createPath(i,s,this.bottom)):c.push(null);return c}.call(this)},i.prototype.draw=function(){var t;return((t=this.options.axes)===!0||"both"===t||"x"===t)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},i.prototype.drawXAxis=function(){var t,i,n,r,s,a,o,l,h,c,u=this;for(o=this.bottom+this.options.padding/2,s=null,r=null,t=function(t,e){var i,n,a,l,h;return i=u.drawXAxisLabel(u.transX(e),o,t),h=i.getBBox(),i.transform("r"+-u.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*h.width*Math.cos(u.options.xLabelAngle*Math.PI/180),i.transform("t"+l+",0...")),n=i.getBBox(),(null==s||s>=n.x+n.width||null!=r&&r>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()?(0!==u.options.xLabelAngle&&(a=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),r=n.x-a),s=n.x-u.options.xLabelMargin):i.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,i,n;for(i=this.data,n=[],t=0,e=i.length;e>t;t++)a=i[t],n.push([a.label,a.x]);return n}.call(this),n.reverse(),c=[],l=0,h=n.length;h>l;l++)i=n[l],c.push(t(i[0],i[1]));return c},i.prototype.drawSeries=function(){var t,e,i,n,r,s;for(this.seriesPoints=[],t=e=n=this.options.ykeys.length-1;0>=n?0>=e:e>=0;t=0>=n?++e:--e)this._drawLineFor(t);for(s=[],t=i=r=this.options.ykeys.length-1;0>=r?0>=i:i>=0;t=0>=r?++i:--i)s.push(this._drawPointFor(t));return s},i.prototype._drawPointFor=function(t){var e,i,n,r,s,a;for(this.seriesPoints[t]=[],s=this.data,a=[],n=0,r=s.length;r>n;n++)i=s[n],e=null,null!=i._y[t]&&(e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)),a.push(this.seriesPoints[t].push(e));return a},i.prototype._drawLineFor=function(t){var e;return e=this.paths[t],null!==e?this.drawLinePath(e,this.colorFor(null,t,"line"),t):void 0},i.createPath=function(t,i,n){var r,s,a,o,l,h,c,u,d,p,f,g,m,v;for(c="",i&&(a=e.Line.gradients(t)),u={y:null},o=m=0,v=t.length;v>m;o=++m)r=t[o],null!=r.y&&(null!=u.y?i?(s=a[o],h=a[o-1],l=(r.x-u.x)/4,d=u.x+l,f=Math.min(n,u.y+l*h),p=r.x-l,g=Math.min(n,r.y-l*s),c+="C"+d+","+f+","+p+","+g+","+r.x+","+r.y):c+="L"+r.x+","+r.y:i&&null==a[o]||(c+="M"+r.x+","+r.y)),u=r;return c},i.gradients=function(t){var e,i,n,r,s,a,o,l;for(i=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],n=a=0,o=t.length;o>a;n=++a)e=t[n],null!=e.y?(r=t[n+1]||{y:null},s=t[n-1]||{y:null},null!=s.y&&null!=r.y?l.push(i(s,r)):null!=s.y?l.push(i(s,e)):null!=r.y?l.push(i(e,r)):l.push(null)):l.push(null);return l},i.prototype.hilight=function(t){var e,i,n,r,s;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=i=0,r=this.seriesPoints.length-1;r>=0?r>=i:i>=r;e=r>=0?++i:--i)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=n=0,s=this.seriesPoints.length-1;s>=0?s>=n:n>=s;e=s>=0?++n:--n)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},i.prototype.colorFor=function(t,e,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,i):"point"===i?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},i.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i))},i.prototype.drawLinePoint=function(t,e,i,n){return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))},i.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},i.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},i.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},i.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},i.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},i.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},i}(e.Grid),e.labelSeries=function(i,n,r,s,a){var o,l,h,c,u,d,p,f,g,m,v;if(h=200*(n-i)/r,l=new Date(i),p=e.LABEL_SPECS[s],void 0===p)for(v=e.AUTO_LABEL_ORDER,g=0,m=v.length;m>g;g++)if(c=v[g],d=e.LABEL_SPECS[c],h>=d.span){p=d;break}for(void 0===p&&(p=e.LABEL_SPECS.second),a&&(p=t.extend({},p,{fmt:a})),o=p.start(l),u=[];(f=o.getTime())<=n;)f>=i&&u.push([p.fmt(o),f]),p.incr(o);return u},i=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},n=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(i){function n(i){var s;return this instanceof e.Area?(s=t.extend({},r,i),this.cumulative=!s.behaveLikeLine,"auto"===s.fillOpacity&&(s.fillOpacity=s.behaveLikeLine?.8:1),void n.__super__.constructor.call(this,s)):new e.Area(i)}var r;return o(n,i),r={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var t,e,i,n,r,s,a;for(s=this.data,a=[],n=0,r=s.length;r>n;n++)t=s[n],t._x=this.transX(t.x),e=0,t._y=function(){var n,r,s,a;for(s=t.y,a=[],n=0,r=s.length;r>n;n++)i=s[n],this.options.behaveLikeLine?a.push(this.transY(i)):(e+=i||0,a.push(this.transY(e)));return a}.call(this),a.push(t._ymax=Math.max.apply(Math,t._y));return a},n.prototype.drawSeries=function(){var t,e,i,n,r,s,a,o;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){s=[];for(var t=0,e=this.options.ykeys.length-1;e>=0?e>=t:t>=e;e>=0?t++:t--)s.push(t);return s}.apply(this):function(){a=[];for(var t=r=this.options.ykeys.length-1;0>=r?0>=t:t>=0;0>=r?t++:t--)a.push(t);return a}.apply(this),o=[],i=0,n=e.length;n>i;i++)t=e[i],this._drawFillFor(t),this._drawLineFor(t),o.push(this._drawPointFor(t));return o},n.prototype._drawFillFor=function(t){var e;return e=this.paths[t],null!==e?(e+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))):void 0},n.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(e.Line),e.Bar=function(i){function n(i){return this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof e.Bar?void n.__super__.constructor.call(this,t.extend({},i,{parseTime:!1})):new e.Bar(i)}return o(n,i),n.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},n.prototype.calc=function(){var t;return this.calcBars(),this.options.hideHover===!1?(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1)):void 0},n.prototype.calcBars=function(){var t,e,i,n,r,s,a;for(s=this.data,a=[],t=n=0,r=s.length;r>n;t=++n)e=s[t],e._x=this.left+this.width*(t+.5)/this.data.length,a.push(e._y=function(){var t,n,r,s;for(r=e.y,s=[],t=0,n=r.length;n>t;t++)i=r[t],null!=i?s.push(this.transY(i)):s.push(null);return s}.call(this));return a},n.prototype.draw=function(){var t;return((t=this.options.axes)===!0||"both"===t||"x"===t)&&this.drawXAxis(),this.drawSeries()},n.prototype.drawXAxis=function(){var t,e,i,n,r,s,a,o,l,h,c,u,d;for(h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),a=null,s=null,d=[],t=c=0,u=this.data.length;u>=0?u>c:c>u;t=u>=0?++c:--c)o=this.data[this.data.length-1-t],e=this.drawXAxisLabel(o._x,h,o.label),l=e.getBBox(),e.transform("r"+-this.options.xLabelAngle),i=e.getBBox(),e.transform("t0,"+i.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+r+",0...")),(null==a||a>=i.x+i.width||null!=s&&s>=i.x)&&i.x>=0&&i.x+i.width<this.el.width()?(0!==this.options.xLabelAngle&&(n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),s=i.x-n),d.push(a=i.x-this.options.xLabelMargin)):d.push(e.remove());return d},n.prototype.drawSeries=function(){var t,e,i,n,r,s,a,o,l,h,c,u,d,p;return i=this.width/this.options.data.length,o=null!=this.options.stacked?1:this.options.ykeys.length,t=(i*this.options.barSizeRatio-this.options.barGap*(o-1))/o,a=i*(1-this.options.barSizeRatio)/2,p=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var o,f,g,m;for(g=this.data,m=[],n=o=0,f=g.length;f>o;n=++o)l=g[n],r=0,m.push(function(){var o,f,g,m;for(g=l._y,m=[],h=o=0,f=g.length;f>o;h=++o)d=g[h],null!==d?(p?(u=Math.min(d,p),e=Math.max(d,p)):(u=d,e=this.bottom),s=this.left+n*i+a,this.options.stacked||(s+=h*(t+this.options.barGap)),c=e-u,this.options.stacked&&(u-=r),this.drawBar(s,u,t,c,this.colorFor(l,h,"bar"),this.options.barOpacity,this.options.barRadius),m.push(r+=c)):m.push(null);return m}.call(this));return m}.call(this)},n.prototype.colorFor=function(t,e,i){var n,r;return"function"==typeof this.options.barColors?(n={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,n,r,i)):this.options.barColors[e%this.options.barColors.length]},n.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i,n;return i=this.hitTest(t),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},n.prototype.hoverContentForRow=function(t){var e,i,n,r,s,a,o,l;for(n=this.data[t],e="<div class='morris-hover-row-label'>"+n.label+"</div>",l=n.y,i=a=0,o=l.length;o>a;i=++a)s=l[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(s)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),r=this.left+(t+.5)*this.width/this.data.length,[e,r]},n.prototype.drawXAxisLabel=function(t,e,i){var n;return n=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawBar=function(t,e,i,n,r,s,a){var o,l;return o=Math.max.apply(Math,a),l=0===o||o>n?this.raphael.rect(t,e,i,n):this.raphael.path(this.roundedRect(t,e,i,n,a)),l.attr("fill",r).attr("fill-opacity",s).attr("stroke","none")},n.prototype.roundedRect=function(t,e,i,n,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+i-r[1],e,"Q",t+i,e,t+i,e+r[1],"L",t+i,e+n-r[2],"Q",t+i,e+n,t+i-r[2],e+n,"L",t+r[3],e+n,"Q",t,e+n,t,e+n-r[3],"Z"]},n}(e.Grid),e.Donut=function(i){function n(i){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);
var n=this;if(!(this instanceof e.Donut))return new e.Donut(i);if(this.options=t.extend({},this.defaults,i),"string"==typeof i.element?this.el=t(document.getElementById(i.element)):this.el=t(i.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==i.data&&0!==i.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(t){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.setData(i.data))}return o(n,i),n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:!1},n.prototype.redraw=function(){var t,i,n,r,s,a,o,l,h,c,u,d,p,f,g,m,v,y,b,_,w,x,k;for(this.raphael.clear(),i=this.el.width()/2,n=this.el.height()/2,p=(Math.min(i,n)-10)/3,u=0,_=this.values,f=0,v=_.length;v>f;f++)d=_[f],u+=d;for(l=5/(2*p),t=1.9999*Math.PI-l*this.data.length,a=0,s=0,this.segments=[],w=this.values,r=g=0,y=w.length;y>g;r=++g)d=w[r],h=a+l+t*(d/u),c=new e.DonutSegment(i,n,2*p,p,a,h,this.data[r].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael),c.render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),a=h,s+=1;for(this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14),o=Math.max.apply(Math,this.values),s=0,x=this.values,k=[],m=0,b=x.length;b>m;m++){if(d=x[m],d===o){this.select(s);break}k.push(s+=1)}return k},n.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,i,n,r;for(n=this.data,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},n.prototype.click=function(t){return this.fire("click",t,this.data[t])},n.prototype.select=function(t){var e,i,n,r,s,a;for(a=this.segments,r=0,s=a.length;s>r;r++)i=a[r],i.deselect();return n=this.segments[t],n.select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},n.prototype.setLabels=function(t,e){var i,n,r,s,a,o,l,h;return i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,s=1.8*i,r=i/2,n=i/3,this.text1.attr({text:t,transform:""}),a=this.text1.getBBox(),o=Math.min(s/a.width,r/a.height),this.text1.attr({transform:"S"+o+","+o+","+(a.x+a.width/2)+","+(a.y+a.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),h=Math.min(s/l.width,n/l.height),this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})},n.prototype.drawEmptyDonutLabel=function(t,e,i,n,r){var s;return s=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i),null!=r&&s.attr("font-weight",r),s},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(e.EventEmitter),e.DonutSegment=function(t){function e(t,e,i,n,r,a,o,l,h,c){this.cx=t,this.cy=e,this.inner=i,this.outer=n,this.color=o,this.backgroundColor=l,this.index=h,this.raphael=c,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return o(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var i,n,r,s,a,o,l,h,c,u;return c=this.calcArcPoints(t),i=c[0],r=c[1],n=c[2],s=c[3],u=this.calcArcPoints(e),a=u[0],l=u[1],o=u[2],h=u[3],"M"+i+","+r+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s)+("L"+o+","+h)+("A"+e+","+e+",0,"+this.is_long+",1,"+a+","+l)+"Z"},e.prototype.calcArc=function(t){var e,i,n,r,s;return s=this.calcArcPoints(t),e=s[0],n=s[1],i=s[2],r=s[3],"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+r)},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,i,n,r){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(r)},e.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},e.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},e}(e.EventEmitter)}.call(this);var r=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function t(t){function e(t){var e=t.charCodeAt(0);if(92!==e)return e;var i=t.charAt(1);return(e=u[i])?e:i>="0"&&"7">=i?parseInt(t.substring(1),8):"u"===i||"x"===i?parseInt(t.substring(2),16):t.charCodeAt(1)}function i(t){return 32>t?(16>t?"\\x0":"\\x")+t.toString(16):(t=String.fromCharCode(t),"\\"===t||"-"===t||"]"===t||"^"===t?"\\"+t:t)}function n(t){var n=t.substring(1,t.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),t=[],r="^"===n[0],s=["["];r&&s.push("^");for(var r=r?1:0,a=n.length;a>r;++r){var o=n[r];if(/\\[bdsw]/i.test(o))s.push(o);else{var l,o=e(o);a>r+2&&"-"===n[r+1]?(l=e(n[r+2]),r+=2):l=o,t.push([o,l]),65>l||o>122||(65>l||o>90||t.push([32|Math.max(65,o),32|Math.min(l,90)]),97>l||o>122||t.push([-33&Math.max(97,o),-33&Math.min(l,122)]))}}for(t.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),n=[],a=[],r=0;t.length>r;++r)o=t[r],o[0]<=a[1]+1?a[1]=Math.max(a[1],o[1]):n.push(a=o);for(r=0;n.length>r;++r)o=n[r],s.push(i(o[0])),o[1]>o[0]&&(o[1]+1>o[0]&&s.push("-"),s.push(i(o[1])));return s.push("]"),s.join("")}function r(t){for(var e=t.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),r=e.length,o=[],l=0,h=0;r>l;++l){var c=e[l];"("===c?++h:"\\"===c.charAt(0)&&(c=+c.substring(1))&&(h>=c?o[c]=-1:e[l]=i(c))}for(l=1;o.length>l;++l)-1===o[l]&&(o[l]=++s);for(h=l=0;r>l;++l)c=e[l],"("===c?(++h,o[h]||(e[l]="(?:")):"\\"===c.charAt(0)&&(c=+c.substring(1))&&h>=c&&(e[l]="\\"+o[c]);for(l=0;r>l;++l)"^"===e[l]&&"^"!==e[l+1]&&(e[l]="");if(t.ignoreCase&&a)for(l=0;r>l;++l)c=e[l],t=c.charAt(0),c.length>=2&&"["===t?e[l]=n(c):"\\"!==t&&(e[l]=c.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}));return e.join("")}for(var s=0,a=!1,o=!1,l=0,h=t.length;h>l;++l){var c=t[l];if(c.ignoreCase)o=!0;else if(/[a-z]/i.test(c.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){a=!0,o=!1;break}}for(var u={b:8,t:9,n:10,v:11,f:12,r:13},d=[],l=0,h=t.length;h>l;++l){if(c=t[l],c.global||c.multiline)throw Error(""+c);d.push("(?:"+r(c)+")")}return RegExp(d.join("|"),o?"gi":"g")}function e(t,e){function i(t){switch(t.nodeType){case 1:if(n.test(t.className))break;for(var l=t.firstChild;l;l=l.nextSibling)i(l);l=t.nodeName.toLowerCase(),("br"===l||"li"===l)&&(r[o]="\n",a[o<<1]=s++,a[1|o++<<1]=t);break;case 3:case 4:l=t.nodeValue,l.length&&(l=e?l.replace(/\r\n?/g,"\n"):l.replace(/[\t\n\r ]+/g," "),r[o]=l,a[o<<1]=s,s+=l.length,a[1|o++<<1]=t)}}var n=/(?:^|\s)nocode(?:\s|$)/,r=[],s=0,a=[],o=0;return i(t),{a:r.join("").replace(/\n$/,""),d:a}}function i(t,e,i,n){e&&(t={a:e,e:t},i(t),n.push.apply(n,t.g))}function n(e,n){function s(t){for(var e=t.e,r=[e,"pln"],c=0,u=t.a.match(a)||[],d={},p=0,f=u.length;f>p;++p){var g,m=u[p],v=d[m],y=void 0;if("string"==typeof v)g=!1;else{var b=o[m.charAt(0)];if(b)y=m.match(b[1]),v=b[0];else{for(g=0;h>g;++g)if(b=n[g],y=m.match(b[1])){v=b[0];break}y||(v="pln")}!(g=v.length>=5&&"lang-"===v.substring(0,5))||y&&"string"==typeof y[1]||(g=!1,v="src"),g||(d[m]=v)}if(b=c,c+=m.length,g){g=y[1];var _=m.indexOf(g),w=_+g.length;y[2]&&(w=m.length-y[2].length,_=w-g.length),v=v.substring(5),i(e+b,m.substring(0,_),s,r),i(e+b+_,g,l(v,g),r),i(e+b+w,m.substring(w),s,r)}else r.push(e+b,v)}t.g=r}var a,o={};!function(){for(var i=e.concat(n),s=[],l={},h=0,c=i.length;c>h;++h){var u=i[h],d=u[3];if(d)for(var p=d.length;--p>=0;)o[d.charAt(p)]=u;u=u[1],d=""+u,l.hasOwnProperty(d)||(s.push(u),l[d]=r)}s.push(/[\S\s]/),a=t(s)}();var h=n.length;return s}function s(t){var e=[],i=[];t.tripleQuotedStrings?e.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,r,"'\""]):t.multiLineStrings?e.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,r,"'\"`"]):e.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,r,"\"'"]),t.verbatimStrings&&i.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,r]);var s=t.hashComments;return s&&(t.cStyleComments?(s>1?e.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,r,"#"]):e.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,r,"#"]),i.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,r])):e.push(["com",/^#[^\n\r]*/,r,"#"])),t.cStyleComments&&(i.push(["com",/^\/\/[^\n\r]*/,r]),i.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,r])),t.regexLiterals&&i.push(["lang-regex",/^(?:^^\.?|[+-]|[!=]={0,2}|#|%=?|&&?=?|\(|\*=?|[+-]=|->|\/=?|::?|<<?=?|>{1,3}=?|[,;?@[{~]|\^\^?=?|\|\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*\/])(?:[^\/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(s=t.types)&&i.push(["typ",s]),t=(""+t.keywords).replace(/^ | $/g,""),t.length&&i.push(["kwd",RegExp("^(?:"+t.replace(/[\s,]+/g,"|")+")\\b"),r]),e.push(["pln",/^\s+/,r," \r\n	 "]),i.push(["lit",/^@[$_a-z][\w$@]*/i,r],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,r],["pln",/^[$_a-z][\w$@]*/i,r],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,r,"0123456789"],["pln",/^\\[\S\s]?/,r],["pun",/^.[^\s\w"$'.\/@\\`]*/,r]),n(e,i)}function a(t,e,i){function n(t){switch(t.nodeType){case 1:if(s.test(t.className))break;if("br"===t.nodeName)r(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)n(t);break;case 3:case 4:if(i){var e=t.nodeValue,l=e.match(a);if(l){var h=e.substring(0,l.index);t.nodeValue=h,(e=e.substring(l.index+l[0].length))&&t.parentNode.insertBefore(o.createTextNode(e),t.nextSibling),r(t),h||t.parentNode.removeChild(t)}}}}function r(t){function e(t,i){var n=i?t.cloneNode(!1):t,r=t.parentNode;if(r){var r=e(r,1),s=t.nextSibling;r.appendChild(n);for(var a=s;a;a=s)s=a.nextSibling,r.appendChild(a)}return n}for(;!t.nextSibling;)if(t=t.parentNode,!t)return;for(var i,t=e(t.nextSibling,0);(i=t.parentNode)&&1===i.nodeType;)t=i;h.push(t)}for(var s=/(?:^|\s)nocode(?:\s|$)/,a=/\r\n?|\n/,o=t.ownerDocument,l=o.createElement("li");t.firstChild;)l.appendChild(t.firstChild);for(var h=[l],c=0;h.length>c;++c)n(h[c]);e===(0|e)&&h[0].setAttribute("value",e);var u=o.createElement("ol");u.className="linenums";for(var e=Math.max(0,0|e-1)||0,c=0,d=h.length;d>c;++c)l=h[c],l.className="L"+(c+e)%10,l.firstChild||l.appendChild(o.createTextNode(" ")),u.appendChild(l);t.appendChild(u)}function o(t,e){for(var i=e.length;--i>=0;){var n=e[i];w.hasOwnProperty(n)?c.console&&console.warn("cannot override language handler %s",n):w[n]=t}}function l(t,e){return t&&w.hasOwnProperty(t)||(t=/^\s*</.test(e)?"default-markup":"default-code"),w[t]}function h(t){var i=t.h;try{var n=e(t.c,t.i),r=n.a;t.a=r,t.d=n.d,t.e=0,l(i,r)(t);var s=/\bMSIE\s(\d+)/.exec(navigator.userAgent),s=s&&8>=+s[1],i=/\n/g,a=t.a,o=a.length,n=0,h=t.d,u=h.length,r=0,d=t.g,p=d.length,f=0;d[p]=o;var g,m;for(m=g=0;p>m;)d[m]!==d[m+2]?(d[g++]=d[m++],d[g++]=d[m++]):m+=2;for(p=g,m=g=0;p>m;){for(var v=d[m],y=d[m+1],b=m+2;p>=b+2&&d[b+1]===y;)b+=2;d[g++]=v,d[g++]=y,m=b}d.length=g;var _,w=t.c;w&&(_=w.style.display,w.style.display="none");try{for(;u>r;){var x,k=h[r+2]||o,C=d[f+2]||o,b=Math.min(k,C),S=h[r+1];if(1!==S.nodeType&&(x=a.substring(n,b))){s&&(x=x.replace(i,"\r")),S.nodeValue=x;var M=S.ownerDocument,T=M.createElement("span");T.className=d[f+1];var P=S.parentNode;P.replaceChild(T,S),T.appendChild(S),k>n&&(h[r+1]=S=M.createTextNode(a.substring(b,k)),P.insertBefore(S,T.nextSibling))}n=b,n>=k&&(r+=2),n>=C&&(f+=2)}}finally{w&&(w.style.display=_)}}catch(E){c.console&&console.log(E&&E.stack?E.stack:E)}}var c=window,u=["break,continue,do,else,for,if,return,while"],d=[[u,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],p=[d,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],f=[d,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],g=[f,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],d=[d,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],m=[u,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],v=[u,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],u=[u,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],y=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,b=/\S/,_=s({keywords:[p,g,d,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+m,v,u],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),w={};o(_,["default-code"]),o(n([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),o(n([["pln",/^\s+/,r," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,r,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'\/>]|\/(?=\s)))/],["pun",/^[\/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),o(n([],[["atv",/^[\S\s]+/]]),["uq.val"]),o(s({keywords:p,hashComments:!0,cStyleComments:!0,types:y}),["c","cc","cpp","cxx","cyc","m"]),o(s({keywords:"null,true,false"}),["json"]),o(s({keywords:g,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:y}),["cs"]),o(s({keywords:f,cStyleComments:!0}),["java"]),o(s({keywords:u,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),o(s({keywords:m,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),o(s({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),o(s({keywords:v,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),o(s({keywords:d,cStyleComments:!0,regexLiterals:!0}),["js"]),o(s({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),o(n([],[["str",/^[\S\s]+/]]),["regex"]);var x=c.PR={createSimpleLexer:n,registerLangHandler:o,sourceDecorator:s,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:c.prettyPrintOne=function(t,e,i){var n=document.createElement("pre");return n.innerHTML=t,i&&a(n,i,!0),h({h:e,j:i,c:n,i:1}),n.innerHTML},prettyPrint:c.prettyPrint=function(t){function e(){for(var i,s=c.PR_SHOULD_USE_CONTINUATION?u.now()+250:1/0;n.length>p&&s>u.now();p++){var o=n[p],l=o.className;if(g.test(l)&&!m.test(l)){for(var w=!1,x=o.parentNode;x;x=x.parentNode)if(_.test(x.tagName)&&x.className&&g.test(x.className)){w=!0;break}if(!w){o.className+=" prettyprinted";var k,l=l.match(f);if(w=!l){for(var w=o,x=void 0,C=w.firstChild;C;C=C.nextSibling)var S=C.nodeType,x=1===S?x?w:C:3===S&&b.test(C.nodeValue)?w:x;w=(k=x===w?void 0:x)&&y.test(k.tagName)}w&&(l=k.className.match(f)),l&&(l=l[1]),i=v.test(o.tagName)?1:(w=(w=o.currentStyle)?w.whiteSpace:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(o,r).getPropertyValue("white-space"):0)&&"pre"===w.substring(0,3),w=i,(x=(x=o.className.match(/\blinenums\b(?::(\d+))?/))?x[1]&&x[1].length?+x[1]:!0:!1)&&a(o,x,w),d={h:l,c:o,j:x,i:w},h(d)}}}n.length>p?setTimeout(e,250):t&&t()}for(var i=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],n=[],s=0;i.length>s;++s)for(var o=0,l=i[s].length;l>o;++o)n.push(i[s][o]);var i=r,u=Date;u.now||(u={now:function(){return+new Date}});var d,p=0,f=/\blang(?:uage)?-([\w.]+)(?!\S)/,g=/\bprettyprint\b/,m=/\bprettyprinted\b/,v=/pre|xmp/i,y=/^code$/i,_=/^(?:pre|code|xmp)$/i;e()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return x})}(),function(t){t(["jquery"],function(t){return function(){function e(t,e,i){return h({type:v.error,iconClass:u().iconClasses.error,message:t,optionsOverride:i,title:e})}function i(t,e,i){return h({type:v.info,iconClass:u().iconClasses.info,message:t,optionsOverride:i,title:e})}function n(t){f=t}function r(t,e,i){return h({type:v.success,iconClass:u().iconClasses.success,message:t,optionsOverride:i,title:e})}function s(t,e,i){return h({type:v.warning,iconClass:u().iconClasses.warning,message:t,optionsOverride:i,title:e})}function a(e){var i=u();return p||c(i),e&&0===t(":focus",e).length?void e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){d(e)}}):void(p.children().length&&p[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){p.remove()}}))}function o(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(t){f&&f(t)}function h(e){function i(e){return!t(":focus",h).length||e?h[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){d(h),s.onHidden&&s.onHidden(),y.state="hidden",y.endTime=new Date,l(y)}}):void 0}function n(){(s.timeOut>0||s.extendedTimeOut>0)&&(o=setTimeout(i,s.extendedTimeOut))}function r(){clearTimeout(o),h.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}var s=u(),a=e.iconClass||s.iconClass;"undefined"!=typeof e.optionsOverride&&(s=t.extend(s,e.optionsOverride),a=e.optionsOverride.iconClass||a),m++,p=c(s);var o=null,h=t("<div/>"),f=t("<div/>"),g=t("<div/>"),v=t(s.closeHtml),y={toastId:m,state:"visible",startTime:new Date,options:s,map:e};return e.iconClass&&h.addClass(s.toastClass).addClass(a),e.title&&(f.append(e.title).addClass(s.titleClass),h.append(f)),e.message&&(g.append(e.message).addClass(s.messageClass),h.append(g)),s.closeButton&&(v.addClass("toast-close-button"),h.prepend(v)),h.hide(),s.newestOnTop?p.prepend(h):p.append(h),h[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(o=setTimeout(i,s.timeOut)),h.hover(r,n),!s.onclick&&s.tapToDismiss&&h.click(i),s.closeButton&&v&&v.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),i(!0)}),s.onclick&&h.click(function(){s.onclick(),i()}),l(y),s.debug&&console&&console.log(y),h}function c(e){return e||(e=u()),p=t("#"+e.containerId),p.length?p:(p=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),p.appendTo(t(e.target)),p)}function u(){return t.extend({},o(),y.options)}function d(t){p||(p=c()),t.is(":visible")||(t.remove(),t=null,0===p.children().length&&p.remove())}var p,f,g="2.0.1",m=0,v={error:"error",info:"info",success:"success",warning:"warning"},y={clear:a,error:e,getContainer:c,info:i,options:{},subscribe:n,success:r,version:g,warning:s};return y}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)});var neonChat=neonChat||{$current_user:null,isOpen:!1,chat_history:[],statuses:{online:{"class":"is-online",order:1,label:"Online"},offline:{"class":"is-offline",order:4,label:"Offline"},idle:{"class":"is-idle",order:3,label:"Idle"},busy:{"class":"is-busy",order:2,label:"Busy"}}};!function(t,e,i){"use strict";var n=t("#chat"),r=n.find(".chat-inner"),s=n.find(".badge").add(t(".chat-notifications-badge")),a=n.find(".chat-conversation"),o=a.find(".conversation-header"),l=a.find(".conversation-body"),h=a.find(".chat-textarea textarea"),c=!t(".page-container").hasClass("sidebar-collapsed");t.extend(neonChat,{init:function(){a.on("click",".conversation-close",neonChat.close),t("body").on("click",".chat-close",function(e){e.preventDefault();var i=t(this).is("[data-animate]");neonChat.hideChat(i)}),t("body").on("click",".chat-open",function(e){e.preventDefault();var i=t(this).is("[data-animate]");neonChat.showChat(i)}),h.keydown(function(t){return 13!=t.keyCode||t.shiftKey?void(27==t.keyCode&&neonChat.close()):(t.preventDefault(),neonChat.submitMessage(),!1)}),n.on("click",".chat-group a",function(e){e.preventDefault();var i=t(this);i.hasClass("active")?neonChat.close():neonChat.open(i)}),n.find(".chat-group a").each(function(e,i){var n=t(i);n.append('<span class="badge badge-info is-hidden">0</span>')}),neonChat.refreshUserIds(),neonChat.orderGroups(),neonChat.prefetchMessages(),neonChat.countUnreadMessages(),neonChat.puffUnreads(),n.hasClass("fixed")&&r.length&&t.isFunction(t.fn.niceScroll)&&n.find(".chat-inner").niceScroll({cursorcolor:"#454a54",cursorborder:"1px solid #454a54",railpadding:{right:3},railalign:"right",cursorborderradius:1}),t("body").on("click",'[data-toggle="chat"]',function(e){e.preventDefault();var i=t(this),n=i.is("[data-animate]"),r=i.is("[data-collapse-sidebar]");neonChat.toggleChat(n,r)})},open:function(e){this.refreshUserIds(),"string"==typeof e&&(e=t(e)),n.find(".chat-group a").not(e).removeClass("active"),e.addClass("active");var i=this.statuses[this.chat_history[e.attr("id")].status];o.find(".display-name").html(e.find("em").text()),i&&(o.find(".user-status").attr("class","user-status "+i["class"]),o.find("small").html(i.label)),a.show(),h.val(""),this.updateScrollbars(),this.updateConversationOffset(e),h.focus(),this.$current_user=e,this.isOpen=!0,this.renderMessages(this.$current_user.attr("id")),this.resetUnreads(this.$current_user.attr("id")),this.puffUnreadsAll()},close:function(){return n.find(".chat-group a").removeClass("active"),a.hide().css({top:0,opacity:0}),l.find("li.unread").removeClass("unread"),this.$current_user=null,this.isOpen=!1,!1},updateScrollbars:function(){scrollToBottom("#chat .chat-conversation .conversation-body")},updateConversationOffset:function(i){var r=a.find(".conversation-body").position().top+1,s=i.position().top-r,o=0,l=a.height(),h=t(e).height();n.hasClass("fixed")&&s+l>h&&(o=s+l-h),t(".page-container.horizontal-menu").length&&(o+=t(".page-container.horizontal-menu .navbar").height()),s-=o,a.transition({top:s,opacity:1})},getChatHistoryLength:function(){var t=parseInt(n.data("max-chat-history"),10);return(!t||1>t)&&(t=25),t},submitMessage:function(){var e=t.trim(h.val());if(h.val(""),this.isOpen&&this.$current_user){var i=this.$current_user.uniqueId().attr("id");this.pushMessage(i,e.replace(/<.*?>/g,""),n.data("current-user"),new Date),this.renderMessages(i)}},refreshUserIds:function(){t("#chat .chat-group a").each(function(e,i){var n=t(i),r=n.find(".user-status");n.uniqueId();var s=n.attr("id");if("undefined"==typeof neonChat.chat_history[s]){var a=n.data("status");if(!a)for(var e in neonChat.statuses)if(r.hasClass(neonChat.statuses[e]["class"])){a=e;break}neonChat.chat_history[s]={$el:n,messages:[],unreads:0,status:a}}})},pushMessage:function(t,e,i,n,r,s){if(t&&e){this.refreshUserIds();var a=this.getChatHistoryLength();this.chat_history[t].messages.length>=a&&(this.chat_history[t].messages=this.chat_history[t].messages.reverse().slice(0,a-1).reverse()),this.chat_history[t].messages.push({message:e,from:i,time:n,fromOpponent:r,unread:s}),s&&this.puffUnreadsAll(),this.puffUnreads()}},renderMessages:function(e,i){if("undefined"!=typeof this.chat_history[e]){l.html("");for(var n in this.chat_history[e].messages){var r=this.chat_history[e].messages[n],s=t('<li><span class="user"></span><p></p><span class="time"></span></li>'),a=r.time,o=a;if("object"==typeof a){var h=a.getHours(),h=(10>h?"0":"")+h,c=a.getMinutes(),c=(10>c?"0":"")+c,u=a.getSeconds();u=(10>u?"0":"")+u,o=h+":"+c}s.find(".user").html(r.from),s.find("p").html(r.message.replace(/\n/g,"<br>")),s.find(".time").html(o),r.fromOpponent&&s.addClass("odd"),r.unread&&"undefined"==typeof i&&(s.addClass("unread"),r.unread=!1),l.append(s)}this.updateScrollbars()}},getStatus:function(t){"object"==typeof t&&(t=t.attr("id"));var e=neonChat.chat_history[t];return e?e.status:null},setStatus:function(e,i){var n="string"==typeof e?t(".chat-group a#"+e.replace("#","")):e;if(n.$el&&(n=n.$el),n.length&&this.statuses[i]["class"]){var r=n.find(".user-status");for(var s in this.statuses)r.removeClass(this.statuses[s]["class"]);r.addClass(this.statuses[i]["class"]),n.data("status",i),neonChat.chat_history[n.attr("id")].status=i,this.orderGroups()}},orderGroups:function(){var e=n.find(".chat-group");return n.data("order-by-status")?(e.each(function(e,i){var n=t(i),r=n.find("> a");r.each(function(e,i){var n=t(i),r=n.find(".user-status");for(var e in neonChat.statuses){var s=neonChat.statuses[e];if(e==n.data("status"))return n.data("order-id",s.order),!0;if(r.hasClass(s["class"]))return n.data("order-id",s.order),!0}});r.sort(function(e,i){return parseInt(t(e).data("order-id"),10)>parseInt(t(i).data("order-id"),10)}).appendTo(n)}),!0):!1},prefetchMessages:function(){n.find(".chat-group a").each(function(e,i){var n=t(i),r=n.attr("id"),s=n.data("conversation-history");s&&s.length&&t(t(s)).find("> li").each(function(e,i){var n=t(i),s=n.find(".user").html(),a=n.find("p").html(),o=n.find(".time").html(),l=n.hasClass("even")||n.hasClass("odd")||n.hasClass("opponent"),h=n.hasClass("unread");neonChat.pushMessage(r,a,s,o,l,h)})})},countUnreadMessages:function(t){var e=0;if(t){"object"==typeof t&&(t=t.attr("id"));var i=neonChat.chat_history[t];if(i)return i.unreads}else for(var t in neonChat.chat_history){var i=neonChat.chat_history[t],n=0;for(var r in i.messages)i.messages[r].unread&&(e++,n++);i.unreads=n}return e},puffUnreads:function(){for(var t in this.chat_history){var e=neonChat.chat_history[t],i=e.$el.find(".badge");e.unreads>0?i.html(e.unreads).removeClass("is-hidden"):i.html(e.unreads).addClass("is-hidden")}},puffUnreadsAll:function(){var t=this.countUnreadMessages();s.html(t),s[t>0?"removeClass":"addClass"]("is-hidden")},resetUnreads:function(t){"object"==typeof t&&(t=t.attr("id"));var e=neonChat.chat_history[t];e&&(e.unreads=0,e.$el.find(".badge").html("0").addClass("is-hidden"))},createGroup:function(e,i){var r=t('<div class="chat-group"><strong>'+e+"</strong></div>");return i?r.insertBefore(n.find(".chat-group:first")):r.appendTo(n),r.hide().slideDown(),r=r.uniqueId(),r.attr("id")},removeGroup:function(e,i){var r=n.find("#"+e.replace("#","")+".chat-group");if(r.length){if(i){var s=n.find("#"+i.replace("#","")+".chat-group");s.length&&r.find("a").each(function(e,i){var n=t(i);s.append(n),n.hide().slideDown()}),this.orderGroups()}r.slideUp(function(){r.remove()})}},addUser:function(e,i,r,s,a){var o=e;if("string"==typeof e&&(o=n.find("#"+e.replace("#","")+".chat-group")),o&&o.length){var r=this.statuses[r],l=t('<a href="#"><span class="user-status '+r["class"]+'"></span> <em>'+i+'</em> <span class="badge badge-info is-hidden>0</span></a>');return a&&l.attr("id",a),s?l.insertAfter(o.find("> strong")):l.appendTo(o),l.hide().slideDown(),this.refreshUserIds(),this.orderGroups(),l.uniqueId().attr("id")}return null},addUserId:function(t,e,i,n,r){return this.addUser(t,i,n,r,e)},getUser:function(t){return this.chat_history[t]?this.chat_history[t]:null},moveUser:function(t,e,i){var r=n.find("#"+e.replace("#","")+".chat-group"),s=this.chat_history[t];return r.length&&s?(i?s.$el.insertAfter(r.find("> strong")):s.$el.appendTo(r),this.orderGroups(),!0):!1},showChat:function(t){var e="chat-visible";if(isxs()&&(e+=" toggle-click"),t){if(n.data("is-busy"))return!1;n.data("is-busy",!0),public_vars.$pageContainer.addClass(e);var i=parseInt(public_vars.$mainContent.css("padding-right"),10),r=parseInt(public_vars.$mainContent.css("padding-left"),10),s=n.width();public_vars.$pageContainer.removeClass(e),public_vars.$pageContainer.hasClass("right-sidebar")?public_vars.$mainContent.transition({paddingLeft:r,duration:500}):public_vars.$mainContent.transition({paddingRight:i,duration:500}),n.show(),TweenMax.set(n,{css:{transform:"translateX("+(public_vars.$pageContainer.hasClass("right-sidebar")?-1:1)*s+"px)"}}),TweenMax.to(n,.65,{css:{transform:"translateX(0)"},ease:Sine.easeOut,onComplete:function(){public_vars.$pageContainer.addClass(e),n.add(public_vars.$mainContent).attr("style",""),n.data("is-busy",!1)}})}else public_vars.$pageContainer.addClass(e)},hideChat:function(t){var e="chat-visible";if(isxs()&&(e+=" toggle-click"),t){if(n.data("is-busy"))return!1;n.data("is-busy",!0),disableXOverflow(),public_vars.$pageContainer.removeClass(e);var i=parseInt(public_vars.$mainContent.css("padding-right"),10),r=parseInt(public_vars.$mainContent.css("padding-left"),10),s=n.width();public_vars.$pageContainer.addClass(e),neonChat.close(),TweenMax.to(n,.4,{css:{autoAlpha:1,transform:"translateX("+(public_vars.$pageContainer.hasClass("right-sidebar")?-1:1)*s+"px)"},ease:Sine.easeIn});var a={paddingRight:i,duration:700,complete:function(){public_vars.$pageContainer.attr("style",""),public_vars.$mainContent.attr("style",""),n.attr("style",""),public_vars.$pageContainer.removeClass(e),enableXOverflow(),n.data("is-busy",!1);
}};public_vars.$pageContainer.hasClass("right-sidebar")&&(delete a.paddingRight,a.paddingLeft=r),public_vars.$mainContent.transition(a)}else public_vars.$pageContainer.removeClass(e)},toggleChat:function(t,e){var i=public_vars.$pageContainer.hasClass("chat-visible")?"hideChat":"showChat";isxs()&&(i=public_vars.$pageContainer.hasClass("toggle-click")?"hideChat":"showChat"),neonChat[i](t),e&&c&&("hideChat"==i?show_sidebar_menu(t):hide_sidebar_menu(t))}}),l.on("click",function(){h.focus()}),neonChat.init()}(jQuery,window);var public_vars=public_vars||{};jQuery.extend(public_vars,{breakpoints:{largescreen:[991,-1],tabletscreen:[768,990],devicescreen:[420,767],sdevicescreen:[0,419]},lastBreakpoint:null});var public_vars=public_vars||{};!function(t,e,i){"use strict";t(document).ready(function(){if(public_vars.$body=t("body"),public_vars.$pageContainer=public_vars.$body.find(".page-container"),public_vars.$chat=public_vars.$pageContainer.find("#chat"),public_vars.$horizontalMenu=public_vars.$pageContainer.find("header.navbar"),public_vars.$sidebarMenu=public_vars.$pageContainer.find(".sidebar-menu"),public_vars.$mainMenu=public_vars.$sidebarMenu.find("#main-menu"),public_vars.$mainContent=public_vars.$pageContainer.find(".main-content"),public_vars.$sidebarUserEnv=public_vars.$sidebarMenu.find(".sidebar-user-info"),public_vars.$sidebarUser=public_vars.$sidebarUserEnv.find(".user-link"),public_vars.$body.addClass("loaded"),t(e).on("error",function(t){init_page_transitions()}),public_vars.$pageContainer.hasClass("right-sidebar")&&(public_vars.isRightSidebar=!0),setup_sidebar_menu(),setup_horizontal_menu(),public_vars.$sidebarMenu.find(".sidebar-collapse-icon").on("click",function(e){e.preventDefault();var i=t(this).hasClass("with-animation");toggle_sidebar_menu(i)}),public_vars.$sidebarMenu.find(".sidebar-mobile-menu a").on("click",function(e){e.preventDefault();var i=t(this).hasClass("with-animation");i?public_vars.$mainMenu.stop().slideToggle("normal",function(){public_vars.$mainMenu.css("height","auto")}):public_vars.$mainMenu.toggle()}),public_vars.$horizontalMenu.find(".horizontal-mobile-menu a").on("click",function(e){e.preventDefault();var i=public_vars.$horizontalMenu.find(".navbar-nav"),n=t(this).hasClass("with-animation");n?i.stop().slideToggle("normal",function(){i.attr("height","auto"),"none"==i.css("display")&&i.attr("style","")}):i.toggle()}),public_vars.$sidebarMenu.data("initial-state",public_vars.$pageContainer.hasClass("sidebar-collapsed")?"closed":"open"),is("tabletscreen")&&hide_sidebar_menu(!1),t.isFunction(t.fn.niceScroll)){var i={cursorcolor:"#d4d4d4",cursorborder:"1px solid #ccc",railpadding:{right:3},cursorborderradius:1,autohidemode:!0,sensitiverail:!0};public_vars.$body.find(".dropdown .scroller").niceScroll(i),t(".dropdown").on("shown.bs.dropdown",function(){t(".scroller").getNiceScroll().resize(),t(".scroller").getNiceScroll().show()});var n=t(".sidebar-menu.fixed");if(1==n.length){var r=0;n.niceScroll({cursorcolor:"#454a54",cursorborder:"1px solid #454a54",railpadding:{right:3},railalign:"right",cursorborderradius:1}),n.on("click","li a",function(){n.getNiceScroll().resize(),n.getNiceScroll().show(),e.clearTimeout(r),r=setTimeout(function(){n.getNiceScroll().resize()},500)})}}if(t.isFunction(t.fn.slimScroll)&&t(".scrollable").each(function(e,i){var n=t(i),r=attrDefault(n,"height",n.height());n.is(":visible")&&(n.removeClass("scrollable"),n.height()<parseInt(r,10)&&(r=n.outerHeight(!0)+10),n.addClass("scrollable")),n.css({maxHeight:""}).slimScroll({height:r,position:attrDefault(n,"scroll-position","right"),color:attrDefault(n,"rail-color","#000"),size:attrDefault(n,"rail-width",6),borderRadius:attrDefault(n,"rail-radius",3),opacity:attrDefault(n,"rail-opacity",.3),alwaysVisible:1==parseInt(attrDefault(n,"autohide",1),10)?!1:!0})}),t(".panel-heading").each(function(e,i){var n=t(i),r=n.next("table");r.wrap('<div class="panel-body with-table"></div>'),r=n.next(".with-table").next("table"),r.wrap('<div class="panel-body with-table"></div>')}),continueWrappingPanelTables(),t("body").on("click",'.panel > .panel-heading > .panel-options > a[data-rel="reload"]',function(t){t.preventDefault();var e=jQuery(this).closest(".panel");blockUI(e),e.addClass("reloading"),setTimeout(function(){unblockUI(e),e.removeClass("reloading")},900)}).on("click",'.panel > .panel-heading > .panel-options > a[data-rel="close"]',function(e){e.preventDefault();var i=t(this),n=i.closest(".panel"),r=new TimelineLite({onComplete:function(){n.slideUp(function(){n.remove()})}});r.append(TweenMax.to(n,.2,{css:{scale:.95}})),r.append(TweenMax.to(n,.5,{css:{autoAlpha:0,transform:"translateX(100px) scale(.95)"}}))}).on("click",'.panel > .panel-heading > .panel-options > a[data-rel="collapse"]',function(e){e.preventDefault();var i=t(this),n=i.closest(".panel"),r=n.children(".panel-body, .table"),s=!n.hasClass("panel-collapse");n.is('[data-collapsed="1"]')&&(n.attr("data-collapsed",0),r.hide(),s=!1),s?(r.slideUp("normal",fit_main_content_height),n.addClass("panel-collapse")):(r.slideDown("normal",fit_main_content_height),n.removeClass("panel-collapse"))}),t('[data-toggle="buttons-radio"]').each(function(){var e=t(this).children();e.each(function(i,n){var r=t(n);r.click(function(t){e.removeClass("active")})})}),t('[data-toggle="buttons-checkbox"]').each(function(){var e=t(this).children();e.each(function(e,i){var n=t(i);n.click(function(t){n.removeClass("active")})})}),t("[data-loading-text]").each(function(e,i){var n=t(i);n.on("click",function(t){n.button("loading"),setTimeout(function(){n.button("reset")},1800)})}),t('[data-toggle="popover"]').each(function(e,i){var n=t(i),r=attrDefault(n,"placement","right"),s=attrDefault(n,"trigger","click"),a=n.hasClass("popover-secondary")?"popover-secondary":n.hasClass("popover-primary")?"popover-primary":n.hasClass("popover-default")?"popover-default":"";n.popover({placement:r,trigger:s}),n.on("shown.bs.popover",function(t){var e=n.next();e.addClass(a)})}),t('[data-toggle="tooltip"]').each(function(e,i){var n=t(i),r=attrDefault(n,"placement","top"),s=attrDefault(n,"trigger","hover"),a=n.hasClass("tooltip-secondary")?"tooltip-secondary":n.hasClass("tooltip-primary")?"tooltip-primary":n.hasClass("tooltip-default")?"tooltip-default":"";n.tooltip({placement:r,trigger:s}),n.on("shown.bs.tooltip",function(t){var e=n.next();e.addClass(a)})}),t.isFunction(t.fn.knob)&&t(".knob").knob({change:function(t){},release:function(t){},cancel:function(){},draw:function(){if("tron"==this.$.data("skin")){var t,e=this.angle(this.cv),i=this.startAngle,n=this.startAngle,r=n+e,s=1;return this.g.lineWidth=this.lineWidth,this.o.cursor&&(n=r-.3)&&(r+=.3),this.o.displayPrevious&&(t=this.startAngle+this.angle(this.v),this.o.cursor&&(i=t-.3)&&(t+=.3),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,i,t,!1),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=s?this.o.fgColor:this.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,n,r,!1),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}}),t.isFunction(t.fn.slider)&&t(".slider").each(function(e,i){var n=t(i),r=t('<span class="ui-label"></span>'),s=r.clone(),a=0!=attrDefault(n,"vertical",0)?"vertical":"horizontal",o=attrDefault(n,"prefix",""),l=attrDefault(n,"postfix",""),h=attrDefault(n,"fill",""),c=t(h),u=attrDefault(n,"step",1),d=attrDefault(n,"value",5),p=attrDefault(n,"min",0),f=attrDefault(n,"max",100),g=attrDefault(n,"min-val",10),m=attrDefault(n,"max-val",90),v=n.is("[data-min-val]")||n.is("[data-max-val]"),y=0;if(v){n.slider({range:!0,orientation:a,min:p,max:f,values:[g,m],step:u,slide:function(t,e){var i=(o?o:"")+e.values[0]+(l?l:""),n=(o?o:"")+e.values[1]+(l?l:"");r.html(i),s.html(n),h&&c.val(i+","+n),y++},change:function(t,e){if(1==y){var i=(o?o:"")+e.values[0]+(l?l:""),n=(o?o:"")+e.values[1]+(l?l:"");r.html(i),s.html(n),h&&c.val(i+","+n)}y=0}});var b=n.find(".ui-slider-handle");r.html((o?o:"")+g+(l?l:"")),b.first().append(r),s.html((o?o:"")+m+(l?l:"")),b.last().append(s)}else{n.slider({range:attrDefault(n,"basic",0)?!1:"min",orientation:a,min:p,max:f,value:d,step:u,slide:function(t,e){var i=(o?o:"")+e.value+(l?l:"");r.html(i),h&&c.val(i),y++},change:function(t,e){if(1==y){var i=(o?o:"")+e.value+(l?l:"");r.html(i),h&&c.val(i)}y=0}});var b=n.find(".ui-slider-handle");r.html((o?o:"")+d+(l?l:"")),b.html(r)}}),t.isFunction(t.fn.bootstrapSwitch)&&t(".make-switch.is-radio").on("switch-change",function(){t(".make-switch.is-radio").bootstrapSwitch("toggleRadioState")}),t.isFunction(t.fn.select2)&&(t(".select2").each(function(e,i){var n=t(i),r={allowClear:attrDefault(n,"allowClear",!1)};n.select2(r),n.addClass("visible")}),t.isFunction(t.fn.niceScroll)&&t(".select2-results").niceScroll({cursorcolor:"#d4d4d4",cursorborder:"1px solid #ccc",railpadding:{right:3}})),t.isFunction(t.fn.selectBoxIt)&&t("select.selectboxit").each(function(e,i){var n=t(i),r={showFirstOption:attrDefault(n,"first-option",!0),"native":attrDefault(n,"native",!1),defaultText:attrDefault(n,"text","")};n.addClass("visible"),n.selectBoxIt(r)}),t.isFunction(t.fn.autosize)&&t("textarea.autogrow, textarea.autosize").autosize(),t.isFunction(t.fn.tagsinput)&&t(".tagsinput").tagsinput(),t.isFunction(t.fn.typeahead)&&t(".typeahead").each(function(e,i){var n=t(i),r={name:n.attr("name")?n.attr("name"):n.attr("id")?n.attr("id"):"tt"};if(!n.hasClass("tagsinput")){if(n.data("local")){var s=n.data("local");s=s.replace(/\s*,\s*/g,",").split(","),r.local=s}if(n.data("prefetch")){var a=n.data("prefetch");r.prefetch=a}if(n.data("remote")){var o=n.data("remote");r.remote=o}if(n.data("template")){var l=n.data("template");r.template=l,r.engine=Hogan}n.typeahead(r)}}),t.isFunction(t.fn.datepicker)&&t(".datepicker").each(function(e,i){var n=t(i),r={format:attrDefault(n,"format","mm/dd/yyyy"),startDate:attrDefault(n,"startDate",""),endDate:attrDefault(n,"endDate",""),daysOfWeekDisabled:attrDefault(n,"disabledDays",""),startView:attrDefault(n,"startView",0),rtl:rtl()},s=n.next(),a=n.prev();n.datepicker(r),s.is(".input-group-addon")&&s.has("a")&&s.on("click",function(t){t.preventDefault(),n.datepicker("show")}),a.is(".input-group-addon")&&a.has("a")&&a.on("click",function(t){t.preventDefault(),n.datepicker("show")})}),t.isFunction(t.fn.timepicker)&&t(".timepicker").each(function(e,i){var n=t(i),r={template:attrDefault(n,"template",!1),showSeconds:attrDefault(n,"showSeconds",!1),defaultTime:attrDefault(n,"defaultTime","current"),showMeridian:attrDefault(n,"showMeridian",!0),minuteStep:attrDefault(n,"minuteStep",15),secondStep:attrDefault(n,"secondStep",15)},s=n.next(),a=n.prev();n.timepicker(r),s.is(".input-group-addon")&&s.has("a")&&s.on("click",function(t){t.preventDefault(),n.timepicker("showWidget")}),a.is(".input-group-addon")&&a.has("a")&&a.on("click",function(t){t.preventDefault(),n.timepicker("showWidget")})}),t.isFunction(t.fn.colorpicker)&&t(".colorpicker").each(function(e,i){var n=t(i),r={},s=n.next(),a=n.prev(),o=n.siblings(".input-group-addon").find(".color-preview");n.colorpicker(r),s.is(".input-group-addon")&&s.has("a")&&s.on("click",function(t){t.preventDefault(),n.colorpicker("show")}),a.is(".input-group-addon")&&a.has("a")&&a.on("click",function(t){t.preventDefault(),n.colorpicker("show")}),o.length&&(n.on("changeColor",function(t){o.css("background-color",t.color.toHex())}),n.val().length&&o.css("background-color",n.val()))}),t.isFunction(t.fn.daterangepicker)&&t(".daterange").each(function(e,i){var n={Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")]},r=t(i),s={format:attrDefault(r,"format","MM/DD/YYYY"),timePicker:attrDefault(r,"timePicker",!1),timePickerIncrement:attrDefault(r,"timePickerIncrement",!1),separator:attrDefault(r,"separator"," - ")},a=attrDefault(r,"minDate",""),o=attrDefault(r,"maxDate",""),l=attrDefault(r,"startDate",""),h=attrDefault(r,"endDate","");r.hasClass("add-ranges")&&(s.ranges=n),a.length&&(s.minDate=a),o.length&&(s.maxDate=o),l.length&&(s.startDate=l),h.length&&(s.endDate=h),r.daterangepicker(s,function(t,e){var i=r.data("daterangepicker");r.is("[data-callback]")&&callback_test(t,e),r.hasClass("daterange-inline")&&r.find("span").html(t.format(i.format)+i.separator+e.format(i.format))})}),t.isFunction(t.fn.inputmask)&&t("[data-mask]").each(function(e,i){var n=t(i),r=n.data("mask").toString(),s={numericInput:attrDefault(n,"numeric",!1),radixPoint:attrDefault(n,"radixPoint",""),rightAlignNumerics:"right"==attrDefault(n,"numericAlign","left")},a=attrDefault(n,"placeholder",""),o=attrDefault(n,"isRegex","");switch(a.length&&(s[a]=a),r.toLowerCase()){case"phone":r="(999) 999-9999";break;case"currency":case"rcurrency":var l=attrDefault(n,"sign","$");r="999,999,999.99","rcurrency"==n.data("mask").toLowerCase()?r+=" "+l:r=l+" "+r,s.numericInput=!0,s.rightAlignNumerics=!1,s.radixPoint=".";break;case"email":r="Regex",s.regex="[a-zA-Z0-9._%-]+@[a-zA-Z0-9-]+\\.[a-zA-Z]{2,4}";break;case"fdecimal":r="decimal",t.extend(s,{autoGroup:!0,groupSize:3,radixPoint:attrDefault(n,"rad","."),groupSeparator:attrDefault(n,"dec",",")})}o&&(s.regex=r,r="Regex"),n.inputmask(r,s)}),t.isFunction(t.fn.validate)&&t("form.validate").each(function(e,i){var n=t(i),r={rules:{},messages:{},errorElement:"span",errorClass:"validate-has-error",highlight:function(e){t(e).closest(".form-group").addClass("validate-has-error")},unhighlight:function(e){t(e).closest(".form-group").removeClass("validate-has-error")},errorPlacement:function(t,e){e.closest(".has-switch").length?t.insertAfter(e.closest(".has-switch")):e.parent(".checkbox, .radio").length||e.parent(".input-group").length?t.insertAfter(e.parent()):t.insertAfter(e)}},s=n.find("[data-validate]");s.each(function(e,i){var n=t(i),s=n.attr("name"),a=attrDefault(n,"validate","").toString(),o=a.split(",");for(var l in o){var h,c,u=o[l];"undefined"==typeof r.rules[s]&&(r.rules[s]={},r.messages[s]={}),-1!=t.inArray(u,["required","url","email","number","date","creditcard"])?(r.rules[s][u]=!0,c=n.data("message-"+u),c&&(r.messages[s][u]=c)):(h=u.match(/(\w+)\[(.*?)\]/i))&&-1!=t.inArray(h[1],["min","max","minlength","maxlength","equalTo"])&&(r.rules[s][h[1]]=h[2],c=n.data("message-"+h[1]),c&&(r.messages[s][h[1]]=c))}}),n.validate(r)}),t("input.file2[type=file]").each(function(e,i){var n=t(i),r=attrDefault(n,"label","Browse");n.bootstrapFileInput(r)}),t.isFunction(t.fn.fileinput)&&t(".fileinput").fileinput(),t.isFunction(t.fn.multiSelect)&&t(".multi-select").multiSelect(),t.isFunction(t.fn.bootstrapWizard)&&t(".form-wizard").each(function(e,i){var n=t(i),r=n.find(".steps-progress div"),s=n.find("> ul > li.active").index(),a=function(t,e,i){if(n.hasClass("validate")){var r=n.valid();if(!r)return n.data("validator").focusInvalid(),!1}return!0};n.bootstrapWizard({tabClass:"",onTabShow:function(t,e,i){setCurrentProgressTab(n,e,t,r,i)},onNext:a,onTabClick:a}),n.data("bootstrapWizard").show(s)}),t.isFunction(t.fn.wysihtml5)&&t(".wysihtml5").each(function(e,i){var n=t(i),r=attrDefault(n,"stylesheet-url","");t(".wysihtml5").wysihtml5({stylesheets:r.split(",")})}),t.isFunction(t.fn.ckeditor)&&t(".ckeditor").ckeditor({contentsLangDirection:rtl()?"rtl":"ltr"}),replaceCheckboxes(),t(".tile-progress").each(function(e,i){var n=t(i),r=n.find(".pct-counter"),s=n.find(".tile-progressbar span"),a=parseFloat(s.data("fill")),o=a.toString().length;if("undefined"==typeof scrollMonitor)s.width(a+"%"),r.html(a);else{var l=scrollMonitor.create(i);l.fullyEnterViewport(function(){s.width(a+"%"),l.destroy();var t={pct:0};TweenLite.to(t,1,{pct:a,ease:Quint.easeInOut,onUpdate:function(){var e=t.pct.toString().substring(0,o);r.html(e)}})})}}),t(".tile-stats").each(function(e,i){var n=t(i),r=n.find(".num"),s=attrDefault(r,"start",0),a=attrDefault(r,"end",0),o=attrDefault(r,"prefix",""),l=attrDefault(r,"postfix",""),h=attrDefault(r,"duration",1e3),c=attrDefault(r,"delay",1e3);if(a>s)if("undefined"==typeof scrollMonitor)r.html(o+a+l);else{var u=scrollMonitor.create(i);u.fullyEnterViewport(function(){var t={curr:s};TweenLite.to(t,h/1e3,{curr:a,ease:Power1.easeInOut,delay:c/1e3,onUpdate:function(){r.html(o+Math.round(t.curr)+l)}}),u.destroy()})}}),t.isFunction(t.fn.tocify)&&t("#toc").length){t("#toc").tocify({context:".tocify-content",selectors:"h2,h3,h4,h5"});var s=t(".tocify"),a=scrollMonitor.create(s.get(0));s.width(s.parent().width()),a.lock(),a.stateChange(function(){t(s.get(0)).toggleClass("fixed",this.isAboveViewport)})}if(public_vars.$body.on("click",'.modal[data-backdrop="static"]',function(e){if(t(e.target).is(".modal")){var i=t(this).find(".modal-dialog .modal-content"),n=new TimelineMax({paused:!0});n.append(TweenMax.to(i,.1,{css:{scale:1.1},ease:Expo.easeInOut})),n.append(TweenMax.to(i,.3,{css:{scale:1},ease:Back.easeOut})),n.play()}}),public_vars.$sidebarUserEnv.length){var o=public_vars.$sidebarUserEnv.find(".sui-normal"),l=public_vars.$sidebarUserEnv.find(".sui-hover");o.length&&l.length&&(public_vars.$sidebarUser.on("click",function(t){t.preventDefault(),l.addClass("visible")}),l.on("click",".close-sui-popup",function(t){t.preventDefault(),l.addClass("going-invisible"),l.removeClass("visible"),setTimeout(function(){l.removeClass("going-invisible")},220)}))}t(".input-spinner").each(function(e,i){var n=t(i),r=n.find("button:first"),s=(n.find("button:last"),n.find("input")),a=(attrDefault(r,"step",-1),attrDefault(r,"step",1),attrDefault(s,"min",null)),o=attrDefault(s,"max",null);n.find("button").on("click",function(e){e.preventDefault();var i=t(this),n=s.val(),a=attrDefault(i,"step",i[0]==r[0]?-1:1);a.toString().match(/^[0-9-\.]+$/)||(a=i[0]==r[0]?-1:1),n.toString().match(/^[0-9-\.]+$/)||(n=0),s.val(parseFloat(n)+a).trigger("keyup")}),s.keyup(function(){null!=a&&parseFloat(s.val())<a?s.val(a):null!=o&&parseFloat(s.val())>o&&s.val(o)})});var h=t(".search-results-env");if(h.length){var c=h.find(".nav-tabs li"),u=h.find(".search-results-panes .search-results-pane");c.find("a").on("click",function(e){e.preventDefault();var i=t(this),n=u.filter(i.attr("href"));c.not(i.parent()).removeClass("active"),i.parent().addClass("active"),u.not(n).fadeOut("fast",function(){n.fadeIn("fast")})})}fit_main_content_height();var d=0,p=function(){e.clearTimeout(d),fit_main_content_height(),d=setTimeout(p,800)};p(),onPageAppear(init_page_transitions)});var n=0;t(e).resize(function(){clearTimeout(n),n=setTimeout(trigger_resizable,200)})}(jQuery,window),jQuery(public_vars,{hover_index:4}),"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1),function(t,e,i){"use strict";t(document).ready(function(){if("undefined"!=typeof Dropzone&&t("#dropzone_example").length){var e=new Dropzone("#dropzone_example"),i=t("#dze_info"),n={uploaded:0,errors:0},r=t('<tr><td class="name"></td><td class="size"></td><td class="type"></td><td class="status"></td></tr>');e.on("success",function(t){var e=r.clone();i.removeClass("hidden"),e.addClass("success"),e.find(".name").html(t.name),e.find(".size").html(parseInt(t.size/1024,10)+" KB"),e.find(".type").html(t.type),e.find(".status").html('Uploaded <i class="entypo-check"></i>'),i.find("tbody").append(e),n.uploaded++,i.find("tfoot td").html('<span class="label label-success">'+n.uploaded+' uploaded</span> <span class="label label-danger">'+n.errors+" not uploaded</span>")}).on("error",function(t){var e=r.clone();i.removeClass("hidden"),e.addClass("danger"),e.find(".name").html(t.name),e.find(".size").html(parseInt(t.size/1024,10)+" KB"),e.find(".type").html(t.type),e.find(".status").html('Uploaded <i class="entypo-cancel"></i>'),i.find("tbody").append(e),n.errors++,i.find("tfoot td").html('<span class="label label-success">'+n.uploaded+' uploaded</span> <span class="label label-danger">'+n.errors+" not uploaded</span>")})}})}(jQuery,window),function(t){void 0===t.fn.inputmask&&(t.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:t.noop,onKeyDown:t.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z-]",cardinality:1},"*":{validator:"[A-Za-z-0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(t,e,i,n,r){return r=t.length,e||("*"==i?r=n.length+1:i>1&&(r+=t.length*(i-1))),r}},escapeRegex:function(t){return t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},t.fn.inputmask=function(e,n){function r(t){var e=document.createElement("input");t="on"+t;var i=t in e;return i||(e.setAttribute(t,"return;"),i="function"==typeof e[t]),i}function s(e,i){var n=d.aliases[e];return n?(n.alias&&s(n.alias),t.extend(!0,d,n),t.extend(!0,d,i),!0):!1}function a(e){d.numericInput&&(e=e.split("").reverse().join(""));var i=!1,n=0,r=d.greedy,s=d.repeat;"*"==s&&(r=!1),1==e.length&&0==r&&0!=s&&(d.placeholder=""),e=t.map(e.split(""),function(t,e){var r=[];if(t==d.escapeChar)i=!0;else if(t!=d.optionalmarker.start&&t!=d.optionalmarker.end||i){var s=d.definitions[t];if(s&&!i)for(var a=0;a<s.cardinality;a++)r.push(h(n+a));else r.push(t),i=!1;return n+=r.length,r}});for(var a=e.slice(),o=1;s>o&&r;o++)a=a.concat(e.slice());return{mask:a,repeat:s,greedy:r}}function o(e){d.numericInput&&(e=e.split("").reverse().join(""));var i=!1,n=!1,r=!1;return t.map(e.split(""),function(t,e){var s=[];if(t==d.escapeChar)n=!0;else{if(t!=d.optionalmarker.start||n){if(t!=d.optionalmarker.end||n){var a=d.definitions[t];if(a&&!n){for(var o=a.prevalidator,l=o?o.length:0,h=1;h<a.cardinality;h++){var c=l>=h?o[h-1]:[],u=c.validator,c=c.cardinality;s.push({fn:u?"string"==typeof u?RegExp(u):new function(){this.test=u}:/./,cardinality:c?c:1,optionality:i,newBlockMarker:1==i?r:!1,offset:0,casing:a.casing,def:a.definitionSymbol||t}),1==i&&(r=!1)}s.push({fn:a.validator?"string"==typeof a.validator?RegExp(a.validator):new function(){this.test=a.validator}:/./,cardinality:a.cardinality,optionality:i,newBlockMarker:r,offset:0,casing:a.casing,def:a.definitionSymbol||t})}else s.push({fn:null,cardinality:0,optionality:i,newBlockMarker:r,offset:0,casing:null,def:t}),n=!1;return r=!1,s}i=!1}else i=!0;r=!0}})}function l(){function e(t){var e=t.length;for(i=0;i<e&&t.charAt(i)!=d.optionalmarker.start;i++);var n=[t.substring(0,i)];return i<e&&n.push(t.substring(i+1,e)),n}function n(l,h,c){var u=0,p=0,f=h.length;for(i=0;i<f&&(h.charAt(i)==d.optionalmarker.start&&u++,h.charAt(i)==d.optionalmarker.end&&p++,!(u>0&&u==p));i++);u=[h.substring(0,i)],i<f&&u.push(h.substring(i+1,f)),p=e(u[0]),1<p.length?(h=l+p[0]+(d.optionalmarker.start+p[1]+d.optionalmarker.end)+(1<u.length?u[1]:""),-1==t.inArray(h,s)&&(s.push(h),f=a(h),r.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:o(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:c})),h=l+p[0]+(1<u.length?u[1]:""),-1==t.inArray(h,s)&&(s.push(h),f=a(h),r.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:o(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:c})),1<e(p[1]).length&&n(l+p[0],p[1]+u[1],c),1<u.length&&1<e(u[1]).length&&(n(l+p[0]+(d.optionalmarker.start+p[1]+d.optionalmarker.end),u[1],c),n(l+p[0],u[1],c))):(h=l+u,-1==t.inArray(h,s)&&(s.push(h),f=a(h),r.push({mask:h,_buffer:f.mask,buffer:f.mask.slice(),tests:o(h),lastValidPosition:-1,greedy:f.greedy,repeat:f.repeat,metadata:c})))}var r=[],s=[],l=[];return t.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),t.isArray(d.mask)?t.each(d.mask,function(t,e){void 0!=e.mask?n("",e.mask.toString(),e):n("",e.toString())}):n("",d.mask.toString()),function(t){function e(){this.matches=[],this.isQuantifier=this.isOptional=this.isGroup=!1}var i,n=/(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g,r=new e,s=[];for(l=[];i=n.exec(t);)switch(i=i[0],i.charAt(0)){case d.optionalmarker.end:case d.groupmarker.end:i=s.pop(),0<s.length?s[s.length-1].matches.push(i):(l.push(i),r=new e);break;case d.optionalmarker.start:!r.isGroup&&0<r.matches.length&&l.push(r),r=new e,r.isOptional=!0,s.push(r);break;case d.groupmarker.start:!r.isGroup&&0<r.matches.length&&l.push(r),r=new e,r.isGroup=!0,s.push(r);break;case d.quantifiermarker.start:var a=new e;a.isQuantifier=!0,a.matches.push(i),0<s.length?s[s.length-1].matches.push(a):r.matches.push(a);break;default:0<s.length?s[s.length-1].matches.push(i):r.matches.push(i)}return 0<r.matches.length&&l.push(r),l}(d.mask),d.greedy?r:r.sort(function(t,e){return t.mask.length-e.mask.length})}function h(t){return d.placeholder.charAt(t%d.placeholder.length)}function c(e,i){function n(){return e[i]}function r(){return n().tests}function s(){return n()._buffer}function a(){return n().buffer}function o(r,s,o){function l(t,e,i,n){for(var r=u(t),s=i?1:0,a="",o=e.buffer,l=e.tests[r].cardinality;l>s;l--)a+=_(o,r-(l-1));return i&&(a+=i),null!=e.tests[r].fn?e.tests[r].fn.test(a,o,t,n,d):i==_(e._buffer,t,!0)||i==d.skipOptionalPartCharacter?{refresh:!0,c:_(e._buffer,t,!0),pos:t}:!1}if(o=!0===o){var h=l(r,n(),s,o);return!0===h&&(h={pos:r}),h}var f=[],h=!1,g=i,m=a().slice(),w=n().lastValidPosition;y(r);var x=[];return t.each(e,function(t,e){if("object"==typeof e){i=t;var u,d=r,y=n().lastValidPosition;if(y==w){if(d-w>1)for(y=-1==y?0:y;d>y&&(u=l(y,n(),m[y],!0),!1!==u);y++)b(a(),y,m[y],!0),!0===u&&(u={pos:y}),u=u.pos||y,n().lastValidPosition<u&&(n().lastValidPosition=u);if(!c(d)&&!l(d,n(),s,o)){for(y=v(d)-d,u=0;y>u&&!1===l(++d,n(),s,o);u++);x.push(i)}}(n().lastValidPosition>=w||i==g)&&d>=0&&d<p()&&(h=l(d,n(),s,o),!1!==h&&(!0===h&&(h={pos:d}),u=h.pos||d,n().lastValidPosition<u&&(n().lastValidPosition=u)),f.push({activeMasksetIndex:t,result:h}))}}),i=g,function(i,n){var a=!1;if(t.each(n,function(e,n){return(a=-1==t.inArray(n.activeMasksetIndex,i)&&!1!==n.result)?!1:void 0}),a)n=t.map(n,function(n,r){return-1==t.inArray(n.activeMasksetIndex,i)?n:void(e[n.activeMasksetIndex].lastValidPosition=w)});else{var o=-1,h=-1;t.each(n,function(e,n){-1!=t.inArray(n.activeMasksetIndex,i)&&!1!==n.result&(-1==o||o>n.result.pos)&&(o=n.result.pos,h=n.activeMasksetIndex)}),n=t.map(n,function(n,a){if(-1!=t.inArray(n.activeMasksetIndex,i)){if(n.result.pos==o)return n;if(!1!==n.result){for(var c=r;o>c&&(rsltValid=l(c,e[n.activeMasksetIndex],e[h].buffer[c],!0),!1!==rsltValid);c++)b(e[n.activeMasksetIndex].buffer,c,e[h].buffer[c],!0),e[n.activeMasksetIndex].lastValidPosition=c;return rsltValid=l(o,e[n.activeMasksetIndex],s,!0),!1!==rsltValid&&(b(e[n.activeMasksetIndex].buffer,o,s,!0),e[n.activeMasksetIndex].lastValidPosition=o),n}}})}return n}(x,f)}function l(){var r=i,s={activeMasksetIndex:0,lastValidPosition:-1,next:-1};t.each(e,function(t,e){"object"==typeof e&&(i=t,n().lastValidPosition>s.lastValidPosition?(s.activeMasksetIndex=t,s.lastValidPosition=n().lastValidPosition,s.next=v(n().lastValidPosition)):n().lastValidPosition==s.lastValidPosition&&(-1==s.next||s.next>v(n().lastValidPosition))&&(s.activeMasksetIndex=t,s.lastValidPosition=n().lastValidPosition,s.next=v(n().lastValidPosition)))}),i=-1!=s.lastValidPosition&&e[r].lastValidPosition==s.lastValidPosition?r:s.activeMasksetIndex,r!=i&&(k(a(),v(s.lastValidPosition),p()),n().writeOutBuffer=!0),A.data("_inputmask").activeMasksetIndex=i}function c(t){return t=u(t),t=r()[t],void 0!=t?t.fn:!1}function u(t){return t%r().length}function p(){return d.getMaskLength(s(),n().greedy,n().repeat,a(),d)}function v(t){var e=p();if(t>=e)return e;for(;++t<e&&!c(t););return t}function y(t){if(0>=t)return 0;for(;0<--t&&!c(t););return t}function b(t,e,i,n){n&&(e=w(t,e)),n=r()[u(e)];var s=i;if(void 0!=s&&void 0!=n)switch(n.casing){case"upper":s=i.toUpperCase();break;case"lower":s=i.toLowerCase()}t[e]=s}function _(t,e,i){return i&&(e=w(t,e)),t[e]}function w(t,e){for(var i;void 0==t[e]&&t.length<p();)for(i=0;void 0!==s()[i];)t.push(s()[i++]);return e}function x(t,e,i){t._valueSet(e.join("")),void 0!=i&&R(t,i)}function k(t,e,i,n){for(var r=p();i>e&&r>e;e++)!0===n?c(e)||b(t,e,""):b(t,e,_(s().slice(),e,!0))}function C(t,e){var i=u(e);b(t,e,_(s(),i))}function S(r,a,o,l){l=void 0!=l?l.slice():T(r._valueGet()).split(""),t.each(e,function(t,e){"object"==typeof e&&(e.buffer=e._buffer.slice(),e.lastValidPosition=-1,e.p=-1)}),!0!==o&&(i=0),a&&r._valueSet(""),p(),t.each(l,function(e,i){var l=n().lastValidPosition,h=-1==l?e:v(l);(t.isArray(d.mask)||-1==t.inArray(i,s().slice(l+1,h)))&&t(r).trigger("_keypress",[!0,i.charCodeAt(0),a,o,e])}),!0===o&&-1!=n().p&&(n().lastValidPosition=y(n().p))}function M(e){return t.inputmask.escapeRegex.call(this,e)}function T(t){return t.replace(RegExp("("+M(s().join(""))+")*$"),"")}function P(t){var e,i,n=a(),s=n.slice();for(i=s.length-1;i>=0&&(e=u(i),r()[e].optionality)&&(!c(i)||!o(i,n[i],!0));i--)s.pop();x(t,s)}function E(e,i){if(!r()||!0!==i&&e.hasClass("hasDatepicker"))return e[0]._valueGet();var n=t.map(a(),function(t,e){return c(e)&&o(e,t,!0)?t:null});return(z?n.reverse():n).join("")}function D(t){return!z||"number"!=typeof t||d.greedy&&""==d.placeholder||(t=a().length-t),t}function R(e,i,n){var r=e.jquery&&0<e.length?e[0]:e;return"number"!=typeof i?t(e).is(":visible")?(r.setSelectionRange?(i=r.selectionStart,n=r.selectionEnd):document.selection&&document.selection.createRange&&(e=document.selection.createRange(),i=0-e.duplicate().moveStart("character",-1e5),n=i+e.text.length),i=D(i),n=D(n),{begin:i,end:n}):{begin:0,end:0}:(i=D(i),n=D(n),t(e).is(":visible")&&(n="number"==typeof n?n:i,r.scrollLeft=r.scrollWidth,0==d.insertMode&&i==n&&n++,r.setSelectionRange?(r.selectionStart=i,r.selectionEnd=g?i:n):r.createTextRange&&(e=r.createTextRange(),e.collapse(!0),e.moveEnd("character",n),e.moveStart("character",i),e.select())),void 0)}function I(n){var r=!1,a=0,o=i;return t.each(e,function(t,e){if("object"==typeof e){i=t;var o=y(p());if(e.lastValidPosition>=a&&e.lastValidPosition==o){for(var l=!0,d=0;o>=d;d++){var f=c(d),g=u(d);if(f&&(void 0==n[d]||n[d]==h(d))||!f&&n[d]!=s()[g]){l=!1;break}}if(r=r||l)return!1}a=e.lastValidPosition}}),i=o,r}var A,z=!1,O=a().join("");return this.unmaskedvalue=function(t,e){return z=t.data("_inputmask").isRTL,E(t,e)},this.isComplete=function(t){return I(t)},this.mask=function(g){function w(e){e=t._data(e).events,t.each(e,function(e,i){t.each(i,function(t,e){if("inputmask"==e.namespace&&"setvalue"!=e.type&&"_keypress"!=e.type){var i=e.handler;e.handler=function(t){return this.readOnly||this.disabled?void t.preventDefault:i.apply(this,arguments)}}})})}function M(e){var i;if(Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(e,"value")),i&&i.get){if(!e._valueGet){var n=i.get,r=i.set;e._valueGet=function(){return z?n.call(this).split("").reverse().join(""):n.call(this)},e._valueSet=function(t){r.call(this,z?t.split("").reverse().join(""):t)},Object.defineProperty(e,"value",{get:function(){var e=t(this),i=t(this).data("_inputmask"),r=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?e.inputmask("unmaskedvalue"):n.call(this)!=r[s]._buffer.join("")?n.call(this):"";
},set:function(e){r.call(this,e),t(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&e.__lookupGetter__("value")?e._valueGet||(n=e.__lookupGetter__("value"),r=e.__lookupSetter__("value"),e._valueGet=function(){return z?n.call(this).split("").reverse().join(""):n.call(this)},e._valueSet=function(t){r.call(this,z?t.split("").reverse().join(""):t)},e.__defineGetter__("value",function(){var e=t(this),i=t(this).data("_inputmask"),r=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?e.inputmask("unmaskedvalue"):n.call(this)!=r[s]._buffer.join("")?n.call(this):""}),e.__defineSetter__("value",function(e){r.call(this,e),t(this).triggerHandler("setvalue.inputmask")})):(e._valueGet||(e._valueGet=function(){return z?this.value.split("").reverse().join(""):this.value},e._valueSet=function(t){this.value=z?t.split("").reverse().join(""):t}),(void 0==t.valHooks.text||1!=t.valHooks.text.inputmaskpatch)&&(n=t.valHooks.text&&t.valHooks.text.get?t.valHooks.text.get:function(){return this.value},r=t.valHooks.text&&t.valHooks.text.set?t.valHooks.text.set:function(t){return this.value=t},jQuery.extend(t.valHooks,{text:{get:function(e){var i=t(e);return i.data("_inputmask")?i.data("_inputmask").opts.autoUnmask?i.inputmask("unmaskedvalue"):(e=n.call(e),i=i.data("_inputmask"),e!=i.masksets[i.activeMasksetIndex]._buffer.join("")?e:""):n.call(e)},set:function(e,i){var n=t(e),s=r.call(e,i);return n.data("_inputmask")&&n.triggerHandler("setvalue.inputmask"),s},inputmaskpatch:!0}})))}function E(t,e,i,l){var d=a();if(!1!==l)for(;!c(t)&&t-1>=0;)t--;for(l=t;e>l&&l<p();l++)if(c(l)){C(d,l);var f=v(l),g=_(d,f);if(g!=h(f))if(f<p()&&!1!==o(l,g,!0)&&r()[u(l)].def==r()[u(f)].def)b(d,l,_(d,f),!0),e>f&&C(d,f);else if(c(l))break}else C(d,l);if(void 0!=i&&b(d,y(e),i),0==n().greedy){for(e=T(d.join("")).split(""),d.length=e.length,l=0,i=d.length;i>l;l++)d[l]=e[l];0==d.length&&(n().buffer=s().slice())}return t}function L(t,e,i,l){for(var d=a();e>=t&&t<p();t++)if(c(t)){var f=_(d,t,!0);if(b(d,t,i,!0),f!=h(t)){if(i=v(t),!(i<p()))break;if(!1!==o(i,f,!0)&&r()[u(t)].def==r()[u(i)].def)i=f;else{if(c(i))break;i=f}}else if(i=f,!0!==l)break}else C(d,t);if(l=d.length,0==n().greedy){for(i=T(d.join("")).split(""),d.length=i.length,t=0,f=d.length;f>t;t++)d[t]=i[t];0==d.length&&(n().buffer=s().slice())}return e-(l-d.length)}function H(t,i,r){if(d.numericInput||z){switch(i){case d.keyCode.BACKSPACE:i=d.keyCode.DELETE;break;case d.keyCode.DELETE:i=d.keyCode.BACKSPACE}if(z){var s=r.end;r.end=r.begin,r.begin=s}}s=!0,r.begin==r.end?(s=i==d.keyCode.BACKSPACE?r.begin-1:r.begin,d.isNumeric&&""!=d.radixPoint&&a()[s]==d.radixPoint&&(r.begin=a().length-1==s?r.begin:i==d.keyCode.BACKSPACE?s:v(s),r.end=r.begin),s=!1,i==d.keyCode.BACKSPACE?r.begin--:i==d.keyCode.DELETE&&r.end++):1!=r.end-r.begin||d.insertMode||(s=!1,i==d.keyCode.BACKSPACE&&r.begin--),k(a(),r.begin,r.end);var o=p();if(0==d.greedy)E(r.begin,o,void 0,!z&&i==d.keyCode.BACKSPACE&&!s);else{for(var l=r.begin,h=r.begin;h<r.end;h++)(c(h)||!s)&&(l=E(r.begin,o,void 0,!z&&i==d.keyCode.BACKSPACE&&!s));s||(r.begin=l)}i=v(-1),k(a(),r.begin,r.end,!0),S(t,!1,void 0==e[1],a()),n().lastValidPosition<i?(n().lastValidPosition=-1,n().p=i):n().p=r.begin}function N(e){j=!1;var i=this,r=t(i),o=e.keyCode,h=R(i);o==d.keyCode.BACKSPACE||o==d.keyCode.DELETE||f&&127==o||e.ctrlKey&&88==o?(e.preventDefault(),88==o&&(O=a().join("")),H(i,o,h),l(),x(i,a(),n().p),i._valueGet()==s().join("")&&r.trigger("cleared"),d.showTooltip&&r.prop("title",n().mask)):o==d.keyCode.END||o==d.keyCode.PAGE_DOWN?setTimeout(function(){var t=v(n().lastValidPosition);d.insertMode||t!=p()||e.shiftKey||t--,R(i,e.shiftKey?h.begin:t,t)},0):o==d.keyCode.HOME&&!e.shiftKey||o==d.keyCode.PAGE_UP?R(i,0,e.shiftKey?h.begin:0):o==d.keyCode.ESCAPE||90==o&&e.ctrlKey?(S(i,!0,!1,O),r.click()):o!=d.keyCode.INSERT||e.shiftKey||e.ctrlKey?0!=d.insertMode||e.shiftKey||(o==d.keyCode.RIGHT?setTimeout(function(){var t=R(i);R(i,t.begin)},0):o==d.keyCode.LEFT&&setTimeout(function(){var t=R(i);R(i,t.begin-1)},0)):(d.insertMode=!d.insertMode,R(i,d.insertMode||h.begin!=p()?h.begin:h.begin-1)),r=R(i),!0===d.onKeyDown.call(this,e,a(),d)&&R(i,r.begin,r.end),Y=-1!=t.inArray(o,d.ignorables)}function F(r,s,c,u,f,g){if(void 0==c&&j)return!1;j=!0;var m=t(this);if(r=r||window.event,c=c||r.which||r.charCode||r.keyCode,(!r.ctrlKey||!r.altKey)&&(r.ctrlKey||r.metaKey||Y)&&!0!==s)return!0;if(c){!0!==s&&46==c&&0==r.shiftKey&&","==d.radixPoint&&(c=44);var w,k,C=String.fromCharCode(c);s?(c=f?g:n().lastValidPosition+1,w={begin:c,end:c}):w=R(this),g=z?1<w.begin-w.end||1==w.begin-w.end&&d.insertMode:1<w.end-w.begin||1==w.end-w.begin&&d.insertMode;var S=i;g&&(i=S,t.each(e,function(t,e){"object"==typeof e&&(i=t,n().undoBuffer=a().join(""))}),H(this,d.keyCode.DELETE,w),d.insertMode||t.each(e,function(t,e){"object"==typeof e&&(i=t,L(w.begin,p(),h(w.begin),!0),n().lastValidPosition=v(n().lastValidPosition))}),i=S);var M=a().join("").indexOf(d.radixPoint);d.isNumeric&&!0!==s&&-1!=M&&(d.greedy&&w.begin<=M?(w.begin=y(w.begin),w.end=w.begin):C==d.radixPoint&&(w.begin=M,w.end=w.begin));var T=w.begin;c=o(T,C,f),!0===f&&(c=[{activeMasksetIndex:i,result:c}]);var P=-1;if(t.each(c,function(t,e){i=e.activeMasksetIndex,n().writeOutBuffer=!0;var r=e.result;if(!1!==r){var s=!1,o=a();if(!0!==r&&(s=r.refresh,T=void 0!=r.pos?r.pos:T,C=void 0!=r.c?r.c:C),!0!==s){if(1==d.insertMode){for(r=p(),s=o.slice();_(s,r,!0)!=h(r)&&r>=T;)r=0==r?-1:y(r);r>=T?(L(T,o.length,C),o=n().lastValidPosition,r=v(o),r!=p()&&o>=T&&_(a(),r,!0)!=h(r)&&(n().lastValidPosition=r)):n().writeOutBuffer=!1}else b(o,T,C,!0);(-1==P||P>v(T))&&(P=v(T))}else!f&&(o=T<p()?T+1:T,-1==P||P>o)&&(P=o);P>n().p&&(n().p=P)}}),!0!==f&&(i=S,l()),!1!==u&&(t.each(c,function(t,e){return e.activeMasksetIndex==i?(k=e,!1):void 0}),void 0!=k)){var E=this;if(setTimeout(function(){d.onKeyValidation.call(E,k.result,d)},0),n().writeOutBuffer&&!1!==k.result){var D=a();u=s?void 0:d.numericInput?T>M?y(P):C==d.radixPoint?P-1:y(P-1):P,x(this,D,u),!0!==s&&setTimeout(function(){I(D)&&m.trigger("complete")},0)}else g&&(n().buffer=n().undoBuffer.split(""))}d.showTooltip&&m.prop("title",n().mask),r.preventDefault()}}function B(e){var i=t(this),n=e.keyCode,r=a();d.onKeyUp.call(this,e,r,d),n==d.keyCode.TAB&&d.showMaskOnFocus&&(i.hasClass("focus.inputmask")&&0==this._valueGet().length?(r=s().slice(),x(this,r),R(this,0),O=a().join("")):(x(this,r),R(this,0,p())))}if(A=t(g),A.is(":input")){if(A.data("_inputmask",{masksets:e,activeMasksetIndex:i,opts:d,isRTL:!1}),d.showTooltip&&A.prop("title",n().mask),n().greedy=n().greedy?n().greedy:0==n().repeat,null!=A.attr("maxLength")){var W=A.prop("maxLength");W>-1&&t.each(e,function(t,e){"object"==typeof e&&"*"==e.repeat&&(e.repeat=W)}),p()>W&&W>-1&&(W<s().length&&(s().length=W),0==n().greedy&&(n().repeat=Math.round(W/s().length)),A.prop("maxLength",2*p()))}M(g);var j=!1,Y=!1;if(d.numericInput&&(d.isNumeric=d.numericInput),("rtl"==g.dir||d.numericInput&&d.rightAlignNumerics||d.isNumeric&&d.rightAlignNumerics)&&A.css("text-align","right"),"rtl"==g.dir||d.numericInput){g.dir="ltr",A.removeAttr("dir");var $=A.data("_inputmask");$.isRTL=!0,A.data("_inputmask",$),z=!0}A.unbind(".inputmask"),A.removeClass("focus.inputmask"),A.closest("form").bind("submit",function(){O!=a().join("")&&A.change()}).bind("reset",function(){setTimeout(function(){A.trigger("setvalue")},0)}),A.bind("mouseenter.inputmask",function(){!t(this).hasClass("focus.inputmask")&&d.showMaskOnHover&&this._valueGet()!=a().join("")&&x(this,a())}).bind("blur.inputmask",function(){var n=t(this),r=this._valueGet(),o=a();n.removeClass("focus.inputmask"),O!=a().join("")&&n.change(),d.clearMaskOnLostFocus&&""!=r&&(r==s().join("")?this._valueSet(""):P(this)),I(o)||(n.trigger("incomplete"),d.clearIncomplete&&(t.each(e,function(t,e){"object"==typeof e&&(e.buffer=e._buffer.slice(),e.lastValidPosition=-1)}),i=0,d.clearMaskOnLostFocus?this._valueSet(""):(o=s().slice(),x(this,o))))}).bind("focus.inputmask",function(){var e=t(this),i=this._valueGet();d.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!d.showMaskOnHover||d.showMaskOnHover&&""==i)&&this._valueGet()!=a().join("")&&x(this,a(),v(n().lastValidPosition)),e.addClass("focus.inputmask"),O=a().join("")}).bind("mouseleave.inputmask",function(){var e=t(this);d.clearMaskOnLostFocus&&(e.hasClass("focus.inputmask")||this._valueGet()==e.attr("placeholder")||(this._valueGet()==s().join("")||""==this._valueGet()?this._valueSet(""):P(this)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var i=R(e),r=a();if(i.begin==i.end){var i=d.isRTL?D(i.begin):i.begin,s=n().lastValidPosition,r=d.isNumeric&&!1===d.skipRadixDance&&""!=d.radixPoint&&-1!=t.inArray(d.radixPoint,r)?d.numericInput?v(t.inArray(d.radixPoint,r)):t.inArray(d.radixPoint,r):v(s);r>i?c(i)?R(e,i):R(e,v(i)):R(e,r)}},0)}).bind("dblclick.inputmask",function(){var t=this;setTimeout(function(){R(t,0,v(n().lastValidPosition))},0)}).bind("keydown.inputmask",N).bind("keypress.inputmask",F).bind("keyup.inputmask",B).bind(m+".inputmask dragdrop.inputmask drop.inputmask",function(e){var i=this,n=t(i);return"propertychange"==e.type&&i._valueGet().length<=p()?!0:void setTimeout(function(){S(i,!0,!1),I(a())&&n.trigger("complete"),n.click()},0)}).bind("setvalue.inputmask",function(){S(this,!0),O=a().join(""),this._valueGet()==s().join("")&&this._valueSet("")}).bind("_keypress.inputmask",F).bind("complete.inputmask",d.oncomplete).bind("incomplete.inputmask",d.onincomplete).bind("cleared.inputmask",d.oncleared),S(g,!0,!1),O=a().join("");var U;try{U=document.activeElement}catch(q){}U===g?(A.addClass("focus.inputmask"),R(g,v(n().lastValidPosition))):d.clearMaskOnLostFocus?a().join("")==s().join("")?g._valueSet(""):P(g):x(g,a()),w(g)}},this}var u,d=t.extend(!0,{},t.inputmask.defaults,n),p=null!==navigator.userAgent.match(/msie 10/i),f=null!==navigator.userAgent.match(/iphone/i),g=null!==navigator.userAgent.match(/android.*safari.*/i),m=r("paste")&&!p?"paste":r("input")?"input":"propertychange",v=0;if(g&&(p=navigator.userAgent.match(/safari.*/i),parseInt(RegExp(/[0-9]+/).exec(p))),"string"==typeof e)switch(e){case"mask":return s(d.alias,n),u=l(),this.each(function(){c(t.extend(!0,{},u),0).mask(this)});case"unmaskedvalue":return p=t(this),p.data("_inputmask")?(u=p.data("_inputmask").masksets,v=p.data("_inputmask").activeMasksetIndex,d=p.data("_inputmask").opts,c(u,v).unmaskedvalue(p)):p.val();case"remove":return this.each(function(){var e=t(this);if(e.data("_inputmask")){u=e.data("_inputmask").masksets,v=e.data("_inputmask").activeMasksetIndex,d=e.data("_inputmask").opts,this._valueSet(c(u,v).unmaskedvalue(e,!0)),e.removeData("_inputmask"),e.unbind(".inputmask"),e.removeClass("focus.inputmask");var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(this,"value")),i&&i.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet,delete this._valueSet}catch(n){this._valueSet=this._valueGet=void 0}}});case"getemptymask":return this.data("_inputmask")?(u=this.data("_inputmask").masksets,v=this.data("_inputmask").activeMasksetIndex,u[v]._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return u=this.data("_inputmask").masksets,v=this.data("_inputmask").activeMasksetIndex,d=this.data("_inputmask").opts,c(u,v).isComplete(this[0]._valueGet().split(""));case"getmetadata":if(this.data("_inputmask"))return u=this.data("_inputmask").masksets,v=this.data("_inputmask").activeMasksetIndex,u[v].metadata;return;default:return s(e,n)||(d.mask=e),u=l(),this.each(function(){c(t.extend(!0,{},u),v).mask(this)})}else{if("object"==typeof e)return d=t.extend(!0,{},t.inputmask.defaults,e),s(d.alias,e),u=l(),this.each(function(){c(t.extend(!0,{},u),v).mask(this)});if(void 0==e)return this.each(function(){var e=t(this).attr("data-inputmask");if(e&&""!=e)try{var e=e.replace(RegExp("'","g"),'"'),i=t.parseJSON("{"+e+"}");t.extend(!0,i,n),d=t.extend(!0,{},t.inputmask.defaults,i),s(d.alias,i),d.alias=void 0,t(this).inputmask(d)}catch(r){}})}return this})}(jQuery),function(t){t.extend(t.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-z-0-9]",cardinality:1,casing:"upper"}}),t.extend(t.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(t,e,i,n,r){return!0},cardinality:8,prevalidator:function(){for(var t=[],e=0;8>e;e++)t[e]=function(){var t=e;return{validator:function(e,i,n,r,s){if(s.regex["urlpre"+(t+1)]){var a=e;if(0<t+1-e.length&&(a=i.join("").substring(0,t+1-e.length)+""+a),e=s.regex["urlpre"+(t+1)].test(a),!r&&!e){for(n-=t,r=0;r<s.defaultPrefix.length;r++)i[n]=s.defaultPrefix[r],n++;for(r=0;r<a.length-1;r++)i[n]=a[r],n++;return{pos:n}}return e}return!1},cardinality:t}}();return t}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:["[[x]y]z.[[x]y]z.[[x]y]z.x[yz]","[[x]y]z.[[x]y]z.[[x]y]z.[[x]y][z]"],definitions:{x:{validator:"[012]",cardinality:1,definitionSymbol:"i"},y:{validator:function(t,e,i,n,r){return t=i-1>-1&&"."!=e[i-1]?e[i-1]+t:"0"+t,/2[0-5]|[01][0-9]/.test(t)},cardinality:1,definitionSymbol:"i"},z:{validator:function(t,e,i,n,r){return i-1>-1&&"."!=e[i-1]?(t=e[i-1]+t,t=i-2>-1&&"."!=e[i-2]?e[i-2]+t:"0"+t):t="00"+t,/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(t)},cardinality:1,definitionSymbol:"i"}}}})}(jQuery),function(t){t.extend(t.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extend(t.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(e){return e=t.inputmask.escapeRegex.call(this,e),RegExp("((0[1-9]|[12][0-9]|3[01])"+e+"[01])")},val2:function(e){return e=t.inputmask.escapeRegex.call(this,e),RegExp("((0[1-9]|[12][0-9])"+e+"(0[1-9]|1[012]))|(30"+e+"(0[13-9]|1[012]))|(31"+e+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){var n=parseInt(t.concat(e.toString().slice(t.length)));return t=parseInt(t.concat(i.toString().slice(t.length))),(NaN!=n?n>=e&&i>=n:!1)||(NaN!=t?t>=e&&i>=t:!1)},determinebaseyear:function(t,e,i){var n=(new Date).getFullYear();if(t>n)return t;if(n>e){for(var n=e.toString().slice(0,2),r=e.toString().slice(2,4);n+i>e;)n--;return e=n+r,t>e?t:e}return n},onKeyUp:function(e,i,n){i=t(this),e.ctrlKey&&e.keyCode==n.keyCode.RIGHT&&(e=new Date,i.val(e.getDate().toString()+(e.getMonth()+1).toString()+e.getFullYear().toString()))},definitions:{1:{validator:function(t,e,i,n,r){var s=r.regex.val1.test(t);return n||s||t.charAt(1)!=r.separator&&-1=="-./".indexOf(t.charAt(1))||!(s=r.regex.val1.test("0"+t.charAt(0)))?s:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,r){var s=r.regex.val1pre.test(t);return n||s||!(s=r.regex.val1.test("0"+t))?s:(e[i]="0",i++,{pos:i})},cardinality:1}]},2:{validator:function(t,e,i,n,r){var s=e.join("").substr(0,3),a=r.regex.val2(r.separator).test(s+t);return n||a||t.charAt(1)!=r.separator&&-1=="-./".indexOf(t.charAt(1))||!(a=r.regex.val2(r.separator).test(s+"0"+t.charAt(0)))?a:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,r){var s=e.join("").substr(0,3),a=r.regex.val2pre(r.separator).test(s+t);return n||a||!(a=r.regex.val2(r.separator).test(s+"0"+t))?a:(e[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(t,e,i,n,r){return r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear)?e.join("").substr(0,6)!=r.leapday?!0:(t=parseInt(t,10),0===t%4?0===t%100?0===t%400?!0:!1:!0:!1):!1},cardinality:4,prevalidator:[{validator:function(t,e,i,n,r){var s=r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear);if(!n&&!s){if(n=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t+"0").toString().slice(0,1),s=r.isInYearRange(n+t,r.yearrange.minyear,r.yearrange.maxyear))return e[i++]=n[0],{pos:i};if(n=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t+"0").toString().slice(0,2),s=r.isInYearRange(n+t,r.yearrange.minyear,r.yearrange.maxyear))return e[i++]=n[0],e[i++]=n[1],{pos:i}}return s},cardinality:1},{validator:function(t,e,i,n,r){var s=r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear);if(!n&&!s){if(n=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t).toString().slice(0,2),s=r.isInYearRange(t[0]+n[1]+t[1],r.yearrange.minyear,r.yearrange.maxyear))return e[i++]=n[1],{pos:i};if(n=r.determinebaseyear(r.yearrange.minyear,r.yearrange.maxyear,t).toString().slice(0,2),r.isInYearRange(n+t,r.yearrange.minyear,r.yearrange.maxyear)?e.join("").substr(0,6)!=r.leapday?s=!0:(r=parseInt(t,10),s=0===r%4?0===r%100?0===r%400?!0:!1:!0:!1):s=!1,s)return e[i-1]=n[0],e[i++]=n[1],e[i++]=t[0],{pos:i}}return s},cardinality:2},{validator:function(t,e,i,n,r){return r.isInYearRange(t,r.yearrange.minyear,r.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){return e=t.inputmask.escapeRegex.call(this,e),RegExp("((0[13-9]|1[012])"+e+"[0-3])|(02"+e+"[0-2])")},val2:function(e){return e=t.inputmask.escapeRegex.call(this,e),RegExp("((0[1-9]|1[012])"+e+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+e+"30)|((0[13578]|1[02])"+e+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(e,i,n){i=t(this),e.ctrlKey&&e.keyCode==n.keyCode.RIGHT&&(e=new Date,i.val((e.getMonth()+1).toString()+e.getDate().toString()+e.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(e,i,n){i=t(this),e.ctrlKey&&e.keyCode==n.keyCode.RIGHT&&(e=new Date,i.val(e.getFullYear().toString()+(e.getMonth()+1).toString()+e.getDate().toString()))},definitions:{2:{validator:function(t,e,i,n,r){var s=e.join("").substr(5,3),a=r.regex.val2(r.separator).test(s+t);return n||a||t.charAt(1)!=r.separator&&-1=="-./".indexOf(t.charAt(1))||!(a=r.regex.val2(r.separator).test(s+"0"+t.charAt(0)))?a?e.join("").substr(4,4)+t!=r.leapday?!0:(t=parseInt(e.join("").substr(0,4),10),0===t%4?0===t%100?0===t%400?!0:!1:!0:!1):a:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,r){var s=e.join("").substr(5,3),a=r.regex.val2pre(r.separator).test(s+t);return n||a||!(a=r.regex.val2(r.separator).test(s+"0"+t))?a:(e[i]="0",i++,{pos:i})},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-9]|1[3-9]/,hrs:/[01][0-9]|2[0-3]/,ampm:/^[a|p|A|P][m|M]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,r){var s=r.regex.hrs.test(t);return n||s||t.charAt(1)!=r.timeseparator&&-1=="-.:".indexOf(t.charAt(1))||!(s=r.regex.hrs.test("0"+t.charAt(0)))?s&&"24"!==r.hourFormat&&r.regex.hrs24.test(t)?(t=parseInt(t,10),e[i+5]=24==t?"a":"p",e[i+6]="m",t-=12,10>t?(e[i]=t.toString(),e[i-1]="0"):(e[i]=t.toString().charAt(1),e[i-1]=t.toString().charAt(0)),{pos:i,c:e[i]}):s:(e[i-1]="0",e[i]=t.charAt(0),i++,{pos:i})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,r){var s=r.regex.hrspre.test(t);return n||s||!(s=r.regex.hrs.test("0"+t))?s:(e[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(t,e,i,n,r){return r.regex.ampm.test(t+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}})}(jQuery),function(t){t.extend(t.inputmask.defaults.aliases,{decimal:{mask:"~",placeholder:"",repeat:"*",greedy:!1,numericInput:!1,isNumeric:!0,digits:"*",groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,integerDigits:"*",defaultValue:"",prefix:"",suffix:"",getMaskLength:function(e,i,n,r,s){var a=e.length;return i||("*"==n?a=r.length+1:n>1&&(a+=e.length*(n-1))),e=t.inputmask.escapeRegex.call(this,s.groupSeparator),s=t.inputmask.escapeRegex.call(this,s.radixPoint),r=r.join(""),s=r.replace(RegExp(e,"g"),"").replace(RegExp(s),""),a+(r.length-s.length)},postFormat:function(e,i,n,r){if(""==r.groupSeparator)return i;var s=e.slice();if(t.inArray(r.radixPoint,e),n||s.splice(i,0,"?"),s=s.join(""),r.autoGroup||n&&-1!=s.indexOf(r.groupSeparator)){for(var a=t.inputmask.escapeRegex.call(this,r.groupSeparator),s=s.replace(RegExp(a,"g"),""),a=s.split(r.radixPoint),s=a[0],o=RegExp("([-+]?[\\d?]+)([\\d?]{"+r.groupSize+"})");o.test(s);)s=s.replace(o,"$1"+r.groupSeparator+"$2"),s=s.replace(r.groupSeparator+r.groupSeparator,r.groupSeparator);1<a.length&&(s+=r.radixPoint+a[1])}for(e.length=s.length,r=0,a=s.length;a>r;r++)e[r]=s.charAt(r);return s=t.inArray("?",e),n||e.splice(s,1),n?i:s},regex:{number:function(e){var i=t.inputmask.escapeRegex.call(this,e.groupSeparator),n=t.inputmask.escapeRegex.call(this,e.radixPoint),r=isNaN(e.digits)?e.digits:"{0,"+e.digits+"}";return RegExp("^"+("["+(e.allowPlus?"+":"")+(e.allowMinus?"-":"")+"]?")+"(\\d+|\\d{1,"+e.groupSize+"}(("+i+"\\d{"+e.groupSize+"})?)+)("+n+"\\d"+r+")?$")}},onKeyDown:function(e,i,n){var r=t(this);if(e.keyCode==n.keyCode.TAB){if(e=t.inArray(n.radixPoint,i),-1!=e){for(var s=r.data("_inputmask").masksets,r=r.data("_inputmask").activeMasksetIndex,a=1;a<=n.digits&&a<n.getMaskLength(s[r]._buffer,s[r].greedy,s[r].repeat,i,n);a++)(void 0==i[e+a]||""==i[e+a])&&(i[e+a]="0");this._valueSet(i.join(""))}}else if(e.keyCode==n.keyCode.DELETE||e.keyCode==n.keyCode.BACKSPACE)return n.postFormat(i,0,!0,n),this._valueSet(i.join("")),!0},definitions:{"~":{validator:function(e,n,r,s,a){if(""==e)return!1;if(!s&&1>=r&&"0"===n[0]&&/[\d-]/.test(e)&&1==n.length)return n[0]="",{pos:0};var o=s?n.slice(0,r):n.slice();o.splice(r,0,e);var o=o.join(""),l=t.inputmask.escapeRegex.call(this,a.groupSeparator),o=o.replace(RegExp(l,"g"),""),l=a.regex.number(a).test(o);if(!l&&(o+="0",l=a.regex.number(a).test(o),!l)){for(l=o.lastIndexOf(a.groupSeparator),i=o.length-l;3>=i;i++)o+="0";if(l=a.regex.number(a).test(o),!l&&!s&&e==a.radixPoint&&(l=a.regex.number(a).test("0"+o+"0")))return n[r]="0",r++,{pos:r}}return 0==l||s||e==a.radixPoint?l:{pos:a.postFormat(n,r,!1,a)}},cardinality:1,prevalidator:null}},insertMode:!0,autoUnmask:!1},integer:{regex:{number:function(e){var i=t.inputmask.escapeRegex.call(this,e.groupSeparator);return RegExp("^"+(e.allowPlus||e.allowMinus?"["+(e.allowPlus?"+":"")+(e.allowMinus?"-":"")+"]?":"")+"(\\d+|\\d{1,"+e.groupSize+"}(("+i+"\\d{"+e.groupSize+"})?)+)$")}},alias:"decimal"}})}(jQuery),function(t){t.extend(t.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,definitions:{r:{validator:function(t,e,i,n,r){function s(){this.matches=[],this.isLiteral=this.isQuantifier=this.isGroup=!1}function a(){var t,e=new s,i=[];for(r.regexTokens=[];t=r.tokenizer.exec(r.regex);)switch(t=t[0],t.charAt(0)){case"[":case"\\":0<i.length?i[i.length-1].matches.push(t):e.matches.push(t);break;case"(":!e.isGroup&&0<e.matches.length&&r.regexTokens.push(e),e=new s,e.isGroup=!0,i.push(e);break;case")":t=i.pop(),0<i.length?i[i.length-1].matches.push(t):(r.regexTokens.push(t),e=new s);break;case"{":var n=new s;n.isQuantifier=!0,n.matches.push(t),0<i.length?i[i.length-1].matches.push(n):e.matches.push(n);break;default:n=new s,n.isLiteral=!0,n.matches.push(t),0<i.length?i[i.length-1].matches.push(n):e.matches.push(n)}0<e.matches.length&&r.regexTokens.push(e)}function o(t,e){var i=!1;e&&(l+="(",h++);for(var n=0;n<t.matches.length;n++){var s=t.matches[n];if(1==s.isGroup)i=o(s,!0);else if(1==s.isQuantifier){for(var s=s.matches[0],a=r.quantifierFilter.exec(s)[0].replace("}",""),a=l+"{1,"+a+"}",u=0;h>u;u++)a+=")";i=RegExp("^("+a+")$"),i=i.test(c),l+=s}else if(1==s.isLiteral){for(var s=s.matches[0],a=l,d="",u=0;h>u;u++)d+=")";for(u=0;u<s.length&&(a=(a+s[u]).replace(/\|$/,""),i=RegExp("^("+a+d+")$"),!(i=i.test(c)));u++);l+=s}else{for(l+=s,a=l.replace(/\|$/,""),u=0;h>u;u++)a+=")";i=RegExp("^("+a+")$"),i=i.test(c)}if(i)break}return e&&(l+=")",h--),i}null==r.regexTokens&&a(),n=e.slice();var l="";e=!1;var h=0;n.splice(i,0,t);var c=n.join("");for(t=0;t<r.regexTokens.length&&(s=r.regexTokens[t],!(e=o(s,s.isGroup)));t++);return e},cardinality:1}}}})}(jQuery),function(t){t.extend(t.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.json",mask:function(e){e.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var i=[];return t.ajax({url:e.url,async:!1,dataType:"json",success:function(t){i=t}}),i.splice(0,0,"+p(ppp)ppp-pppp"),i}}})}(jQuery),!function(t,e,i){"use strict";var n=function(e,i){this.widget="",this.$element=t(e),this.defaultTime=i.defaultTime,this.disableFocus=i.disableFocus,this.disableMousewheel=i.disableMousewheel,this.isOpen=i.isOpen,this.minuteStep=i.minuteStep,this.modalBackdrop=i.modalBackdrop,this.orientation=i.orientation,this.secondStep=i.secondStep,this.showInputs=i.showInputs,this.showMeridian=i.showMeridian,this.showSeconds=i.showSeconds,this.template=i.template,this.appendWidgetTo=i.appendWidgetTo,this.showWidgetOnAddonClick=i.showWidgetOnAddonClick,this._init()};n.prototype={constructor:n,_init:function(){var e=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),this.$widget=this.template!==!1?t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(i.selection){t.focus();var e=i.selection.createRange(),n=i.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-n}},getTemplate:function(){var t,e,i,n,r,s;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',r='<span class="bootstrap-timepicker-meridian"></span>'),s='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>",
this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal"></a><h3>Pick a Time</h3></div><div class="modal-content">'+s+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>"}return t},getTime:function(){return this.hour||this.minute||this.second?this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:""):""},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(i).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var i=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=null;switch("mousewheel"===e.type?n=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(n=40*e.originalEvent.detail),n&&(e.preventDefault(),t(this).scrollTop(n+t(this).scrollTop())),this.highlightedUnit){case"minute":i>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":i>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:i>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},place:function(){if(!this.isInline){var i=this.$widget.outerWidth(),n=this.$widget.outerHeight(),r=10,s=t(e).width(),a=t(e).height(),o=t(e).scrollTop(),l=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,h=this.component?this.component.parent().offset():this.$element.offset(),c=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),d=h.left,p=h.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.picker.addClass("datepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(d-=i-u)):(this.$widget.addClass("timepicker-orient-left"),h.left<0?d-=h.left-r:h.left+i>s&&(d=s-i-r));var f,g,m=this.orientation.y;"auto"===m&&(f=-o+h.top-n,g=o+a-(h.top+c+n),m=Math.max(f,g)===g?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+m),"top"===m?p+=c:p-=n+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:p,left:d,zIndex:l})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,i=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),s="AM";0!==r&&(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep,60===r&&(n+=1,r=0)),0!==n&&(n=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep,60===n&&(i+=1,n=0)),this.showMeridian&&(0===i?i=12:i>=12?(i>12&&(i-=12),s="PM"):s="AM"),this.hour=i,this.minute=n,this.second=r,this.meridian=s,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(!t)return void this.clear();var i,n,r,s,a;"object"==typeof t&&t.getMonth?(n=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),this.showMeridian&&(a="AM",n>12&&(a="PM",n%=12),12===n&&(a="PM"))):(a=null!==t.match(/p/i)?"PM":"AM",t=t.replace(/[^0-9\:]/g,""),i=t.split(":"),n=i[0]?i[0].toString():i.toString(),r=i[1]?i[1].toString():"",s=i[2]?i[2].toString():"",n.length>4&&(s=n.substr(4,2)),n.length>2&&(r=n.substr(2,2),n=n.substr(0,2)),r.length>2&&(s=r.substr(2,2),r=r.substr(0,2)),s.length>2&&(s=s.substr(2,2)),n=parseInt(n,10),r=parseInt(r,10),s=parseInt(s,10),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=0),this.showMeridian?1>n?n=1:n>12&&(n=12):(n>=24?n=23:0>n&&(n=0),13>n&&"PM"===a&&(n+=12)),0>r?r=0:r>=60&&(r=59),this.showSeconds&&(isNaN(s)?s=0:0>s?s=0:s>=60&&(s=59))),this.hour=n,this.minute=r,this.second=s,this.meridian=a,this.update(e)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var e=this;t(i).on("mousedown.timepicker, touchend.timepicker",function(t){e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),this.hour||(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("a").data("action");n&&this[n](),this.update(),i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var i=t(e.target),n=i.attr("class").replace("bootstrap-timepicker-","");switch(e.keyCode){case 9:if(this.showMeridian&&"meridian"===n||this.showSeconds&&"second"===n||!this.showMeridian&&!this.showSeconds&&"minute"===n)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),i.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.keyCode||77===t.keyCode||80===t.keyCode||46===t.keyCode||8===t.keyCode||t.keyCode>=46&&t.keyCode<=57)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var r=t(this),s=r.data("timepicker"),a="object"==typeof e&&e;s||r.data("timepicker",s=new n(this,t.extend({},t.fn.timepicker.defaults,a,t(this).data()))),"string"==typeof e&&s[e].apply(s,i)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},t.fn.timepicker.Constructor=n}(jQuery,window,document),!function(t){"use strict";var e=function(t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&(void 0!==t.toLowerCase?this.setColor(t):void 0!==t.h&&(this.value=t))};e.prototype={constructor:e,_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:void 0!==t.toLowerCase?parseFloat(t):1},setColor:function(t){t=t.toLowerCase(),this.value=this.stringToHSB(t)||{h:0,s:0,b:0,a:1}},stringToHSB:function(e){e=e.toLowerCase();var i=this,n=!1;return t.each(this.stringParsers,function(t,r){var s=r.re.exec(e),a=s&&r.parse.apply(i,[s]),o=r.format||"rgba";return a?(n=o.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,a)):i.RGBtoHSB.apply(i,a),i.origFormat=o,!1):!0}),n},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,n){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,n=n||this.value.a;var r,s,a,o,l,h,c,u;switch(t&&void 0===e&&void 0===i&&(e=t.s,i=t.v,t=t.h),o=Math.floor(6*t),l=6*t-o,h=i*(1-e),c=i*(1-l*e),u=i*(1-(1-l)*e),o%6){case 0:r=i,s=u,a=h;break;case 1:r=c,s=i,a=h;break;case 2:r=h,s=i,a=u;break;case 3:r=h,s=c,a=i;break;case 4:r=u,s=h,a=i;break;case 5:r=i,s=h,a=c}return{r:Math.floor(255*r),g:Math.floor(255*s),b:Math.floor(255*a),a:n}},toHex:function(t,e,i,n){var r=this.toRGB(t,e,i,n);return"#"+(1<<24|parseInt(r.r)<<16|parseInt(r.g)<<8|parseInt(r.b)).toString(16).substr(1)},toHSL:function(t,e,i,n){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,n=n||this.value.a;var r=t,s=(2-e)*i,a=e*i;return a/=s>0&&1>=s?s:2-s,s/=2,a>1&&(a=1),{h:r,s:a,l:s,a:n}},RGBtoHSB:function(t,e,i,n){t/=255,e/=255,i/=255;var r,s,a,o;return a=Math.max(t,e,i),o=a-Math.min(t,e,i),r=0===o?null:a===t?(e-i)/o:a===e?(i-t)/o+2:(t-e)/o+4,r=(r+360)%6*60/360,s=0===o?0:o/a,{h:this._sanitizeNumber(r),s:s,b:a,a:this._sanitizeNumber(n)}},HueToRGB:function(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,n){0>e&&(e=0);var r;r=.5>=i?i*(1+e):i+e-i*e;var s=2*i-r,a=t+1/3,o=t,l=t-1/3,h=Math.round(255*this.HueToRGB(s,r,a)),c=Math.round(255*this.HueToRGB(s,r,o)),u=Math.round(255*this.HueToRGB(s,r,l));return[h,c,u,this._sanitizeNumber(n)]},toString:function(t){switch(t=t||"rgba"){case"rgb":var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")";case"rgba":var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")";case"hsl":var i=this.toHSL();return"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":var i=this.toHSL();return"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();default:return!1}},stringParsers:[{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(t){var e=this.colorNameToHex(t[0])||"#000000",i=this.stringParsers[0].re.exec(e),n=i&&this.stringParsers[0].parse.apply(this,[i]);return n}}],colorNameToHex:function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"undefined"!=typeof e[t.toLowerCase()]?e[t.toLowerCase()]:!1}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'},n=function(n,r){this.element=t(n).addClass("colorpicker-element"),this.options=t.extend({},i,this.element.data(),r),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?t(this.container):!1,this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1,this.input&&0===this.input.length&&(this.input=!1),this.color=new e(this.options.color!==!1?this.options.color:this.getValue()),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.picker=t(this.options.template),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format)&&this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker",t.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:t("body")),this.input!==!1&&(this.input.on({"keyup.colorpicker":t.proxy(this.keyup,this)}),this.component===!1&&this.element.on({"focus.colorpicker":t.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":t.proxy(this.hide,this)})),this.component!==!1&&this.component.on({"click.colorpicker":t.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":t.proxy(this.show,this)}),this.update(),t(t.proxy(function(){this.element.trigger("create")},this))};n.version="2.0.0-beta",n.Color=e,n.prototype={constructor:n,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),this.input!==!1&&this.input.off(".colorpicker"),this.component!==!1&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1)return!1;var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+(this.component?this.component.outerHeight():this.element.outerHeight()),left:t.left})},show:function(e){return this.isDisabled()?!1:(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),t(window).on("resize.colorpicker",t.proxy(this.reposition,this)),!this.hasInput()&&e&&e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),this.options.inline===!1&&t(window.document).on({"mousedown.colorpicker":t.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),t(window).off("resize.colorpicker",this.reposition),t(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(this.format),this.element.data("color",t),t},updateInput:function(t){return t=t||this.color.toString(this.format),this.input!==!1&&this.input.prop("value",t),t},updatePicker:function(t){void 0!==t&&(this.color=new e(t));var i=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,n=this.picker.find("i");return 0!==n.length?(this.options.horizontal===!1?(i=this.options.sliders,n.eq(1).css("top",i.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",i.alpha.maxTop*(1-this.color.value.a))):(i=this.options.slidersHorz,n.eq(1).css("left",i.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",i.alpha.maxLeft*(1-this.color.value.a))),n.eq(0).css({top:i.saturation.maxTop-this.color.value.b*i.saturation.maxTop,left:this.color.value.s*i.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),t):void 0},updateComponent:function(t){if(t=t||this.color.toString(this.format),this.component!==!1){var e=this.component.find("i").eq(0);e.length>0?e.css({backgroundColor:t}):this.component.css({backgroundColor:t})}return t},update:function(t){var e=this.updateComponent();return(this.getValue(!1)!==!1||t===!0)&&(this.updateInput(e),this.updateData(e)),this.updatePicker(),e},setValue:function(t){this.color=new e(t),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:t})},getValue:function(t){t=void 0===t?"#000000":t;var e;return e=this.hasInput()?this.input.val():this.element.data("color"),(void 0===e||""===e||null===e)&&(e=t),e},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target),n=i.closest("div"),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!n.is(".colorpicker")){if(n.is(".colorpicker-saturation"))this.currentSlider=t.extend({},r.saturation);else if(n.is(".colorpicker-hue"))this.currentSlider=t.extend({},r.hue);else{if(!n.is(".colorpicker-alpha"))return!1;this.currentSlider=t.extend({},r.alpha)}var s=n.offset();this.currentSlider.guide=n.find("i")[0].style,this.currentSlider.left=e.pageX-s.left,this.currentSlider.top=e.pageY-s.top,this.mousePointer={left:e.pageX,top:e.pageY},t(document).on({"mousemove.colorpicker":t.proxy(this.mousemove,this),"mouseup.colorpicker":t.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/100),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/100),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t(document).off({"mousemove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup}),!1},keyup:function(t){if(38===t.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===t.keyCode)this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{var i=this.input.val();this.color=new e(i),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:i})}},t.colorpicker=n,t.fn.colorpicker=function(e){return this.each(function(){var i=t(this),r=i.data("colorpicker"),s="object"==typeof e?e:{};r||"string"==typeof e?"string"==typeof e&&r[e].apply(r,Array.prototype.slice.call(arguments,1)):i.data("colorpicker",new n(this,s))})},t.fn.colorpicker.constructor=n}(window.jQuery),!function(t){function e(t,e){return function(i){return l(t.call(this,i),e)}}function i(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}function n(){}function r(t){a(this,t)}function s(t){var e=t.years||t.year||t.y||0,i=t.months||t.month||t.M||0,n=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,s=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=l+1e3*o+6e4*a+36e5*s,this._days=r+7*n,this._months=i+12*e,this._data={},this._bubble()}function a(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}function h(t,e,i,n){var r,s,a=e._milliseconds,o=e._days,l=e._months;a&&t._d.setTime(+t._d+a*i),(o||l)&&(r=t.minute(),s=t.hour()),o&&t.date(t.date()+o*i),l&&t.month(t.month()+l*i),a&&!n&&A.updateOffset(t),(o||l)&&(t.minute(r),t.hour(s))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t,e){var i,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;n>i;i++)~~t[i]!==~~e[i]&&s++;return s+r}function d(t){return t?rt[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function p(t,e){return e.abbr=t,H[t]||(H[t]=new n),H[t].set(e),H[t]}function f(t){if(!t)return A.fn._lang;if(!H[t]&&N)try{require("./lang/"+t)}catch(e){return A.fn._lang}return H[t]}function g(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var e,i,n=t.match(W);for(e=0,i=n.length;i>e;e++)n[e]=lt[n[e]]?lt[n[e]]:g(n[e]);return function(r){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(r,t):n[e];return s}}function v(t,e){function i(e){return t.lang().longDateFormat(e)||e}for(var n=5;n--&&j.test(e);)e=e.replace(j,i);return st[e]||(st[e]=m(e)),st[e](t)}function y(t,e){switch(t){case"DDDD":return U;case"YYYY":return q;case"YYYYY":return V;case"S":case"SS":case"SSS":case"DDD":return $;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return X;case"a":case"A":return f(e._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return G;case"T":return Q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return Y;default:return new RegExp(t.replace("\\",""))}}function b(t){var e=(G.exec(t)||[])[0],i=(e+"").match(et)||["-",0,0],n=+(60*i[1])+~~i[2];return"+"===i[0]?-n:n}function _(t,e,i){var n,r=i._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":n=f(i._l).monthsParse(e),null!=n?r[1]=n:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":i._isPm=f(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=b(e)}null==e&&(i._isValid=!1)}function w(t){var e,i,n=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];n[3]+=~~((t._tzm||0)/60),n[4]+=~~((t._tzm||0)%60),i=new Date(0),t._useUTC?(i.setUTCFullYear(n[0],n[1],n[2]),i.setUTCHours(n[3],n[4],n[5],n[6])):(i.setFullYear(n[0],n[1],n[2]),i.setHours(n[3],n[4],n[5],n[6])),t._d=i}}function x(t){var e,i,n=t._f.match(W),r=t._i;for(t._a=[],e=0;e<n.length;e++)i=(y(n[e],t).exec(r)||[])[0],i&&(r=r.slice(r.indexOf(i)+i.length)),lt[n[e]]&&_(n[e],i,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),w(t)}function k(t){var e,i,n,s,o,l=99;for(s=0;s<t._f.length;s++)e=a({},t),e._f=t._f[s],x(e),i=new r(e),o=u(e._a,i.toArray()),i._il&&(o+=i._il.length),l>o&&(l=o,n=i);a(t,n)}function C(t){var e,i=t._i,n=K.exec(i);if(n){for(t._f="YYYY-MM-DD"+(n[2]||" "),e=0;4>e;e++)if(tt[e][1].exec(i)){t._f+=tt[e][0];break}G.exec(i)&&(t._f+=" Z"),x(t)}else t._d=new Date(i)}function S(e){var i=e._i,n=F.exec(i);i===t?e._d=new Date:n?e._d=new Date(+n[1]):"string"==typeof i?C(e):c(i)?(e._a=i.slice(0),w(e)):e._d=i instanceof Date?new Date(+i):new Date(i)}function M(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function T(t,e,i){var n=L(Math.abs(t)/1e3),r=L(n/60),s=L(r/60),a=L(s/24),o=L(a/365),l=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",L(a/30)]||1===o&&["y"]||["yy",o];return l[2]=e,l[3]=t>0,l[4]=i,M.apply({},l)}function P(t,e,i){var n,r=i-e,s=i-t.day();return s>r&&(s-=7),r-7>s&&(s+=7),n=A(t).add("d",s),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function E(t){var e=t._i,i=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=f().preparse(e)),A.isMoment(e)?(t=a({},e),t._d=new Date(+e._d)):i?c(i)?k(t):x(t):S(t),new r(t))}function D(t,e){A.fn[t]=A.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),A.updateOffset(this),this):this._d["get"+i+e]()}}function R(t){A.duration.fn[t]=function(){return this._data[t]}}function I(t,e){A.duration.fn["as"+t]=function(){return+this/e}}for(var A,z,O="2.1.0",L=Math.round,H={},N="undefined"!=typeof module&&module.exports,F=/^\/?Date\((\-?\d+)/i,B=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,W=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Y=/\d\d?/,$=/\d{1,3}/,U=/\d{3}/,q=/\d{1,4}/,V=/[+\-]?\d{1,6}/,X=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,Q=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,K=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,J="YYYY-MM-DDTHH:mm:ssZ",tt=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],et=/([\+\-]|\d\d)/gi,it="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),nt={
Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},rt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},st={},at="DDD w W M D d".split(" "),ot="M D H h m s w W".split(" "),lt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};at.length;)z=at.pop(),lt[z+"o"]=i(lt[z],z);for(;ot.length;)z=ot.pop(),lt[z+z]=e(lt[z],2);for(lt.DDDD=e(lt.DDD,3),n.prototype={set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=A([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=A([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(t,e,i,n):r.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return P(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},A=function(t,e,i){return E({_i:t,_f:e,_l:i,_isUTC:!1})},A.utc=function(t,e,i){return E({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:e})},A.unix=function(t){return A(1e3*t)},A.duration=function(t,e){var i,n,r=A.isDuration(t),a="number"==typeof t,o=r?t._input:a?{}:t,l=B.exec(t);return a?e?o[e]=t:o.milliseconds=t:l&&(i="-"===l[1]?-1:1,o={y:0,d:~~l[2]*i,h:~~l[3]*i,m:~~l[4]*i,s:~~l[5]*i,ms:~~l[6]*i}),n=new s(o),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},A.version=O,A.defaultFormat=J,A.updateOffset=function(){},A.lang=function(t,e){return t?(e?p(t,e):H[t]||f(t),void(A.duration.fn._lang=A.fn._lang=f(t))):A.fn._lang._abbr},A.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),f(t)},A.isMoment=function(t){return t instanceof r},A.isDuration=function(t){return t instanceof s},A.fn=r.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(A(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!u(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=v(this,t||A.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?A.duration(+e,t):A.duration(t,e),h(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?A.duration(+e,t):A.duration(t,e),h(this,i,-1),this},diff:function(t,e,i){var n,r,s=this._isUTC?A(t).zone(this._offset||0):A(t).local(),a=6e4*(this.zone()-s.zone());return e=d(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+s.daysInMonth()),r=12*(this.year()-s.year())+(this.month()-s.month()),r+=(this-A(this).startOf("month")-(s-A(s).startOf("month")))/n,r-=6e4*(this.zone()-A(this).startOf("month").zone()-(s.zone()-A(s).startOf("month").zone()))/n,"year"===e&&(r/=12)):(n=this-s,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-a)/864e5:"week"===e?(n-a)/6048e5:n),i?r:o(r)},from:function(t,e){return A.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(A(),t)},calendar:function(){var t=this.diff(A().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,i=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+i+"Month"](t),this.date(Math.min(e,this.daysInMonth())),A.updateOffset(this),this):this._d["get"+i+"Month"]()},startOf:function(t){switch(t=d(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+A(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+A(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+A(t).startOf(e)},min:function(t){return t=A.apply(null,arguments),this>t?this:t},max:function(t){return t=A.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=b(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&h(this,A.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=L((A(this).startOf("day")-A(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=P(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=P(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=P(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=f(e),this)}},z=0;z<it.length;z++)D(it[z].toLowerCase().replace(/s$/,""),it[z]);D("year","FullYear"),A.fn.days=A.fn.day,A.fn.months=A.fn.month,A.fn.weeks=A.fn.week,A.fn.isoWeeks=A.fn.isoWeek,A.fn.toJSON=A.fn.toISOString,A.duration.fn=s.prototype={_bubble:function(){var t,e,i,n,r=this._milliseconds,s=this._days,a=this._months,l=this._data;l.milliseconds=r%1e3,t=o(r/1e3),l.seconds=t%60,e=o(t/60),l.minutes=e%60,i=o(e/60),l.hours=i%24,s+=o(i/24),l.days=s%30,a+=o(s/30),l.months=a%12,n=o(a/12),l.years=n},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,i=T(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},add:function(t,e){var i=A.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=A.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=d(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=d(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:A.fn.lang};for(z in nt)nt.hasOwnProperty(z)&&(I(z,nt[z]),R(z.toLowerCase()));I("Weeks",6048e5),A.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},A.lang("en",{ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),N&&(module.exports=A),"undefined"==typeof ender&&(this.moment=A),"function"==typeof define&&define.amd&&define("moment",[],function(){return A})}.call(this),!function(t){var e=function(e,i,n){var r,s="object"==typeof i;this.startDate=moment().startOf("day"),this.endDate=moment().startOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.ranges={},this.opens="right",this.buttonClasses=["btn","btn-small"],this.applyClass="btn-primary",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment()._lang._weekdaysMin.slice(),monthNames:moment()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},this.parentEl="body",this.element=t(e),this.element.hasClass("pull-right")&&(this.opens="left"),this.element.is("input")?this.element.on({click:t.proxy(this.show,this),focus:t.proxy(this.show,this)}):this.element.on("click",t.proxy(this.show,this)),r=this.locale,s&&("object"==typeof i.locale&&t.each(r,function(t,e){r[t]=i.locale[t]||e}),i.applyClass&&(this.applyClass=i.applyClass),i.cancelClass&&(this.cancelClass=i.cancelClass));var a='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+'</label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input" style="float: left; padding-left: 11px"><label for="daterangepicker_end">'+this.locale.toLabel+'</label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+'</button>&nbsp;<button class="'+this.cancelClass+' cancelBtn">'+this.locale.cancelLabel+"</button></div></div></div>";if(this.parentEl=s&&i.parentEl&&t(i.parentEl)||t(this.parentEl),this.container=t(a).appendTo(this.parentEl),s){if("string"==typeof i.format&&(this.format=i.format),"string"==typeof i.separator&&(this.separator=i.separator),"string"==typeof i.startDate&&(this.startDate=moment(i.startDate,this.format)),"string"==typeof i.endDate&&(this.endDate=moment(i.endDate,this.format)),"string"==typeof i.minDate&&(this.minDate=moment(i.minDate,this.format)),"string"==typeof i.maxDate&&(this.maxDate=moment(i.maxDate,this.format)),"object"==typeof i.startDate&&(this.startDate=moment(i.startDate)),"object"==typeof i.endDate&&(this.endDate=moment(i.endDate)),"object"==typeof i.minDate&&(this.minDate=moment(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=moment(i.maxDate)),"object"==typeof i.ranges){for(var o in i.ranges){var l=moment(i.ranges[o][0]),h=moment(i.ranges[o][1]);this.minDate&&l.isBefore(this.minDate)&&(l=moment(this.minDate)),this.maxDate&&h.isAfter(this.maxDate)&&(h=moment(this.maxDate)),this.minDate&&h.isBefore(this.minDate)||this.maxDate&&l.isAfter(this.maxDate)||(this.ranges[o]=[l,h])}var c="<ul>";for(var o in this.ranges)c+="<li>"+o+"</li>";c+="<li>"+this.locale.customRangeLabel+"</li>",c+="</ul>",this.container.find(".ranges").prepend(c)}if("object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"object"==typeof i.locale&&"number"==typeof i.locale.firstDay){this.locale.firstDay=i.locale.firstDay;for(var u=i.locale.firstDay;u>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),u--}"string"==typeof i.opens&&(this.opens=i.opens),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=[i.buttonClasses]),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker12Hour&&(this.timePicker12Hour=i.timePicker12Hour)}this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.startOf("day"));var d=this.container;if(t.each(this.buttonClasses,function(t,e){d.find("button").addClass(e)}),"right"==this.opens){var p=this.container.find(".calendar.left"),f=this.container.find(".calendar.right");p.removeClass("left").addClass("right"),f.removeClass("right").addClass("left")}if(("undefined"==typeof i||"undefined"==typeof i.ranges)&&(this.container.find(".calendar").show(),this.move()),"function"==typeof n&&(this.cb=n),this.container.addClass("opens"+this.opens),(!s||"undefined"==typeof i.startDate&&"undefined"==typeof i.endDate)&&t(this.element).is("input[type=text]")){var l,h,g=t(this.element).val(),m=g.split(this.separator);2==m.length&&(l=moment(m[0],this.format),h=moment(m[1],this.format)),null!=l&&null!=h&&(this.startDate=l,this.endDate=h)}this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.leftCalendar={month:moment([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:moment([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},this.container.on("mousedown",t.proxy(this.mousedown,this)),this.container.find(".calendar").on("click",".prev",t.proxy(this.clickPrev,this)).on("click",".next",t.proxy(this.clickNext,this)).on("click","td.available",t.proxy(this.clickDate,this)).on("mouseenter","td.available",t.proxy(this.enterDate,this)).on("mouseleave","td.available",t.proxy(this.updateFormInputs,this)).on("change","select.yearselect",t.proxy(this.updateMonthYear,this)).on("change","select.monthselect",t.proxy(this.updateMonthYear,this)).on("change","select.hourselect,select.minuteselect,select.ampmselect",t.proxy(this.updateTime,this)),this.container.find(".ranges").on("click","button.applyBtn",t.proxy(this.clickApply,this)).on("click","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click",".daterangepicker_start_input,.daterangepicker_end_input",t.proxy(this.showCalendars,this)).on("click","li",t.proxy(this.clickRange,this)).on("mouseenter","li",t.proxy(this.enterRange,this)).on("mouseleave","li",t.proxy(this.updateFormInputs,this)),this.element.on("keyup",t.proxy(this.updateFromControl,this)),this.updateView(),this.updateCalendars()};e.prototype={constructor:e,mousedown:function(t){t.stopPropagation()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=moment(t[0],this.format),i=moment(t[1],this.format);null!=e&&null!=i&&(i.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars()))}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate)},move:function(){var e={top:this.parentEl.offset().top-(this.parentEl.is("body")?0:this.parentEl.scrollTop()),left:this.parentEl.offset().left-(this.parentEl.is("body")?0:this.parentEl.scrollLeft())};"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t(window).width()-this.element.offset().left-this.element.outerWidth()-e.left,left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.container.show(),this.move(),e&&(e.stopPropagation(),e.preventDefault()),t(document).on("mousedown",t.proxy(this.hide,this)),this.element.trigger("shown",{target:e.target,picker:this})},hide:function(e){this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),t(document).off("mousedown",this.hide),this.element.trigger("hidden",{picker:this})},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.format))}},showCalendars:function(){this.container.find(".calendar").show(),this.move()},updateInputText:function(){this.element.is("input")&&this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.startOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.container.find(".calendar").hide(),this.hide()}},clickPrev:function(e){var i=t(e.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(e){var i=t(e.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(e){var i=t(e.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),s=t(e.target).parents(".calendar");s.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][r].format(this.format))},clickDate:function(e){var i=t(e.target).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),s=t(e.target).parents(".calendar");if(s.hasClass("left")){var a=this.leftCalendar.calendar[n][r],o=this.endDate;if("object"==typeof this.dateLimit){var l=moment(a).add(this.dateLimit).startOf("day");o.isAfter(l)&&(o=l)}}else{var a=this.startDate,o=this.rightCalendar.calendar[n][r];if("object"==typeof this.dateLimit){var h=moment(o).subtract(this.dateLimit).startOf("day");a.isBefore(h)&&(a=h)}}s.find("td").removeClass("active"),a.isSame(o)||a.isBefore(o)?(t(e.target).addClass("active"),this.startDate=a,this.endDate=o):a.isAfter(o)&&(t(e.target).addClass("active"),this.startDate=a,this.endDate=moment(a).add("day",1).startOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars()},clickApply:function(t){this.updateInputText(),this.hide()},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.updateView(),this.updateCalendars(),this.hide()},updateMonthYear:function(e){var i=t(e.target).closest(".calendar").hasClass("left"),n=this.container.find(".calendar.left");i||(n=this.container.find(".calendar.right"));var r=parseInt(n.find(".monthselect").val(),10),s=n.find(".yearselect").val();i?this.leftCalendar.month.month(r).year(s):this.rightCalendar.month.month(r).year(s),this.updateCalendars()},updateTime:function(e){var i=t(e.target).closest(".calendar").hasClass("left"),n=this.container.find(".calendar.left");i||(n=this.container.find(".calendar.right"));var r=parseInt(n.find(".hourselect").val()),s=parseInt(n.find(".minuteselect").val());if(this.timePicker12Hour){var a=n.find(".ampmselect").val();"PM"==a&&12>r&&(r+=12),"AM"==a&&12==r&&(r=0)}if(i){var o=this.startDate.clone();o.hour(r),o.minute(s),this.startDate=o,this.leftCalendar.month.hour(r).minute(s)}else{var l=this.endDate.clone();l.hour(r),l.minute(s),this.endDate=l,this.rightCalendar.month.hour(r).minute(s)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var i in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[i][0])&&this.endDate.isSame(this.ranges[i][1])&&(t=!1,this.container.find(".ranges li:eq("+e+")").addClass("active")):this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")&&(t=!1,this.container.find(".ranges li:eq("+e+")").addClass("active")),e++;t&&this.container.find(".ranges li:last").addClass("active")},buildCalendar:function(t,e,i,n,r){for(var s=moment([e,t,1]),a=moment(s).subtract("month",1).month(),o=moment(s).subtract("month",1).year(),l=moment([o,a]).daysInMonth(),h=s.day(),c=[],u=0;6>u;u++)c[u]=[];var d=l-h+this.locale.firstDay+1;d>l&&(d-=7),h==this.locale.firstDay&&(d=l-6);for(var p=moment([o,a,d,12,n]),u=0,f=0,g=0;42>u;u++,f++,p=moment(p).add("hour",24))u>0&&f%7==0&&(f=0,g++),c[g][f]=p.clone().hour(i),p.hour(12);return c},renderDropdowns:function(t,e,i){for(var n=t.month(),r='<select class="monthselect">',s=!1,a=!1,o=0;12>o;o++)(!s||o>=e.month())&&(!a||o<=i.month())&&(r+="<option value='"+o+"'"+(o===n?" selected='selected'":"")+">"+this.locale.monthNames[o]+"</option>");r+="</select>";for(var l=t.year(),h=i&&i.year()||l+5,c=e&&e.year()||l-50,u='<select class="yearselect">',d=c;h>=d;d++)u+='<option value="'+d+'"'+(d===l?' selected="selected"':"")+">"+d+"</option>";return u+="</select>",r+u},renderCalendar:function(e,i,n,r){var s='<div class="calendar-date">';s+='<table class="table-condensed">',s+="<thead>",s+="<tr>",this.showWeekNumbers&&(s+="<th></th>"),s+=!n||n.isBefore(e[1][1])?'<th class="prev available"><i class="icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var a=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(a=this.renderDropdowns(e[1][1],n,r)),s+='<th colspan="5" style="width: auto">'+a+"</th>",s+=!r||r.isAfter(e[1][1])?'<th class="next available"><i class="icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",s+="</tr>",s+="<tr>",this.showWeekNumbers&&(s+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(t,e){s+="<th>"+e+"</th>"}),s+="</tr>",s+="</thead>",s+="<tbody>";for(var o=0;6>o;o++){s+="<tr>",this.showWeekNumbers&&(s+='<td class="week">'+e[o][0].week()+"</td>");for(var l=0;7>l;l++){var h="available ";h+=e[o][l].month()==e[1][1].month()?"":"off",n&&e[o][l].isBefore(n)||r&&e[o][l].isAfter(r)?h=" off disabled ":e[o][l].format("YYYY-MM-DD")==i.format("YYYY-MM-DD")?(h+=" active ",e[o][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(h+=" start-date "),e[o][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(h+=" end-date ")):e[o][l]>=this.startDate&&e[o][l]<=this.endDate&&(h+=" in-range ",e[o][l].isSame(this.startDate)&&(h+=" start-date "),e[o][l].isSame(this.endDate)&&(h+=" end-date "));var c="r"+o+"c"+l;s+='<td class="'+h.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+e[o][l].date()+"</td>"}s+="</tr>"}if(s+="</tbody>",s+="</table>",s+="</div>",this.timePicker){s+='<div class="calendar-time">',s+='<select class="hourselect">';var u=0,d=23,p=i.hour();this.timePicker12Hour&&(u=1,d=12,p>=12&&(p-=12),0==p&&(p=12));for(var f=u;d>=f;f++)s+=f==p?'<option value="'+f+'" selected="selected">'+f+"</option>":'<option value="'+f+'">'+f+"</option>";s+="</select> : ",s+='<select class="minuteselect">';for(var f=0;60>f;f+=this.timePickerIncrement){var g=f;10>g&&(g="0"+g),s+=f==i.minute()?'<option value="'+f+'" selected="selected">'+g+"</option>":'<option value="'+f+'">'+g+"</option>"}s+="</select> ",this.timePicker12Hour&&(s+='<select class="ampmselect">',s+=i.hour()>=12?'<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':'<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',s+="</select>"),s+="</div>"}return s}},t.fn.daterangepicker=function(i,n){return this.each(function(){var r=t(this);r.data("daterangepicker")||r.data("daterangepicker",new e(r,i,n))}),this}}(window.jQuery),function(t){"use strict";t(window.jQuery,window,document)}(function(t,e,i){"use strict";var n="tocify",r="tocify-focus",s="tocify-hover",a="tocify-hide",o="tocify-header",l="."+o,h="tocify-subheader",c="."+h,u="tocify-item",d="."+u,p="tocify-extend-page",f="."+p;t.widget("toc.tocify",{version:"1.9.0",options:{context:"body",ignoreSelector:null,selectors:"h1, h2, h3",showAndHide:!0,showEffect:"slideDown",showEffectSpeed:"medium",hideEffect:"slideUp",hideEffectSpeed:"medium",smoothScroll:!0,smoothScrollSpeed:"medium",scrollTo:0,showAndHideOnScroll:!0,highlightOnScroll:!0,highlightOffset:40,theme:"bootstrap",extendPage:!0,extendPageOffset:100,history:!0,scrollHistory:!1,hashGenerator:"compact",highlightDefault:!0},_create:function(){var i=this;i.extendPageScroll=!0,i.items=[],i._generateToc(),i._addCSSClasses(),i.webkit=function(){for(var t in e)if(t&&-1!==t.toLowerCase().indexOf("webkit"))return!0;return!1}(),i._setEventHandlers(),t(e).load(function(){i._setActiveElement(!0),t("html, body").promise().done(function(){setTimeout(function(){i.extendPageScroll=!1},0)})})},_generateToc:function(){var e,i,r=this,s=r.options.ignoreSelector;return e=-1!==this.options.selectors.indexOf(",")?t(this.options.context).find(this.options.selectors.replace(/ /g,"").substr(0,this.options.selectors.indexOf(","))):t(this.options.context).find(this.options.selectors.replace(/ /g,"")),e.length?(r.element.addClass(n),void e.each(function(e){t(this).is(s)||(i=t("<ul/>",{id:o+e,"class":o}).append(r._nestElements(t(this),e)),r.element.append(i),t(this).nextUntil(this.nodeName.toLowerCase()).each(function(){0===t(this).find(r.options.selectors).length?t(this).filter(r.options.selectors).each(function(){t(this).is(s)||r._appendSubheaders.call(this,r,i)}):t(this).find(r.options.selectors).each(function(){t(this).is(s)||r._appendSubheaders.call(this,r,i)})}))})):void r.element.addClass(a)},_setActiveElement:function(t){var i=this,n=e.location.hash.substring(1),r=i.element.find('li[data-unique="'+n+'"]');return n.length?(i.element.find("."+i.focusClass).removeClass(i.focusClass),r.addClass(i.focusClass),i.options.showAndHide&&r.click()):(i.element.find("."+i.focusClass).removeClass(i.focusClass),!n.length&&t&&i.options.highlightDefault&&i.element.find(d).first().addClass(i.focusClass)),i},_nestElements:function(e,i){var n,r,s;return n=t.grep(this.items,function(t){return t===e.text()}),n.length?this.items.push(e.text()+i):this.items.push(e.text()),
s=this._generateHashValue(n,e,i),r=t("<li/>",{"class":u,"data-unique":s}).append(t("<a/>",{text:e.text()})),e.before(t("<div/>",{name:s,"data-unique":s})),r},_generateHashValue:function(t,e,i){var n="",r=this.options.hashGenerator;if("pretty"===r){for(n=e.text().toLowerCase().replace(/\s/g,"-");n.indexOf("--")>-1;)n=n.replace(/--/g,"-");for(;n.indexOf(":-")>-1;)n=n.replace(/:-/g,"-")}else n="function"==typeof r?r(e.text(),e):e.text().replace(/\s/g,"");return t.length&&(n+=""+i),n},_appendSubheaders:function(e,i){var n=t(this).index(e.options.selectors),r=t(e.options.selectors).eq(n-1),s=+t(this).prop("tagName").charAt(1),a=+r.prop("tagName").charAt(1);a>s?e.element.find(c+"[data-tag="+s+"]").last().append(e._nestElements(t(this),n)):s===a?i.find(d).last().after(e._nestElements(t(this),n)):i.find(d).last().after(t("<ul/>",{"class":h,"data-tag":s})).next(c).append(e._nestElements(t(this),n))},_setEventHandlers:function(){var n=this;this.element.on("click.tocify","li",function(){if(n.options.history&&(e.location.hash=t(this).attr("data-unique")),n.element.find("."+n.focusClass).removeClass(n.focusClass),t(this).addClass(n.focusClass),n.options.showAndHide){var i=t('li[data-unique="'+t(this).attr("data-unique")+'"]');n._triggerShow(i)}n._scrollTo(t(this))}),this.element.find("li").on({"mouseenter.tocify":function(){t(this).addClass(n.hoverClass),t(this).css("cursor","pointer")},"mouseleave.tocify":function(){"bootstrap"!==n.options.theme&&t(this).removeClass(n.hoverClass)}}),(n.options.extendPage||n.options.highlightOnScroll||n.options.scrollHistory||n.options.showAndHideOnScroll)&&t(e).on("scroll.tocify",function(){t("html, body").promise().done(function(){var r,s,a,o,l=t(e).scrollTop(),h=t(e).height(),c=t(i).height(),u=t("body")[0].scrollHeight;if(n.options.extendPage&&(n.webkit&&l>=u-h-n.options.extendPageOffset||!n.webkit&&h+l>c-n.options.extendPageOffset)&&!t(f).length){if(s=t('div[data-unique="'+t(d).last().attr("data-unique")+'"]'),!s.length)return;a=s.offset().top,t(n.options.context).append(t("<div />",{"class":p,height:Math.abs(a-l)+"px","data-unique":p})),n.extendPageScroll&&(o=n.element.find("li.active"),n._scrollTo(t('div[data-unique="'+o.attr("data-unique")+'"]')))}setTimeout(function(){var i,s=null,a=null,o=t(n.options.context).find("div[data-unique]");o.each(function(e){var i=Math.abs((t(this).next().length?t(this).next():t(this)).offset().top-l-n.options.highlightOffset);return null==s||s>i?(s=i,void(a=e)):!1}),i=t(o[a]).attr("data-unique"),r=t('li[data-unique="'+i+'"]'),n.options.highlightOnScroll&&r.length&&(n.element.find("."+n.focusClass).removeClass(n.focusClass),r.addClass(n.focusClass)),n.options.scrollHistory&&e.location.hash!=="#"+i&&e.location.replace("#"+i),n.options.showAndHideOnScroll&&n.options.showAndHide&&n._triggerShow(r,!0)},0)})})},show:function(e){var i=this;if(!e.is(":visible"))switch(e.find(c).length||e.parent().is(l)||e.parent().is(":visible")?e.children(c).length||e.parent().is(l)||(e=e.closest(c)):e=e.parents(c).add(e),i.options.showEffect){case"none":e.show();break;case"show":e.show(i.options.showEffectSpeed);break;case"slideDown":e.slideDown(i.options.showEffectSpeed);break;case"fadeIn":e.fadeIn(i.options.showEffectSpeed);break;default:e.show()}return e.parent().is(l)?i.hide(t(c).not(e)):i.hide(t(c).not(e.closest(l).find(c).not(e.siblings()))),i},hide:function(t){var e=this;switch(e.options.hideEffect){case"none":t.hide();break;case"hide":t.hide(e.options.hideEffectSpeed);break;case"slideUp":t.slideUp(e.options.hideEffectSpeed);break;case"fadeOut":t.fadeOut(e.options.hideEffectSpeed);break;default:t.hide()}return e},_triggerShow:function(t,e){var i=this;return t.parent().is(l)||t.next().is(c)?i.show(t.next(c),e):t.parent().is(c)&&i.show(t.parent(),e),i},_addCSSClasses:function(){return"jqueryui"===this.options.theme?(this.focusClass="ui-state-default",this.hoverClass="ui-state-hover",this.element.addClass("ui-widget").find(".toc-title").addClass("ui-widget-header").end().find("li").addClass("ui-widget-content")):"bootstrap"===this.options.theme?(this.element.find(l+","+c).addClass("nav nav-list"),this.focusClass="active"):(this.focusClass=r,this.hoverClass=s),this},setOption:function(){t.Widget.prototype._setOption.apply(this,arguments)},setOptions:function(){t.Widget.prototype._setOptions.apply(this,arguments)},_scrollTo:function(e){var i=this,n=i.options.smoothScroll||0,r=i.options.scrollTo,s=t('div[data-unique="'+e.attr("data-unique")+'"]');return s.length?(t("html, body").promise().done(function(){t("html, body").animate({scrollTop:s.offset().top-(t.isFunction(r)?r.call():r)+"px"},{duration:n})}),i):i}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return o.raw?t:encodeURIComponent(t)}function i(t){return o.raw?t:decodeURIComponent(t)}function n(t){return e(o.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),o.json?JSON.parse(t):t}catch(e){}}function s(e,i){var n=o.raw?e:r(e);return t.isFunction(i)?i(n):n}var a=/\+/g,o=t.cookie=function(r,a,l){if(arguments.length>1&&!t.isFunction(a)){if(l=t.extend({},o.defaults,l),"number"==typeof l.expires){var h=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*h)}return document.cookie=[e(r),"=",n(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;f>p;p++){var g=d[p].split("="),m=i(g.shift()),v=g.join("=");if(r&&r===m){u=s(v,a);break}r||void 0===(v=s(v))||(u[m]=v)}return u};o.defaults={},t.removeCookie=function(e,i){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),function(t){function e(t,e,r){var s=t[0],a=/er/.test(r)?_indeterminate:/bl/.test(r)?p:u,o=r==_update?{checked:s[u],disabled:s[p],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[a];if(/^(ch|di|in)/.test(r)&&!o)i(t,a);else if(/^(un|en|de)/.test(r)&&o)n(t,a);else if(r==_update)for(var l in o)o[l]?i(t,l,!0):n(t,l,!0);else e&&"toggle"!=r||(e||t[_callback]("ifClicked"),o?s[_type]!==c&&n(t,a):i(t,a))}function i(e,i,r){var f=e[0],g=e.parent(),m=i==u,v=i==_indeterminate,y=i==p,b=v?_determinate:m?d:"enabled",_=s(e,b+a(f[_type])),w=s(e,i+a(f[_type]));if(!0!==f[i]){if(!r&&i==u&&f[_type]==c&&f.name){var x=e.closest("form"),k='input[name="'+f.name+'"]',k=x.length?x.find(k):t(k);k.each(function(){this!==f&&t(this).data(l)&&n(t(this),i)})}v?(f[i]=!0,f[u]&&n(e,u,"force")):(r||(f[i]=!0),m&&f[_indeterminate]&&n(e,_indeterminate,!1)),o(e,m,i,r)}f[p]&&s(e,_cursor,!0)&&g.find("."+h).css(_cursor,"default"),g[_add](w||s(e,i)||""),g.attr("role")&&!v&&g.attr("aria-"+(y?p:u),"true"),g[_remove](_||s(e,b)||"")}function n(t,e,i){var n=t[0],r=t.parent(),l=e==u,c=e==_indeterminate,f=e==p,g=c?_determinate:l?d:"enabled",m=s(t,g+a(n[_type])),v=s(t,e+a(n[_type]));!1!==n[e]&&((c||!i||"force"==i)&&(n[e]=!1),o(t,l,g,i)),!n[p]&&s(t,_cursor,!0)&&r.find("."+h).css(_cursor,"pointer"),r[_remove](v||s(t,e)||""),r.attr("role")&&!c&&r.attr("aria-"+(f?p:u),"false"),r[_add](m||s(t,g)||"")}function r(e,i){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),i&&e[_callback](i),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function s(t,e,i){return t.data(l)?t.data(l).o[e+(i?"":"Class")]:void 0}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t,e,i,n){n||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+a(i)))}var l="iCheck",h=l+"-helper",c="radio",u="checked",d="un"+u,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(s,a){var o='input[type="checkbox"], input[type="'+c+'"]',d=t(),f=function(e){e.each(function(){var e=t(this);d=e.is(o)?d.add(e):d.add(e.find(o))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),f(this),d.each(function(){var i=t(this);"destroy"==s?r(i,"ifDestroyed"):e(i,!0,s),t.isFunction(a)&&a()});if("object"!=typeof s&&s)return this;var g=t.extend({checkedClass:u,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},s),m=g.handle,v=g.hoverClass||"hover",y=g.focusClass||"focus",b=g.activeClass||"active",_=!!g.labelHover,w=g.labelHoverClass||"hover",x=0|(""+g.increaseArea).replace("%","");return("checkbox"==m||m==c)&&(o='input[type="'+m+'"]'),-50>x&&(x=-50),f(this),d.each(function(){var s=t(this);r(s);var a=this,o=a.id,d=-x+"%",f=100+2*x+"%",f={position:"absolute",top:d,left:d,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:x?f:{position:"absolute",opacity:0},m="checkbox"==a[_type]?g.checkboxClass||"icheckbox":g.radioClass||"i"+c,k=t(_label+'[for="'+o+'"]').add(s.closest(_label)),C=!!g.aria,S=l+"-"+Math.random().toString(36).substr(2,6),M='<div class="'+m+'" '+(C?'role="'+a[_type]+'" ':"");C&&k.each(function(){M+='aria-labelledby="',this.id?M+=this.id:(this.id=S,M+=S),M+='"'}),M=s.wrap(M+"/>")[_callback]("ifCreated").parent().append(g.insert),f=t('<ins class="'+h+'"/>').css(f).appendTo(M),s.data(l,{o:g,s:s.attr("style")}).css(d),g.inheritClass&&M[_add](a.className||""),g.inheritID&&o&&M.attr("id",l+"-"+o),"static"==M.css("position")&&M.css("position","relative"),e(s,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var n=i[_type],r=t(this);if(!a[p]){if(n==_click){if(t(i.target).is("a"))return;e(s,!1,!0)}else _&&(/ut|nd/.test(n)?(M[_remove](v),r[_remove](w)):(M[_add](v),r[_add](w)));if(!_mobile)return!1;i.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e==_click?!1:"keydown"==e&&32==t?(a[_type]==c&&a[u]||(a[u]?n(s,u):i(s,u)),!1):void("keyup"==e&&a[_type]==c?!a[u]&&i(s,u):/us|ur/.test(e)&&M["blur"==e?_remove:_add](y))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var i=t[_type],n=/wn|up/.test(i)?b:v;if(!a[p]){if(i==_click?e(s,!1,!0):(/wn|er|in/.test(i)?M[_add](n):M[_remove](n+" "+b),k.length&&_&&n==v&&k[/ut|nd/.test(i)?_remove:_add](w)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto);